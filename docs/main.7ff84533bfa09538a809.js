(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=n("os0x"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",u=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(u){if(n)return null;throw u}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var u=Object(r.e)(o.value,2),a=u[1],c=this.normalizeInstanceIdentifier(u[0]);try{var l=this.getOrInitializeService(c);a.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new u(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new u(t,n)))}class u{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new a(t,this.project,this.concurrent))}}class a extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),u=n("2fFW"),a=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let u=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(u=Object.create(e),Object(r.a)(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=u.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(a.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(a.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);u.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw n;Object(a.a)(n)}}__tryOrSetError(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(a.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),u=n("jZKg"),a=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[a.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[a.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),u=n("SpAZ"),a=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,u=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(u.add(s?s.call(u,this.source):this.source||a.a.useDeprecatedSynchronousErrorHandling&&!u.syncErrorThrowable?this._subscribe(u):this._trySubscribe(u)),a.a.useDeprecatedSynchronousErrorHandling&&u.syncErrorThrowable&&(u.syncErrorThrowable=!1,u.syncErrorThrown))throw u.syncErrorValue;return u}_trySubscribe(t){try{return this._subscribe(t)}catch(e){a.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?u.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=a.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.9","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),u=n("I55L"),a=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(u.a)(t))return Object(r.a)(t);if(Object(a.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function u(...t){let e=Number.POSITIVE_INFINITY,n=null,u=t[t.length-1];return Object(i.a)(u)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof u&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),u=n("Ylt2"),a=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[a.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new u.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return on}),n.d(e,"b",function(){return Gu}),n.d(e,"c",function(){return Fu}),n.d(e,"d",function(){return Mu}),n.d(e,"e",function(){return Uu}),n.d(e,"f",function(){return Ma}),n.d(e,"g",function(){return xa}),n.d(e,"h",function(){return $s}),n.d(e,"i",function(){return na}),n.d(e,"j",function(){return ws}),n.d(e,"k",function(){return Qu}),n.d(e,"l",function(){return Is}),n.d(e,"m",function(){return mr}),n.d(e,"n",function(){return _u}),n.d(e,"o",function(){return Zi}),n.d(e,"p",function(){return pn}),n.d(e,"q",function(){return rn}),n.d(e,"r",function(){return go}),n.d(e,"s",function(){return qs}),n.d(e,"t",function(){return Hs}),n.d(e,"u",function(){return $u}),n.d(e,"v",function(){return iu}),n.d(e,"w",function(){return ja}),n.d(e,"x",function(){return ru}),n.d(e,"y",function(){return Ea}),n.d(e,"z",function(){return oa}),n.d(e,"A",function(){return gn}),n.d(e,"B",function(){return Bu}),n.d(e,"C",function(){return zu}),n.d(e,"D",function(){return Ts}),n.d(e,"E",function(){return Ss}),n.d(e,"F",function(){return Or}),n.d(e,"G",function(){return xs}),n.d(e,"H",function(){return dr}),n.d(e,"I",function(){return yn}),n.d(e,"J",function(){return Pa}),n.d(e,"K",function(){return Js}),n.d(e,"L",function(){return fa}),n.d(e,"M",function(){return sn}),n.d(e,"N",function(){return js}),n.d(e,"O",function(){return As}),n.d(e,"P",function(){return su}),n.d(e,"Q",function(){return M}),n.d(e,"R",function(){return Ia}),n.d(e,"S",function(){return _a}),n.d(e,"T",function(){return w}),n.d(e,"U",function(){return wa}),n.d(e,"V",function(){return Va}),n.d(e,"W",function(){return ga}),n.d(e,"X",function(){return Wu}),n.d(e,"Y",function(){return to}),n.d(e,"Z",function(){return ss}),n.d(e,"ab",function(){return hr}),n.d(e,"bb",function(){return Qn}),n.d(e,"cb",function(){return Ln}),n.d(e,"db",function(){return Un}),n.d(e,"eb",function(){return zn}),n.d(e,"fb",function(){return qn}),n.d(e,"gb",function(){return Fn}),n.d(e,"hb",function(){return Hn}),n.d(e,"ib",function(){return ns}),n.d(e,"jb",function(){return Ra}),n.d(e,"kb",function(){return rs}),n.d(e,"lb",function(){return is}),n.d(e,"mb",function(){return Mn}),n.d(e,"nb",function(){return z}),n.d(e,"ob",function(){return Io}),n.d(e,"pb",function(){return Lo}),n.d(e,"qb",function(){return Vo}),n.d(e,"rb",function(){return es}),n.d(e,"sb",function(){return kt}),n.d(e,"tb",function(){return y}),n.d(e,"ub",function(){return Vn}),n.d(e,"vb",function(){return yo}),n.d(e,"wb",function(){return St}),n.d(e,"xb",function(){return ys}),n.d(e,"yb",function(){return ii}),n.d(e,"zb",function(){return Co}),n.d(e,"Ab",function(){return Go}),n.d(e,"Bb",function(){return Du}),n.d(e,"Cb",function(){return tt}),n.d(e,"Db",function(){return ut}),n.d(e,"Eb",function(){return E}),n.d(e,"Fb",function(){return I}),n.d(e,"Gb",function(){return it}),n.d(e,"Hb",function(){return at}),n.d(e,"Ib",function(){return Ao}),n.d(e,"Jb",function(){return Do}),n.d(e,"Kb",function(){return Po}),n.d(e,"Lb",function(){return No}),n.d(e,"Mb",function(){return Ro}),n.d(e,"Nb",function(){return Je}),n.d(e,"Ob",function(){return Xo}),n.d(e,"Pb",function(){return Cn}),n.d(e,"Qb",function(){return tn}),n.d(e,"Rb",function(){return Lu}),n.d(e,"Sb",function(){return Mo}),n.d(e,"Tb",function(){return Ru}),n.d(e,"Ub",function(){return qo}),n.d(e,"Vb",function(){return jo}),n.d(e,"Wb",function(){return Pu}),n.d(e,"Xb",function(){return Qt}),n.d(e,"Yb",function(){return pr}),n.d(e,"Zb",function(){return ot}),n.d(e,"ac",function(){return xo}),n.d(e,"bc",function(){return Ko});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),u=n("7o/Q");function a(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends u.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return a()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function v(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function y(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(y).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function m(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const b=g({__forward_ref__:g});function w(t){return t.__forward_ref__=w,t.toString=function(){return y(this())},t}function _(t){return O(t)?t():t}function O(t){return"function"==typeof t&&t.hasOwnProperty(b)&&t.__forward_ref__===w}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function I(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function S(t){return T(t,x)||T(t,j)}function T(t,e){return t.hasOwnProperty(e)?t[e]:null}function C(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(k))?t[A]:null}const x=g({"\u0275prov":g}),A=g({"\u0275inj":g}),j=g({ngInjectableDef:g}),k=g({ngInjectorDef:g});var N=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let P;function D(t){const e=P;return P=t,e}function R(t,e,n){const r=S(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&N.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${y(t)}]`)}function V(t){return{toString:t}.toString()}var L=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),M=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const U="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,H="undefined"!=typeof global&&global,z=U||H||F||q,B={},G=[],W=g({"\u0275cmp":g}),$=g({"\u0275dir":g}),Q=g({"\u0275pipe":g}),Y=g({"\u0275mod":g}),K=g({"\u0275loc":g}),X=g({"\u0275fac":g}),Z=g({__NG_ELEMENT_ID__:g});let J=0;function tt(t){return V(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||G,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||M.Emulated,id:"c",styles:t.styles||G,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=J++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[$]||null}(t)}function nt(t){return function(t){return t[Q]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||G,declarations:t.declarations||G,imports:t.imports||G,exports:t.exports||G,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&V(()=>{rt[t.id]=t.type}),e}function ot(t,e){return V(()=>{const n=lt(t,!0);n.declarations=e.declarations||G,n.imports=e.imports||G,n.exports=e.exports||G})}function st(t,e){if(null==t)return B;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const ut=tt;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[W]||null}function lt(t,e){const n=t[Y]||null;if(!n&&!0===e)throw new Error(`Type ${y(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function vt(t){return 2==(2&t.flags)}function yt(t){return 1==(1&t.flags)}function mt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(X)?t[X]:null}class wt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function _t(t){return"string"==typeof t?t:null==t?"":String(t)}function Ot(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():_t(t)}function Et(t,e){const n=e?" in "+e:"";throw new wt("201",`No provider for ${Ot(t)} found${n}`)}class It{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function St(){return Tt}function Tt(t){return t.type.prototype.ngOnChanges&&(t.setInput=xt),Ct}function Ct(){const t=At(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function xt(t,e,n,r){const i=At(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),o=i.current||(i.current={}),s=i.previous,u=this.declaredInputs[n],a=s[u];o[u]=new It(a&&a.currentValue,e,s===B),t[r]=e}function At(t){return t.__ngSimpleChanges__||null}St.ngInherit=!0;let jt=void 0;function kt(t){jt=t}function Nt(t){return!!t.listen}const Pt={createRenderer:(t,e)=>void 0!==jt?jt:"undefined"!=typeof document?document:void 0};function Dt(t){for(;Array.isArray(t);)t=t[0];return t}function Rt(t,e){return Dt(e[t.index])}function Vt(t,e){return t.data[e]}function Lt(t,e){const n=e[t];return dt(n)?n:n[0]}function Mt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ut(t){return 4==(4&t[2])}function Ft(t){return 128==(128&t[2])}function qt(t,e){return null==e?null:t[e]}function Ht(t){t[18]=0}function zt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Bt={lFrame:le(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Gt(){return Bt.bindingsEnabled}function Wt(){return Bt.lFrame.lView}function $t(){return Bt.lFrame.tView}function Qt(t){Bt.lFrame.contextLView=t}function Yt(){let t=Kt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Kt(){return Bt.lFrame.currentTNode}function Xt(t,e){const n=Bt.lFrame;n.currentTNode=t,n.isParent=e}function Zt(){return Bt.lFrame.isParent}function Jt(){return Bt.isInCheckNoChangesMode}function te(t){Bt.isInCheckNoChangesMode=t}function ee(){return Bt.lFrame.bindingIndex++}function ne(t,e){const n=Bt.lFrame;n.bindingIndex=n.bindingRootIndex=t,re(e)}function re(t){Bt.lFrame.currentDirectiveIndex=t}function ie(){return Bt.lFrame.currentQueryIndex}function oe(t){Bt.lFrame.currentQueryIndex=t}function se(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ue(t,e,n){if(n&N.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&N.Host||(r=se(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Bt.lFrame=ce();return r.currentTNode=e,r.lView=t,!0}function ae(t){const e=ce(),n=t[1];Bt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ce(){const t=Bt.lFrame,e=null===t?null:t.child;return null===e?le(t):e}function le(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function he(){const t=Bt.lFrame;return Bt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const fe=he;function de(){const t=he();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function pe(){return Bt.lFrame.selectedIndex}function ge(t){Bt.lFrame.selectedIndex=t}function ve(){const t=Bt.lFrame;return Vt(t.tView,t.selectedIndex)}function ye(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:u}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=u&&(t.destroyHooks||(t.destroyHooks=[])).push(n,u)}}function me(t,e,n){_e(t,e,3,n)}function be(t,e,n,r){(3&t[2])===n&&_e(t,e,n,r)}function we(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function _e(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(s=e[u],null!=r&&s>=r)break}else e[u]<0&&(t[18]+=65536),(s<i||-1==i)&&(Oe(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function Oe(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const Ee=-1;class Ie{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Se(t,e,n){const r=Nt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],u=n[i++],a=n[i++];r?t.setAttribute(e,u,a,s):e.setAttributeNS(s,u,a)}else{const s=o,u=n[++i];Ce(s)?r&&t.setProperty(e,s,u):r?t.setAttribute(e,s,u):e.setAttribute(s,u),i++}}return i}function Te(t){return 3===t||4===t||6===t}function Ce(t){return 64===t.charCodeAt(0)}function xe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ae(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ae(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function je(t){return t!==Ee}function ke(t){return 32767&t}function Ne(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Pe=!0;function De(t){const e=Pe;return Pe=t,e}let Re=0;function Ve(t,e){const n=Me(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Le(r.data,t),Le(e,null),Le(r.blueprint,null));const i=Ue(t,e),o=t.injectorIndex;if(je(i)){const t=ke(i),n=Ne(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Le(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Me(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ue(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ee;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ee}function Fe(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Z)&&(r=n[Z]),null==r&&(r=n[Z]=Re++);const i=255&r,o=1<<i,s=64&i,u=32&i,a=e.data;128&i?s?u?a[t+7]|=o:a[t+6]|=o:u?a[t+5]|=o:a[t+4]|=o:s?u?a[t+3]|=o:a[t+2]|=o:u?a[t+1]|=o:a[t]|=o}(t,e,n)}function qe(t,e,n){if(n&N.Optional)return t;Et(e,"NodeInjector")}function He(t,e,n,r){if(n&N.Optional&&void 0===r&&(r=null),0==(n&(N.Self|N.Host))){const i=t[9],o=D(void 0);try{return i?i.get(e,r,n&N.Optional):R(e,r,n&N.Optional)}finally{D(o)}}return qe(r,e,n)}function ze(t,e,n,r=N.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Z)?t[Z]:void 0;return"number"==typeof e?e>=0?255&e:Ge:e}(n);if("function"==typeof o){if(!ue(e,t,r))return r&N.Host?qe(i,n,r):He(e,n,r,i);try{const t=o();if(null!=t||r&N.Optional)return t;Et(n)}finally{fe()}}else if("number"==typeof o){let i=null,s=Me(t,e),u=Ee,a=r&N.Host?e[16][6]:null;for((-1===s||r&N.SkipSelf)&&(u=-1===s?Ue(t,e):e[s+8],u!==Ee&&Ke(r,!1)?(i=e[1],s=ke(u),e=Ne(u,e)):s=-1);-1!==s;){const t=e[1];if(Ye(o,s,t.data)){const t=We(s,e,n,i,r,a);if(t!==Be)return t}u=e[s+8],u!==Ee&&Ke(r,e[1].data[s+8]===a)&&Ye(o,s,e)?(i=t,s=ke(u),e=Ne(u,e)):s=-1}}}return He(e,n,r,i)}const Be={};function Ge(){return new Xe(Yt(),Wt())}function We(t,e,n,r,i,o){const s=e[1],u=s.data[t+8],a=$e(u,s,n,null==r?vt(u)&&Pe:r!=s&&0!=(3&u.type),i&N.Host&&o===u);return null!==a?Qe(e,s,a,u):Be}function $e(t,e,n,r,i){const o=t.providerIndexes,s=e.data,u=1048575&o,a=t.directiveStart,c=o>>20,l=i?u+c:t.directiveEnd;for(let h=r?u:u+c;h<l;h++){const t=s[h];if(h<a&&n===t||h>=a&&t.type===n)return h}if(i){const t=s[a];if(t&&mt(t)&&t.type===n)return a}return null}function Qe(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Ie){const s=i;s.resolving&&function(t,e){throw new wt("200","Circular dependency in DI detected for "+t)}(Ot(o[n]));const u=De(s.canSeeViewProviders);s.resolving=!0;const a=s.injectImpl?D(s.injectImpl):null;ue(t,r,N.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Tt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==a&&D(a),De(u),s.resolving=!1,fe()}}return i}function Ye(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function Ke(t,e){return!(t&N.Self||t&N.Host&&e)}class Xe{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return ze(this._tNode,this._lView,t,void 0,e)}}function Ze(t){const e=t;if(O(t))return()=>{const t=Ze(_(e));return t?t():null};let n=bt(e);if(null===n){const t=C(e);n=t&&t.factory}return n||null}function Je(t){return V(()=>{const e=t.prototype.constructor,n=e[X]||Ze(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[X]||Ze(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function tn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Te(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Yt(),t)}const en="__parameters__";function nn(t,e,n){return V(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(en)?t[en]:Object.defineProperty(t,en,{value:[]})[en];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class rn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=E({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const on=new rn("AnalyzeForEntryComponents"),sn=Function;function un(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),un(r,e)):e!==t&&e.push(r)}return e}function an(t,e){t.forEach(t=>Array.isArray(t)?an(t,e):e(t))}function cn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ln(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function hn(t,e,n){let r=dn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function fn(t,e){const n=dn(t,e);if(n>=0)return t[1|n]}function dn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const pn=nn("Inject",t=>({token:t})),gn=nn("Optional"),vn=nn("Self"),yn=nn("SkipSelf"),mn=nn("Host"),bn={},wn=/\n/gm,_n="__source",On=g({provide:String,useValue:g});let En,In=void 0;function Sn(t){const e=In;return In=t,e}function Tn(t,e=N.Default){if(void 0===In)throw new Error("inject() must be called from an injection context");return null===In?R(t,void 0,e):In.get(t,e&N.Optional?null:void 0,e)}function Cn(t,e=N.Default){return(P||Tn)(_(t),e)}function xn(t){const e=[];for(let n=0;n<t.length;n++){const r=_(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=N.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof gn||"Optional"===i.ngMetadataName||i===gn?n|=N.Optional:i instanceof yn||"SkipSelf"===i.ngMetadataName||i===yn?n|=N.SkipSelf:i instanceof vn||"Self"===i.ngMetadataName||i===vn?n|=N.Self:i instanceof mn||"Host"===i.ngMetadataName||i===mn?n|=N.Host:t=i instanceof pn||i===pn?i.token:i}e.push(Cn(t,n))}else e.push(Cn(r))}return e}function An(t){var e;return(null===(e=function(){if(void 0===En&&(En=null,z.trustedTypes))try{En=z.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return En}())||void 0===e?void 0:e.createHTML(t))||t}class jn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class kn extends jn{getTypeName(){return"HTML"}}class Nn extends jn{getTypeName(){return"Style"}}class Pn extends jn{getTypeName(){return"Script"}}class Dn extends jn{getTypeName(){return"URL"}}class Rn extends jn{getTypeName(){return"ResourceURL"}}function Vn(t){return t instanceof jn?t.changingThisBreaksApplicationSecurity:t}function Ln(t,e){const n=Mn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Mn(t){return t instanceof jn&&t.getTypeName()||null}function Un(t){return new kn(t)}function Fn(t){return new Nn(t)}function qn(t){return new Pn(t)}function Hn(t){return new Dn(t)}function zn(t){return new Rn(t)}class Bn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(An(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Gn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=An(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=An(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Wn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$n=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Qn(t){return(t=String(t)).match(Wn)||t.match($n)?t:"unsafe:"+t}function Yn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Kn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Xn=Yn("area,br,col,hr,img,wbr"),Zn=Yn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Jn=Yn("rp,rt"),tr=Kn(Jn,Zn),er=Kn(Xn,Kn(Zn,Yn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Kn(Jn,Yn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tr),nr=Yn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rr=Yn("srcset"),ir=Kn(nr,rr,Yn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),or=Yn("script,style,template");class sr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!er.hasOwnProperty(e))return this.sanitizedSomething=!0,!or.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!ir.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;nr[o]&&(s=Qn(s)),rr[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Qn(t.trim())).join(", ")),this.buf.push(" ",e,'="',cr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();er.hasOwnProperty(e)&&!Xn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(cr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const ur=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ar=/([^\#-~ |!])/g;function cr(t){return t.replace(/&/g,"&amp;").replace(ur,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(ar,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let lr;function hr(t,e){let n=null;try{lr=lr||function(t){const e=new Gn(t);return function(){try{return!!(new window.DOMParser).parseFromString(An(""),"text/html")}catch(t){return!1}}()?new Bn(e):e}(t);let r=e?String(e):"";n=lr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=lr.getInertBodyElement(r)}while(r!==o);return(new sr).sanitizeChildren(fr(n)||n)}finally{if(n){const t=fr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function fr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var dr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function pr(t){const e=function(){const t=Wt();return t&&t[12]}();return e?e.sanitize(dr.URL,t)||"":Ln(t,"URL")?Vn(t):Qn(_t(t))}function gr(t){return t.ngDebugContext}function vr(t){return t.ngOriginalError}function yr(t,...e){t.error(...e)}class mr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||yr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?gr(t)?gr(t):this._findContext(vr(t)):null}_findOriginalError(t){let e=vr(t);for(;e&&vr(e);)e=vr(e);return e}}function br(t,e){t.__ngContext__=e}const wr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(z))();function _r(t){return t instanceof Function?t():t}var Or=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Er(t,e){return(void 0)(t,e)}function Ir(t){const e=t[3];return pt(e)?e[3]:e}function Sr(t){return Cr(t[13])}function Tr(t){return Cr(t[4])}function Cr(t){for(;null!==t&&!pt(t);)t=t[4];return t}function xr(t,e,n,r,i){if(null!=r){let o,s=!1;pt(r)?o=r:dt(r)&&(s=!0,r=r[0]);const u=Dt(r);0===t&&null!==n?null==i?Rr(e,n,u):Dr(e,n,u,i||null,!0):1===t&&null!==n?Dr(e,n,u,i||null,!0):2===t?function(t,e,n){const r=Lr(t,e);r&&function(t,e,n,r){Nt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,u,s):3===t&&e.destroyNode(u),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Dt(n)&&xr(e,t,r,o,i);for(let s=ft;s<n.length;s++){const i=n[s];Hr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Ar(t,e,n){return Nt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function jr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,zt(i,-1)),n.splice(r,1)}function kr(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&jr(o,r),e>0&&(t[n-1][4]=r[4]);const s=ln(t,ft+e);Hr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const u=s[19];null!==u&&u.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Nr(t,e){if(!(256&e[2])){const n=e[11];Nt(n)&&n.destroyNode&&Hr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Pr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Pr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Pr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Pr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ie)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):Dt(e[t]),u=r[i=n[o+2]],a=n[o+3];"boolean"==typeof a?s.removeEventListener(n[o],u,a):a>=0?r[i=a]():r[i=-a].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Nt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&jr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Dr(t,e,n,r,i){Nt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Rr(t,e,n){Nt(t)?t.appendChild(e,n):e.appendChild(n)}function Vr(t,e,n,r,i){null!==r?Dr(t,e,n,r,i):Rr(t,e,n)}function Lr(t,e){return Nt(t)?t.parentNode(e):e.parentNode}function Mr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===M.None||e===M.Emulated)return null}return Rt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?Rt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Vr(o,i,n[u],s,!1);else Vr(o,i,n,s,!1)}function Ur(t,e){if(null!==e){const n=e.type;if(3&n)return Rt(e,t);if(4&n)return Fr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Ur(t,n);{const n=t[e.index];return pt(n)?Fr(-1,n):Dt(n)}}if(32&n)return Er(e,t)()||Dt(t[e.index]);{const n=t[16],r=n[6],i=Ir(n),o=r.projection[e.projection];return null!=o?Ur(i,o):Ur(t,e.next)}}return null}function Fr(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Ur(t,r)}return e[7]}function qr(t,e,n,r,i,o,s){for(;null!=n;){const u=r[n.index],a=n.type;if(s&&0===e&&(u&&br(Dt(u),r),n.flags|=4),64!=(64&n.flags))if(8&a)qr(t,e,n.child,r,i,o,!1),xr(e,t,i,u,o);else if(32&a){const s=Er(n,r);let a;for(;a=s();)xr(e,t,i,a,o);xr(e,t,i,u,o)}else 16&a?zr(t,e,r,n,i,o):xr(e,t,i,u,o);n=s?n.projectionNext:n.next}}function Hr(t,e,n,r,i,o){qr(n,r,t.firstChild,e,i,o,!1)}function zr(t,e,n,r,i,o){const s=n[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let a=0;a<u.length;a++)xr(e,t,i,u[a],o);else qr(t,e,u,s[3],i,o,!0)}function Br(t,e,n){Nt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Gr(t,e,n){Nt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Wr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const $r="ng-template";function Qr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Wr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Yr(t){return 4===t.type&&t.value!==$r}function Kr(t,e,n){return e===(4!==t.type||n?t.value:$r)}function Xr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Te(t[e]))return e;return t.length}(i);let s=!1;for(let u=0;u<e.length;u++){const a=e[u];if("number"!=typeof a){if(!s)if(4&r){if(r=2|1&r,""!==a&&!Kr(t,a,n)||""===a&&1===e.length){if(Zr(r))return!1;s=!0}}else{const c=8&r?a:e[++u];if(8&r&&null!==t.attrs){if(!Qr(t.attrs,c,n)){if(Zr(r))return!1;s=!0}continue}const l=Jr(8&r?"class":a,i,Yr(t),n);if(-1===l){if(Zr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Wr(e,c,0)||2&r&&c!==t){if(Zr(r))return!1;s=!0}}}}else{if(!s&&!Zr(r)&&!Zr(a))return!1;if(s&&Zr(a))continue;s=!1,r=a|1&r}}return Zr(r)||s}function Zr(t){return 0==(1&t)}function Jr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ti(t,e,n=!1){for(let r=0;r<e.length;r++)if(Xr(t,e[r],n))return!0;return!1}function ei(t,e){return t?":not("+e.trim()+")":e}function ni(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Zr(s)||(e+=ei(o,i),i=""),r=s,o=o||!Zr(r);n++}return""!==i&&(e+=ei(o,i)),e}const ri={};function ii(t){oi($t(),Wt(),pe()+t,Jt())}function oi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&me(e,r,n)}else{const r=t.preOrderHooks;null!==r&&be(e,r,0,n)}ge(n)}function si(t,e){return t<<17|e<<2}function ui(t){return t>>17&32767}function ai(t){return 2|t}function ci(t){return(131068&t)>>2}function li(t,e){return-131069&t|e<<2}function hi(t){return 1|t}function fi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];oe(i),n.contentQueries(2,e[o],o)}}}function di(t,e,n,r,i,o,s,u,a,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ht(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=u||t&&t[11],l[12]=a||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function pi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Kt(),s=Zt(),u=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u)),u}(t,e,n,r,i),Bt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Bt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Xt(o,!0),o}function gi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function vi(t,e,n){ae(e);try{const r=t.viewQuery;null!==r&&Gi(1,r,n);const i=t.template;null!==i&&bi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&fi(t,e),t.staticViewQueries&&Gi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Fi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,de()}}function yi(t,e,n,r){const i=e[2];if(256==(256&i))return;ae(e);const o=Jt();try{Ht(e),Bt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&bi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&me(e,n,null)}else{const n=t.preOrderHooks;null!==n&&be(e,n,0,null),we(e,0)}if(function(t){for(let e=Sr(t);null!==e;e=Tr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&zt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Sr(t);null!==e;e=Tr(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];Ft(n)&&yi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&fi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&me(e,n)}else{const n=t.contentHooks;null!==n&&be(e,n,1),we(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ge(~r);else{const i=r,o=n[++t],s=n[++t];ne(o,i),s(2,e[i])}}}finally{ge(-1)}}(t,e);const u=t.components;null!==u&&function(t,e){for(let n=0;n<e.length;n++)Mi(t,e[n])}(e,u);const a=t.viewQuery;if(null!==a&&Gi(2,a,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&me(e,n)}else{const n=t.viewHooks;null!==n&&be(e,n,2),we(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,zt(e[3],-1))}finally{de()}}function mi(t,e,n,r){const i=e[10],o=!Jt(),s=Ut(e);try{o&&!s&&i.begin&&i.begin(),s&&vi(t,e,r),yi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function bi(t,e,n,r,i){const o=pe();try{ge(-1),2&r&&e.length>ht&&oi(t,e,ht,Jt()),n(r,i)}finally{ge(o)}}function wi(t,e,n){Gt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Ve(n,e),br(r,e);const s=n.initialInputs;for(let u=i;u<o;u++){const r=t.data[u],o=mt(r);o&&Di(e,n,r);const a=Qe(e,t,u,n);br(a,e),null!==s&&Ri(0,u-i,a,r,0,s),o&&(Lt(n.index,e)[8]=a)}}(t,e,n,Rt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Bt.lFrame.currentDirectiveIndex;try{ge(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];re(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Ai(r,i)}}finally{ge(-1),re(s)}}(t,e,n))}function _i(t,e,n=Rt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],u=-1===s?n(e,t):t[s];t[i++]=u}}}function Oi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ei(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ei(t,e,n,r,i,o,s,u,a,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ri);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:u,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:a,consts:d,incompleteFirstPass:!1}}function Ii(t,e,n,r){const i=$i(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Qi(t).push(r,i.length-1))}function Si(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ti(t,e,n,r,i,o,s,u){const a=Rt(e,n);let c,l=e.inputs;var h;!u&&null!=l&&(c=l[r])?(Ki(t,n,c,r,i),vt(e)&&function(t,e){const n=Lt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,Nt(o)?o.setProperty(a,r,i):Ce(r)||(a.setProperty?a.setProperty(r,i):a[r]=i))}function Ci(t,e,n,r){let i=!1;if(Gt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ti(n,s.selectors,!1)&&(i||(i=[]),Fe(Ve(n,e),t,s.type),mt(s)?(ji(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Ni(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,u=!1,a=gi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=xe(n.mergedAttrs,c.hostAttrs),Pi(t,n,e,a,c),ki(a,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),a++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,u=null;for(let a=e.directiveStart;a<n;a++){const t=r[a],n=t.inputs,c=null===i||Yr(e)?null:Vi(n,i);o.push(c),s=Si(n,a,s),u=Si(t.outputs,a,u)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=u}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new wt("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=xe(n.mergedAttrs,n.attrs),i}function xi(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Ai(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ji(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ki(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;mt(e)&&(n[""]=t)}}function Ni(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Pi(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=bt(i.type)),s=new Ie(o,mt(i),null);t.blueprint[r]=s,n[r]=s,xi(t,e,0,r,gi(t,n,i.hostVars,ri),i)}function Di(t,e,n){const r=Rt(e,t),i=Oi(n),o=t[10],s=qi(t,di(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Ri(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],u=s[e++];null!==t?r.setInput(n,u,i,o):n[o]=u}}}function Vi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Li(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Mi(t,e){const n=Lt(e,t);if(Ft(n)){const t=n[1];80&n[2]?yi(t,n,t.template,n[8]):n[5]>0&&Ui(n)}}function Ui(t){for(let n=Sr(t);null!==n;n=Tr(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];yi(t,e,t.template,e[8])}else e[5]>0&&Ui(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Lt(e[n],t);Ft(r)&&r[5]>0&&Ui(r)}}function Fi(t,e){const n=Lt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),vi(r,n,n[8])}function qi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Hi(t){for(;t;){t[2]|=64;const e=Ir(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function zi(t,e,n){const r=e[10];r.begin&&r.begin();try{yi(t,e,t.template,n)}catch(i){throw Yi(e,i),i}finally{r.end&&r.end()}}function Bi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Mt(n),i=r[1];mi(i,r,i.template,n)}}(t[8])}function Gi(t,e,n){oe(0),e(t,n)}const Wi=(()=>Promise.resolve(null))();function $i(t){return t[7]||(t[7]=[])}function Qi(t){return t.cleanup||(t.cleanup=[])}function Yi(t,e){const n=t[9],r=n?n.get(mr,null):null;r&&r.handleError(e)}function Ki(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],u=n[o++],a=e[s],c=t.data[s];null!==c.setInput?c.setInput(a,i,r,u):a[u]=i}}function Xi(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=m(i,t):2==o&&(r=m(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Zi=new rn("INJECTOR",-1);class Ji{get(t,e=bn){if(e===bn){const e=new Error(`NullInjectorError: No provider for ${y(t)}!`);throw e.name="NullInjectorError",e}return e}}const to=new rn("Set Injector scope."),eo={},no={},ro=[];let io=void 0;function oo(){return void 0===io&&(io=new Ji),io}function so(t,e=null,n=null,r){return new uo(t,n,e||oo(),r)}class uo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&an(e,n=>this.processProvider(n,t,e)),an([t],t=>this.processInjectorType(t,[],i)),this.records.set(Zi,lo(void 0,this));const o=this.records.get(to);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:y(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=bn,n=N.Default){this.assertNotDestroyed();const r=Sn(this);try{if(!(n&N.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof rn)&&S(t);e=n&&this.injectableDefInScope(n)?lo(ao(t),eo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&N.Self?oo():this.parent).get(t,e=n&N.Optional&&e===bn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(y(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[_n]&&i.unshift(e[_n]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=y(e);if(Array.isArray(e))i=e.map(y).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):y(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(wn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{Sn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(y(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=_(t)))return!1;let r=C(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=C(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{an(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];an(r,t=>this.processProvider(t,n,r||ro))}}this.injectorDefTypes.add(o),this.records.set(o,lo(r.factory,eo));const u=r.providers;if(null!=u&&!s){const e=t;an(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=fo(t=_(t))?t:_(t&&t.provide);const i=function(t,e,n){return ho(t)?lo(void 0,t.useValue):lo(co(t),eo)}(t);if(fo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=lo(void 0,eo,!0),e.factory=()=>xn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===eo&&(e.value=no,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ao(t){const e=S(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;const r=C(t);if(null!==r)return r.factory;if(t instanceof rn)throw new Error(`Token ${y(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${y(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[x]||t[j]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function co(t,e,n){let r=void 0;if(fo(t)){const e=_(t);return bt(e)||ao(e)}if(ho(t))r=()=>_(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...xn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Cn(_(t.useExisting));else{const e=_(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||ao(e);r=()=>new e(...xn(t.deps))}var i;return r}function lo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ho(t){return null!==t&&"object"==typeof t&&On in t}function fo(t){return"function"==typeof t}const po=function(t,e,n){return function(t,e=null,n=null,r){const i=so(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let go=(()=>{class t{static create(t,e){return Array.isArray(t)?po(t,e,""):po(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=bn,t.NULL=new Ji,t.\u0275prov=E({token:t,providedIn:"any",factory:()=>Cn(Zi)}),t.__NG_ELEMENT_ID__=-1,t})();function vo(t,e){ye(Mt(t)[1],Yt())}function yo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(mt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=mo(t.inputs),e.declaredInputs=mo(t.declaredInputs),e.outputs=mo(t.outputs);const n=i.hostBindings;n&&_o(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&bo(t,o),s&&wo(t,s),v(t.inputs,i.inputs),v(t.declaredInputs,i.declaredInputs),v(t.outputs,i.outputs),mt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===yo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=xe(i.hostAttrs,n=xe(n,i.hostAttrs))}}(r)}function mo(t){return t===B?{}:t===G?[]:t}function bo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function wo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function _o(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Oo=null;function Eo(){if(!Oo){const t=z.Symbol;if(t&&t.iterator)Oo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Oo=n)}}}return Oo}function Io(t){return!!So(t)&&(Array.isArray(t)||!(t instanceof Map)&&Eo()in t)}function So(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function To(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Co(t,e,n,r){const i=Wt();return To(i,ee(),e)&&($t(),function(t,e,n,r,i,o){const s=Rt(t,e);!function(t,e,n,r,i,o,s){if(null==o)Nt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const u=null==s?_t(o):s(o,r||"",i);Nt(t)?t.setAttribute(e,i,u,n):n?e.setAttributeNS(n,i,u):e.setAttribute(i,u)}}(e[11],s,o,t.value,n,r,i)}(ve(),i,t,e,n,r)),Co}function xo(t,e,n,r,i,o,s,u){const a=Wt(),c=$t(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,o,s,u,a){const c=e.consts,l=pi(e,t,4,s||null,qt(c,u));Ci(e,n,l,qt(c,a)),ye(e,l);const h=l.tViews=Ei(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,a,e,n,r,i,o,s):c.data[l];Xt(h,!1);const f=a[11].createComment("");Mr(c,a,f,h),br(f,a),qi(a,a[l]=Li(f,a,f,h)),yt(h)&&wi(c,a,h),null!=s&&_i(a,h,u)}function Ao(t,e=N.Default){const n=Wt();return null===n?Cn(t,e):ze(Yt(),n,_(t),e)}function jo(t,e,n){const r=Wt();return To(r,ee(),e)&&Ti($t(),ve(),r,t,e,r[11],n,!1),jo}function ko(t,e,n,r,i){const o=i?"class":"style";Ki(t,n,e.inputs[o],o,r)}function No(t,e,n,r){const i=Wt(),o=$t(),s=ht+t,u=i[11],a=i[s]=Ar(u,e,Bt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const u=e.consts,a=pi(e,t,2,i,qt(u,o));return Ci(e,n,a,qt(u,s)),null!==a.attrs&&Xi(a,a.attrs,!1),null!==a.mergedAttrs&&Xi(a,a.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,a),a}(s,o,i,0,e,n,r):o.data[s];Xt(c,!0);const l=c.mergedAttrs;null!==l&&Se(u,a,l);const h=c.classes;null!==h&&Gr(u,a,h);const f=c.styles;null!==f&&Br(u,a,f),64!=(64&c.flags)&&Mr(o,i,a,c),0===Bt.lFrame.elementDepthCount&&br(a,i),Bt.lFrame.elementDepthCount++,yt(c)&&(wi(o,i,c),function(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&_i(i,c)}function Po(){let t=Yt();Zt()?Bt.lFrame.isParent=!1:(t=t.parent,Xt(t,!1));const e=t;Bt.lFrame.elementDepthCount--;const n=$t();n.firstCreatePass&&(ye(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&ko(n,e,Wt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&ko(n,e,Wt(),e.stylesWithoutHost,!1)}function Do(t,e,n,r){No(t,e,n,r),Po()}function Ro(){return Wt()}function Vo(t){return!!t&&"function"==typeof t.then}function Lo(t){return!!t&&"function"==typeof t.subscribe}function Mo(t,e,n=!1,r){const i=Wt(),o=$t(),s=Yt();return function(t,e,n,r,i,o,s=!1,u){const a=yt(r),c=t.firstCreatePass&&Qi(t),l=$i(e);let h=!0;if(3&r.type){const f=Rt(r,e),d=u?u(f):B,p=d.target||f,g=l.length,v=u?t=>u(Dt(t[r.index])).target:r.index;if(Nt(n)){let s=null;if(!u&&a&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Fo(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,v,g,g+1)}}else o=Fo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,v,g,s)}else o=Fo(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Mo}function Uo(t,e,n){try{return!1!==e(n)}catch(r){return Yi(t,r),!1}}function Fo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Lt(t.index,e):e;0==(32&e[2])&&Hi(s);let u=Uo(e,n,o),a=i.__ngNextListenerFn__;for(;a;)u=Uo(e,a,o)&&u,a=a.__ngNextListenerFn__;return r&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function qo(t=1){return function(t){return(Bt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Bt.lFrame.contextLView))[8]}(t)}const Ho=[];function zo(t,e,n,r,i){const o=t[n+1],s=null===e;let u=r?ui(o):ci(o),a=!1;for(;0!==u&&(!1===a||s);){const n=t[u+1];Bo(t[u],e)&&(a=!0,t[u+1]=r?hi(n):ai(n)),u=r?ui(n):ci(n)}a&&(t[n+1]=r?ai(o):hi(o))}function Bo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&dn(t,e)>=0}function Go(t,e){return function(t,e,n,r){const i=Wt(),o=$t(),s=function(t){const e=Bt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[pe()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Bt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=$o(n=Wo(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Wo(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==ci(r))return t[ui(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=Wo(null,t,e,n[1],r),n=$o(n,e.attrs,r),function(t,e,n,r){t[ui(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=$o(r,t[o].hostAttrs,true);return $o(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,u=ui(s),a=ci(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||dn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==a){const e=ui(t[u+1]);t[r+1]=si(e,u),0!==e&&(t[e+1]=li(t[e+1],r)),t[u+1]=131071&t[u+1]|r<<17}else t[r+1]=si(u,0),0!==u&&(t[u+1]=li(t[u+1],r)),u=r;else t[r+1]=si(a,0),0===u?u=r:t[a+1]=li(t[a+1],r),a=r;l&&(t[r+1]=ai(t[r+1])),zo(t,c,r,!0),zo(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&dn(o,e)>=0&&(n[r+1]=hi(n[r+1]))}(e,c,t,r),s=si(u,a),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==ri&&To(i,s,e)&&function(t,e,n,r,i,o,s,u){if(!(3&e.type))return;const a=t.data,c=a[u+1];Yo(1==(1&c)?Qo(a,e,n,i,ci(c),s):void 0)||(Yo(o)||function(t){return 2==(2&t)}(c)&&(o=Qo(a,null,n,i,u,s)),function(t,e,n,r,i){const o=Nt(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,function(t,e){return Dt(e[t])}(pe(),n),i,o))}(o,o.data[pe()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=y(Vn(t))),t}(e),true,s)}(t,e),Go}function Wo(t,e,n,r,i){let o=null;const s=n.directiveEnd;let u=n.directiveStylingLast;for(-1===u?u=n.directiveStart:u++;u<s&&(o=e[u],r=$o(r,o.hostAttrs,i),o!==t);)u++;return null!==t&&(n.directiveStylingLast=u),r}function $o(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),hn(t,s,!!n||e[++o]))}return void 0===t?null:t}function Qo(t,e,n,r,i,o){const s=null===e;let u=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),a=o?e[1]:e,c=null===a;let l=n[i+1];l===ri&&(l=c?Ho:void 0);let h=c?fn(l,r):a===r?l:void 0;if(o&&!Yo(h)&&(h=fn(e,r)),Yo(h)&&(u=h,s))return u;const f=t[i+1];i=s?ui(f):ci(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(u=fn(t,r))}return u}function Yo(t){return void 0!==t}function Ko(t,e=""){const n=Wt(),r=$t(),i=t+ht,o=r.firstCreatePass?pi(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return Nt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Mr(r,n,s,o),Xt(o,!1)}function Xo(t,e,n){const r=Wt();return To(r,ee(),e)&&Ti($t(),ve(),r,t,e,r[11],n,!0),Xo}const Zo=void 0;var Jo=["en",[["a","p"],["AM","PM"],Zo],[["AM","PM"],Zo,Zo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zo,"{1} 'at' {0}",Zo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ts={};function es(t,e,n){"string"!=typeof e&&(n=e,e=t[ss.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ts[e]=t,n&&(ts[e][ss.ExtraData]=n)}function ns(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=os(e);if(n)return n;const r=e.split("-")[0];if(n=os(r),n)return n;if("en"===r)return Jo;throw new Error(`Missing locale data for the locale "${t}".`)}function rs(t){return ns(t)[ss.CurrencyCode]||null}function is(t){return ns(t)[ss.PluralCase]}function os(t){return t in ts||(ts[t]=z.ng&&z.ng.common&&z.ng.common.locales&&z.ng.common.locales[t]),ts[t]}var ss=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const us="en-US";let as=us;function cs(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(as=t.toLowerCase().replace(/_/g,"-"))}function ls(t,e,n,r,i){if(t=_(t),Array.isArray(t))for(let o=0;o<t.length;o++)ls(t[o],e,n,r,i);else{const o=$t(),s=Wt();let u=fo(t)?t:_(t.provide),a=co(t);const c=Yt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(fo(t)||!t.multi){const r=new Ie(a,i,Ao),d=ds(u,e,i?l:l+f,h);-1===d?(Fe(Ve(c,s),o,u),hs(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=ds(u,e,l+f,h),p=ds(u,e,l,l+f),g=d>=0&&n[d],v=p>=0&&n[p];if(i&&!v||!i&&!g){Fe(Ve(c,s),o,u);const l=function(t,e,n,r,i){const o=new Ie(t,n,Ao);return o.multi=[],o.index=e,o.componentProviders=0,fs(o,i,r&&!n),o}(i?gs:ps,n.length,i,r,a);!i&&v&&(n[p].providerFactory=l),hs(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else hs(o,t,d>-1?d:p,fs(n[i?p:d],a,!i&&r));!i&&r&&v&&n[p].componentProviders++}}}function hs(t,e,n,r){const i=fo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function fs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ds(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ps(t,e,n,r){return vs(this.multi,[])}function gs(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Qe(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),vs(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],vs(i,o);return o}function vs(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ys(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=$t();if(r.firstCreatePass){const i=mt(t);ls(n,r.data,r.blueprint,i,!0),ls(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class ms{}class bs{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${y(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let ws=(()=>{class t{}return t.NULL=new bs,t})();function _s(...t){}function Os(t,e){return new Is(Rt(t,e))}const Es=function(){return Os(Yt(),Wt())};let Is=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Es,t})();class Ss{}let Ts=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Cs(),t})();const Cs=function(){const t=Wt(),e=Lt(Yt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let xs=(()=>{class t{}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>null}),t})();class As{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const js=new As("11.0.9");class ks{constructor(){}supports(t){return Io(t)}create(t){return new Ps(t)}}const Ns=(t,e)=>e;class Ps{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ns}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Ls(n,r,i)?e:n,s=Ls(o,r,i),u=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=u-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==u&&t(o,s,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Io(t))throw new Error(`Error trying to diff '${y(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Eo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Ds(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Vs),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Vs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ds{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Rs{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Vs{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Rs,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ls(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ms{constructor(){}supports(t){return t instanceof Map||So(t)}create(){return new Us}}class Us{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||So(t)))throw new Error(`Error trying to diff '${y(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Fs(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Fs{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let qs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new yn,new gn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>new t([new ks])}),t})(),Hs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new yn,new gn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>new t([new Ms])}),t})();function zs(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Dt(o)),pt(o))for(let t=ft;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&zs(e[1],e,n,r)}const s=n.type;if(8&s)zs(t,e,n.child,r);else if(32&s){const t=Er(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Ir(t);zs(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class Bs{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return zs(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(kr(t,n),ln(e,n))}this._attachedToViewContainer=!1}Nr(this._lView[1],this._lView)}onDestroy(t){Ii(this._lView[1],this._lView,null,t)}markForCheck(){Hi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){zi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){te(!0);try{zi(t,e,n)}finally{te(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Hr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Gs extends Bs{constructor(t){super(t),this._view=t}detectChanges(){Bi(this._view)}checkNoChanges(){!function(t){te(!0);try{Bi(t)}finally{te(!1)}}(this._view)}get context(){return null}}const Ws=Qs;let $s=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ws,t.__ChangeDetectorRef__=!0,t})();function Qs(t=!1){return function(t,e,n){if(!n&&vt(t)){const n=Lt(t.index,e);return new Bs(n,n)}return 47&t.type?new Bs(e[16],e):null}(Yt(),Wt(),t)}const Ys=[new Ms],Ks=new qs([new ks]),Xs=new Hs(Ys),Zs=function(){return nu(Yt(),Wt())};let Js=(()=>{class t{}return t.__NG_ELEMENT_ID__=Zs,t})();const tu=Js,eu=class extends tu{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=di(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),vi(e,n,t),new Bs(n)}};function nu(t,e){return 4&t.type?new eu(e,t,Os(t,e)):null}class ru{}class iu{}const ou=function(){return hu(Yt(),Wt())};let su=(()=>{class t{}return t.__NG_ELEMENT_ID__=ou,t})();const uu=su,au=class extends uu{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Os(this._hostTNode,this._hostLView)}get injector(){return new Xe(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ue(this._hostTNode,this._hostLView);if(je(t)){const e=Ne(t,this._hostLView),n=ke(t);return new Xe(e[1].data[n+8],e)}return new Xe(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=cu(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(ru,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new au(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ft+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ft?(e[4]=n[i],cn(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const u=e[19];null!==u&&u.insertView(t),e[2]|=128}(r,n,o,i);const s=Fr(i,o),u=n[11],a=Lr(u,o[7]);return null!==a&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Hr(t,r,n,1,i,o)}(r,o[6],u,n,a,s),t.attachToViewContainerRef(),cn(lu(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=cu(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=kr(this._lContainer,e);n&&(ln(lu(this._lContainer),e),Nr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=kr(this._lContainer,e);return n&&null!=ln(lu(this._lContainer),e)?new Bs(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function cu(t){return t[8]}function lu(t){return t[8]||(t[8]=[])}function hu(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=Dt(r);else{const n=e[11];i=n.createComment("");const r=Rt(t,e);Dr(n,Lr(n,r),i,function(t,e){return Nt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Li(r,e,i,t),qi(e,n)}return new au(n,t,e)}const fu={};class du extends ws{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new vu(e,this.ngModule)}}function pu(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const gu=new rn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>wr});class vu extends ms{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ni).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return pu(this.componentDef.inputs)}get outputs(){return pu(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,fu,i);return o!==fu||r===fu?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Ss,Pt),s=i.get(xs,null),u=o.createRenderer(null,this.componentDef),a=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Nt(t))return t.selectRootElement(e,n===M.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,n,this.componentDef.encapsulation):Ar(o.createRenderer(null,this.componentDef),a,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(a)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:wr,clean:Wi,playerHandler:null,flags:0},f=Ei(0,null,null,1,0,null,null,null,null,null),d=di(null,f,h,l,null,null,o,u,s,i);let p,g;ae(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const u=pi(s,20,2,"#host",null),a=u.mergedAttrs=e.hostAttrs;null!==a&&(Xi(u,a,!0),null!==t&&(Se(i,t,a),null!==u.classes&&Gr(i,t,u.classes),null!==u.styles&&Br(i,t,u.styles)));const c=r.createRenderer(t,e),l=di(n,Oi(e),null,e.onPush?64:16,n[20],u,r,c,null,null);return s.firstCreatePass&&(Fe(Ve(u,n),s,e.type),ji(s,u),Ni(u,n.length,1)),qi(n,l),n[20]=l}(c,this.componentDef,d,o,u);if(c)if(n)Se(u,c,["ng-version",js.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Zr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Se(u,c,t),e&&e.length>0&&Gr(u,c,e.join(" "))}if(g=Vt(f,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Yt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Pi(t,r,e,gi(t,e,1,null),n));const i=Qe(e,t,r.directiveStart,r);br(i,e);const o=Rt(r,e);return o&&br(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Yt();e.contentQueries(1,s,t.directiveStart)}const u=Yt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ge(u.index),xi(n[1],u,0,u.directiveStart,u.directiveEnd,e),Ai(e,s)),s}(t,this.componentDef,d,h,[vo]),vi(f,d,null)}finally{de()}return new yu(this.componentType,p,Os(g,d),d,g)}}class yu extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Gs(r),this.componentType=t}get injector(){return new Xe(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const mu=new Map;class bu extends ru{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new du(this);const n=lt(t),r=t[K]||null;r&&cs(r),this._bootstrapComponents=_r(n.bootstrap),this._r3Injector=so(t,e,[{provide:ru,useValue:this},{provide:ws,useValue:this.componentFactoryResolver}],y(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=go.THROW_IF_NOT_FOUND,n=N.Default){return t===go||t===ru||t===Zi?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class wu extends iu{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${y(e)} vs ${y(e.name)}`)}(i,mu.get(i),n),mu.set(i,n));const o=_r(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new bu(this.moduleType,t)}}const _u=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const u=super.subscribe(r,o,s);return t instanceof i.a&&t.add(u),u}};function Ou(){return this._results[Eo()]()}class Eu{constructor(){this.dirty=!0,this._results=[],this.changes=new _u,this.length=0;const t=Eo(),e=Eu.prototype;e[t]||(e[t]=Ou)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=un(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Iu{constructor(t){this.queryList=t,this.matches=null}clone(){return new Iu(this.queryList)}setDirty(){this.queryList.setDirty()}}class Su{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Su(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Vu(t,e).matches&&this.queries[e].setDirty()}}class Tu{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Cu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Cu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class xu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new xu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Au(e,i)),this.matchTNodeWithReadOption(t,e,$e(e,t,i,!1,!1))}else n===Js?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,$e(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Is||r===su||r===Js&&4&e.type)this.addMatch(e.index,-2);else{const n=$e(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Au(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function ju(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Os(t,e):4&t.type?nu(t,e):null}(e,t):-2===n?function(t,e,n){return n===Is?Os(e,t):n===Js?nu(e,t):n===su?hu(e,t):void 0}(t,e,r):Qe(t,t[1],n,e)}function ku(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:ju(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Nu(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=ku(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ft;t<s.length;t++){const e=s[t];e[17]===e[3]&&Nu(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Nu(n[1],n,i,r)}}}}}return r}function Pu(t){const e=Wt(),n=$t(),r=ie();oe(r+1);const i=Vu(n,r);if(t.dirty&&Ut(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Nu(n,e,r,[]):ku(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Du(t,e,n,r){!function(t,e,n,r,i,o,s,u){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new Cu),t.queries.track(new xu(e,n))}(t,new Tu(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,u)),function(t,e){const n=new Eu;Ii(t,e,n,n.destroy),null===e[19]&&(e[19]=new Su),e[19].queries.push(new Iu(n))}(t,e)}($t(),Wt(),e,n,r,0,Yt(),t)}function Ru(){return t=Wt(),e=ie(),t[19].queries[e].queryList;var t,e}function Vu(t,e){return t.queries.getByIndex(e)}function Lu(t=N.Default){const e=Qs(!0);if(null!=e||t&N.Optional)return e;Et("ChangeDetectorRef")}const Mu=new rn("Application Initializer");let Uu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=_s,this.reject=_s,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Vo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Cn(Mu,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Fu=new rn("AppId"),qu={provide:Fu,useFactory:function(){return`${Hu()}${Hu()}${Hu()}`},deps:[]};function Hu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const zu=new rn("Platform Initializer"),Bu=new rn("Platform ID"),Gu=new rn("appBootstrapListener");let Wu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const $u=new rn("LocaleId"),Qu=new rn("DefaultCurrencyCode");class Yu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Ku=function(t){return new wu(t)},Xu=Ku,Zu=function(t){return Promise.resolve(Ku(t))},Ju=function(t){const e=Ku(t),n=_r(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new vu(n)),t},[]);return new Yu(e,n)},ta=Ju,ea=function(t){return Promise.resolve(Ju(t))};let na=(()=>{class t{constructor(){this.compileModuleSync=Xu,this.compileModuleAsync=Zu,this.compileModuleAndAllComponentsSync=ta,this.compileModuleAndAllComponentsAsync=ea}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const ra=(()=>Promise.resolve(0))();function ia(t){"undefined"==typeof Zone?ra.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class oa{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _u(!1),this.onMicrotaskEmpty=new _u(!1),this.onStable=new _u(!1),this.onError=new _u(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=z.requestAnimationFrame,e=z.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(z,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,aa(t),ua(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),aa(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,u)=>{try{return ca(t),n.invokeTask(i,o,s,u)}finally{e&&"eventTask"===o.type&&e(),la(t)}},onInvoke:(e,n,r,i,o,s,u)=>{try{return ca(t),e.invoke(r,i,o,s,u)}finally{la(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,aa(t),ua(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!oa.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(oa.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,sa,_s,_s);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const sa={};function ua(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function aa(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function ca(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function la(t){t._nesting--,ua(t)}class ha{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _u,this.onMicrotaskEmpty=new _u,this.onStable=new _u,this.onError=new _u}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let fa=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{oa.assertNotInAngularZone(),ia(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ia(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Cn(oa))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})(),da=(()=>{class t{constructor(){this._applications=new Map,ya.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return ya.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();class pa{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function ga(t){ya=t}let va,ya=new pa,ma=!0,ba=!1;function wa(){return ba=!0,ma}function _a(){if(ba)throw new Error("Cannot enable prod mode after platform setup.");ma=!1}const Oa=new rn("AllowMultipleToken");class Ea{constructor(t,e){this.name=t,this.token=e}}function Ia(t,e,n=[]){const r="Platform: "+e,i=new rn(r);return(e=[])=>{let o=Sa();if(!o||o.injector.get(Oa,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:to,useValue:"platform"});!function(t){if(va&&!va.destroyed&&!va.injector.get(Oa,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");va=t.get(Ta);const e=t.get(zu,null);e&&e.forEach(t=>t())}(go.create({providers:t,name:r}))}return function(t){const e=Sa();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Sa(){return va&&!va.destroyed?va:null}let Ta=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new ha:("zone.js"===t?void 0:t)||new oa({enableLongStackTrace:wa(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:oa,useValue:n}];return n.run(()=>{const e=go.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(mr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Aa(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Vo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Uu);return t.runInitializers(),t.donePromise.then(()=>(cs(i.injector.get($u,us)||us),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Ca({},e);return function(t,e,n){const r=new wu(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(xa);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${y(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Cn(go))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function Ca(t,e){return Array.isArray(e)?e.reduce(Ca,t):Object.assign(Object.assign({},t),e)}let xa=(()=>{class t{constructor(t,e,n,r,i,u){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{oa.assertNotInAngularZone(),ia(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{oa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return a()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ms?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ru),i=n.create(go.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(fa,null),u=s&&i.injector.get(da);return s&&u&&u.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Aa(this.components,i),u&&u.unregisterApplication(o)}),this._loadComponent(i),wa()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Aa(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Gu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Cn(oa),Cn(Wu),Cn(go),Cn(mr),Cn(ws),Cn(Uu))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function Aa(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ja{}class ka{}const Na={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Pa=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Na}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Da(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Da(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Cn(na),Cn(ka,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function Da(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Ra=function(t){return null},Va=Ia(null,"core",[{provide:Bu,useValue:"unknown"},{provide:Ta,deps:[go]},{provide:da,deps:[]},{provide:Wu,deps:[]}]),La=[{provide:xa,useClass:xa,deps:[oa,Wu,go,mr,ws,Uu]},{provide:gu,deps:[oa],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Uu,useClass:Uu,deps:[[new gn,Mu]]},{provide:na,useClass:na,deps:[]},qu,{provide:qs,useFactory:function(){return Ks},deps:[]},{provide:Hs,useFactory:function(){return Xs},deps:[]},{provide:$u,useFactory:function(t){return cs(t=t||"undefined"!=typeof $localize&&$localize.locale||us),t},deps:[[new pn($u),new gn,new yn]]},{provide:Qu,useValue:"USD"}];let Ma=(()=>{class t{constructor(t){}}return t.\u0275mod=it({type:t}),t.\u0275inj=I({factory:function(e){return new(e||t)(Cn(xa))},providers:La}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},os0x:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return u}),n.d(e,"h",function(){return a}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{a(r.next(t))}catch(e){o(e)}}function u(t){try{a(r.throw(t))}catch(e){o(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,u)}a((r=r.apply(t,e||[])).next())})}function u(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(u){o=[6,u],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let u=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(u.createNext(t))}_error(t){this.scheduleMessage(u.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(u.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),u={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},a=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?u[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=u[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var u=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:u,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return u}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return a}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return g});var r=n("os0x");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function a(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return u().indexOf("Electron/")>=0}function p(){var t=u();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return u().indexOf("MSAppHost/")>=0}var v=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,y.prototype.create),o}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?m(o,r):"Error",u=this.serviceName+": "+s+" ("+i+").",a=new v(i,u,r);return a},t}();function m(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return a});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const u=new s(i),a=u},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let u=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:u,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){u&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?a(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(a(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function a(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return T}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return m}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return I}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return v}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),u=n("pxpQ"),a=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(u.b)(t.insideAngular))}}const g=["ngOnDestroy"],v=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},m=new a.q("angularfire2.app.options"),b=new a.q("angularfire2.app.nameOrConfig"),w=new a.O("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(a.U)()&&"undefined"!=typeof console&&console[t](...e)};function I(e,n,r,i,o){const[s,...u]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=u[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(a){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const S={provide:class{},useFactory:_,deps:[m,a.z,[new a.A,b]]};let T=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",a.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:m,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=a.Gb({type:t}),t.\u0275inj=a.Fb({factory:function(e){return new(e||t)(a.Pb(a.B))},providers:[S]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return v});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function u(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>u(e)&&t()),e},clearImmediate(t){u(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function v(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new u(t,e,n))}}class u{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new a(t,this.nextOrObserver,this.error,this.complete))}}class a extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("os0x"),s=n("qOnz"),u=n("/6Yf"),a=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new a.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new u.b(e.name),this._addComponent(new u.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var u=o.name;if("string"!=typeof u||!u)throw l.create("bad-app-name",{appName:String(u)});if(Object(s.c)(e,u))throw l.create("duplicate-app",{appName:u});var a=new t(n,o,r);return e[u]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&c.push("and"),a&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new u.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:a.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(a.d)(t,e)},apps:null,SDK_VERSION:"8.2.9",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var u=o.name;if(n.has(u))return p.debug("There were multiple attempts to register component "+u+"."),"PUBLIC"===o.type?r[u]:null;if(n.set(u,o),"PUBLIC"===o.type){var a=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[u])throw l.create("invalid-app-argument",{appName:u});return t[u]()};void 0!==o.serviceProps&&Object(s.f)(a,o.serviceProps),r[u]=a,t.prototype[u]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,u).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[u]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=v;!function(t,e){t.INTERNAL.registerComponent(new u.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.15",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyDCtRDGTPVXZA8stQWOzMJTWW_ktSa6quw",authDomain:"ofrenda-2c0f7.firebaseapp.com",databaseURL:"https://ofrenda-2c0f7-default-rtdb.firebaseio.com",projectId:"ofrenda-2c0f7",storageBucket:"ofrenda-2c0f7.appspot.com",messagingSenderId:"185511853254",appId:"1:185511853254:web:a3c3c50c4ffb581a60ebc7"};let o=null;function s(){return o}const u=new r.q("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Pb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u))},t.\u0275prov=Object(r.Eb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Pb)(u))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function v(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:m,token:t,providedIn:"root"}),t})();function m(t){const e=Object(r.Pb)(u).location;return new w(Object(r.Pb)(a),e&&e.origin||"")}const b=new r.q("appBaseHref");let w=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+v(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+v(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+v(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a),r.Pb(b,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+v(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+v(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a),r.Pb(b,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(I(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+v(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,I(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+v(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+v(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(y),r.Pb(a))},t.normalizeQueryParams=v,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Eb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new O(Object(r.Pb)(y),Object(r.Pb)(a))}function I(t){return t.replace(/\/index.html$/,"")}var S=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const T=r.lb;class C{}let x=(()=>{class t extends C{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(T(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),A=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new j,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){k("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){k("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K))},t.\u0275dir=r.Db({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class j{constructor(){this.$implicit=null,this.ngIf=null}}function k(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}let N=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[{provide:C,useClass:x}]}),t})();function P(t){return"server"===t}let D=(()=>{class t{}return t.\u0275prov=Object(r.Eb)({token:t,providedIn:"root",factory:()=>new R(Object(r.Pb)(u),window)}),t})();class R{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=V(this.window.history)||V(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function V(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class L extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new L,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=U||(U=document.querySelector("base"),U)?U.getAttribute("href"):null;return null==e?null:(n=e,M||(M=document.createElement("a")),M.setAttribute("href",n),"/"===M.pathname.charAt(0)?M.pathname:"/"+M.pathname);var n}resetBaseElement(){U=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let M,U=null;const F=new r.q("TRANSITION_ID"),q=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[F,u,r.r],multi:!0}];class H{static init(){Object(r.W)(new H)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const z=new r.q("EventManagerPlugins");let B=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(z),r.Pb(r.z))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class G{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let W=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),$=(()=>{class t extends W{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const Q={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Y=/%COMP%/g;function K(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?K(t,i,n):(i=i.replace(Y,t),n.push(i))}return n}function X(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Z=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new J(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new tt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.Q.ShadowDom:return new et(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=K(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(B),r.Pb($),r.Pb(r.c))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class J{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Q[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Q[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Q[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.F.DashCase|r.F.Important)?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,X(n)):this.eventManager.addEventListener(t,e,X(n))}}class tt extends J{constructor(t,e,n,r){super(t),this.component=n;const i=K(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Y,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Y,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class et extends J{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=K(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let nt=(()=>{class t extends G{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const rt=["alt","control","meta","shift"],it={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ot={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},st={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ut=(()=>{class t extends G{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(rt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ot.hasOwnProperty(e)&&(e=ot[e]))}return it[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),rt.forEach(r=>{r!=n&&(0,st[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const at=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){L.makeCurrent(),H.init()},multi:!0},{provide:u,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],ct=Object(r.R)(r.V,"browser",at),lt=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:z,useClass:nt,multi:!0,deps:[u,r.z,r.B]},{provide:z,useClass:ut,multi:!0,deps:[u]},[],{provide:Z,useClass:Z,deps:[B,$,r.c]},{provide:r.E,useExisting:Z},{provide:W,useExisting:$},{provide:$,useClass:$,deps:[u]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:B,useClass:B,deps:[z,r.z]},[]];let ht=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:F,useExisting:r.c},q]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(t,12))},providers:lt,imports:[N,r.f]}),t})();"undefined"!=typeof window&&window;var ft=n("Cfvw"),dt=n("LRne"),pt=n("XNiG"),gt=n("9ppp");class vt extends pt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new gt.a;return this._value}next(t){super.next(this._value=t)}}var yt=n("z+Ro"),mt=n("DH7j"),bt=n("7o/Q");class wt extends bt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class _t extends bt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ot=n("SeVD"),Et=n("HDdC");function It(t,e,n,r,i=new _t(t,n,r)){if(!i.closed)return e instanceof Et.a?e.subscribe(i):Object(Ot.a)(e)(i)}var St=n("yCtX");const Tt={};class Ct{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new xt(t,this.resultSelector))}}class xt extends wt{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Tt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(It(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Tt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const At=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var jt=n("bHdf");function kt(...t){return Object(jt.a)(1)(Object(dt.a)(...t))}var Nt=n("EY2u");function Pt(t){return new Et.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(ft.a)(n):Object(Nt.b)()).subscribe(e)})}var Dt=n("lJxs"),Rt=n("zx2A");function Vt(t,e){return"function"==typeof e?n=>n.pipe(Vt((n,r)=>Object(ft.a)(t(n,r)).pipe(Object(Dt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Lt(t))}class Lt{constructor(t){this.project=t}call(t,e){return e.subscribe(new Mt(t,this.project))}}class Mt extends Rt.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Rt.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Rt.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Ut=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Ft(t){return e=>0===t?Object(Nt.b)():e.lift(new qt(t))}class qt{constructor(t){if(this.total=t,this.total<0)throw new Ut}call(t,e){return e.subscribe(new Ht(t,this.total))}}class Ht extends bt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function zt(...t){const e=t[t.length-1];return Object(yt.a)(e)?(t.pop(),n=>kt(t,n,e)):e=>kt(t,e)}function Bt(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Gt(t,e,n))}}class Gt{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Wt(t,this.accumulator,this.seed,this.hasSeed))}}class Wt extends bt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function $t(t,e){return function(n){return n.lift(new Qt(t,e))}}class Qt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Yt(t,this.predicate,this.thisArg))}}class Yt extends bt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function Kt(t){return function(e){const n=new Xt(t),r=e.lift(n);return n.caught=r}}class Xt{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Zt(t,this.selector,this.caught))}}class Zt extends Rt.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Rt.a(this);this.add(r);const i=Object(Rt.c)(n,r);i!==r&&this.add(i)}}}var Jt=n("5+tZ");function te(t,e){return Object(Jt.a)(t,e,1)}function ee(t){return function(e){return 0===t?Object(Nt.b)():e.lift(new ne(t))}}class ne{constructor(t){if(this.total=t,this.total<0)throw new Ut}call(t,e){return e.subscribe(new re(t,this.total))}}class re extends bt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function ie(t=ue){return e=>e.lift(new oe(t))}class oe{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new se(t,this.errorFactory))}}class se extends bt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(nw){t=nw}this.destination.error(t)}}}function ue(){return new At}function ae(t=null){return e=>e.lift(new ce(t))}class ce{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new le(t,this.defaultValue))}}class le extends bt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var he=n("SpAZ");function fe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?$t((e,n)=>t(e,n,r)):he.a,Ft(1),n?ae(e):ie(()=>new At))}var de=n("vkgz"),pe=n("quSY");class ge{constructor(t){this.callback=t}call(t,e){return e.subscribe(new ve(t,this.callback))}}class ve extends bt.a{constructor(t,e){super(t),this.add(new pe.a(e))}}class ye{constructor(t,e){this.id=t,this.url=e}}class me extends ye{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class be extends ye{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class we extends ye{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _e extends ye{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Oe extends ye{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ee extends ye{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ie extends ye{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Se extends ye{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Te extends ye{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ce{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xe{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ae{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class je{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ke{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ne{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pe{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const De="primary";class Re{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ve(t){return new Re(t)}function Le(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Me(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ue(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Fe(t[i],e[i]))return!1;return!0}function Fe(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function qe(t){return Array.prototype.concat.apply([],t)}function He(t){return t.length>0?t[t.length-1]:null}function ze(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Be(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(ft.a)(Promise.resolve(t)):Object(dt.a)(t)}function Ge(t,e,n){return n?function(t,e){return Ue(t,e)}(t.queryParams,e.queryParams)&&We(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Fe(t[n],e[n]))}(t.queryParams,e.queryParams)&&$e(t.root,e.root)}function We(t,e){if(!Ze(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!We(t.children[n],e.children[n]))return!1}return!0}function $e(t,e){return Qe(t,e,e.segments)}function Qe(t,e,n){if(t.segments.length>n.length)return!!Ze(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Ze(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!$e(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Ze(t.segments,r)&&!!t.children.primary&&Qe(t.children.primary,e,i)}}class Ye{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ve(this.queryParams)),this._queryParamMap}toString(){return en.serialize(this)}}class Ke{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ze(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nn(this)}}class Xe{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ve(this.parameters)),this._parameterMap}toString(){return ln(this)}}function Ze(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Je{}class tn{parse(t){const e=new gn(t);return new Ye(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+rn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${sn(e)}=${sn(t)}`).join("&"):`${sn(e)}=${sn(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const en=new tn;function nn(t){return t.segments.map(t=>ln(t)).join("/")}function rn(t,e){if(!t.hasChildren())return nn(t);if(e){const e=t.children.primary?rn(t.children.primary,!1):"",n=[];return ze(t.children,(t,e)=>{e!==De&&n.push(`${e}:${rn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return ze(t.children,(t,r)=>{r===De&&(n=n.concat(e(t,r)))}),ze(t.children,(t,r)=>{r!==De&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===De?[rn(t.children.primary,!1)]:[`${n}:${rn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${nn(t)}/${e[0]}`:`${nn(t)}/(${e.join("//")})`}}function on(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sn(t){return on(t).replace(/%3B/gi,";")}function un(t){return on(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function an(t){return decodeURIComponent(t)}function cn(t){return an(t.replace(/\+/g,"%20"))}function ln(t){return`${un(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${un(t)}=${un(e[t])}`).join("")}`;var e}const hn=/^[^\/()?;=#]+/;function fn(t){const e=t.match(hn);return e?e[0]:""}const dn=/^[^=?&#]+/,pn=/^[^?&#]+/;class gn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ke([],{}):new Ke([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Ke(t,e)),n}parseSegment(){const t=fn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Xe(an(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=fn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=fn(this.remaining);t&&(n=t,this.capture(n))}t[an(e)]=an(n)}parseQueryParam(t){const e=function(t){const e=t.match(dn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(pn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=cn(e),i=cn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=fn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=De);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Ke([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class vn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=yn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=yn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=mn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return mn(t,this._root).map(t=>t.value)}}function yn(t,e){if(t===e.value)return e;for(const n of e.children){const e=yn(t,n);if(e)return e}return null}function mn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=mn(t,n);if(r.length)return r.unshift(e),r}return[]}class bn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function wn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class _n extends vn{constructor(t,e){super(t),this.snapshot=e,Cn(this,t)}toString(){return this.snapshot.toString()}}function On(t,e){const n=function(t,e){const n=new Sn([],{},{},"",{},De,e,null,t.root,-1,{});return new Tn("",new bn(n,[]))}(t,e),r=new vt([new Xe("",{})]),i=new vt({}),o=new vt({}),s=new vt({}),u=new vt(""),a=new En(r,i,s,u,o,De,e,n.root);return a.snapshot=n.root,new _n(new bn(a,[]),n)}class En{constructor(t,e,n,r,i,o,s,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Dt.a)(t=>Ve(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Dt.a)(t=>Ve(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function In(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Sn{constructor(t,e,n,r,i,o,s,u,a,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=u,this._urlSegment=a,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ve(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ve(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Tn extends vn{constructor(t,e){super(e),this.url=t,Cn(this,e)}toString(){return xn(this._root)}}function Cn(t,e){e.value._routerState=t,e.children.forEach(e=>Cn(t,e))}function xn(t){const e=t.children.length>0?` { ${t.children.map(xn).join(", ")} } `:"";return`${t.value}${e}`}function An(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ue(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Ue(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ue(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Ue(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function jn(t,e){return Ue(t.params,e.params)&&function(t,e){return Ze(t,e)&&t.every((t,n)=>Ue(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||jn(t.parent,e.parent))}function kn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return kn(t,e,r);return kn(t,e)})}(t,e,n);return new bn(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Nn(e,t),t}{const n=new En(new vt((r=e.value).url),new vt(r.params),new vt(r.queryParams),new vt(r.fragment),new vt(r.data),r.outlet,r.component,r),i=e.children.map(e=>kn(t,e));return new bn(n,i)}}var r}function Nn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Nn(t.children[n],e.children[n])}function Pn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Dn(t){return"object"==typeof t&&null!=t&&t.outlets}function Rn(t,e,n,r,i){let o={};return r&&ze(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Ye(n.root===t?e:Vn(n.root,t,e),o,i)}function Vn(t,e,n){const r={};return ze(t.children,(t,i)=>{r[i]=t===e?n:Vn(t,e,n)}),new Ke(t.segments,r)}class Ln{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Pn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Dn);if(r&&r!==He(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Un(t,e,n){if(t||(t=new Ke([],{})),0===t.segments.length&&t.hasChildren())return Fn(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Dn(s))break;const u=""+s,a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&a&&"object"==typeof a&&void 0===a.outlets){if(!Bn(u,a,e))return o;r+=2}else{if(!Bn(u,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Ke(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Ke(t.segments.slice(r.pathIndex),t.children),Fn(e,0,i)}return r.match&&0===i.length?new Ke(t.segments,{}):r.match&&!t.hasChildren()?qn(t,e,n):r.match?Fn(t,0,i):qn(t,e,n)}function Fn(t,e,n){if(0===n.length)return new Ke(t.segments,{});{const r=function(t){return Dn(t[0])?t[0].outlets:{[De]:t}}(n),i={};return ze(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Un(t.children[r],e,n))}),ze(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Ke(t.segments,i)}}function qn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Dn(o)){const t=Hn(o.outlets);return new Ke(r,t)}if(0===i&&Pn(n[0])){r.push(new Xe(t.segments[e].path,n[0])),i++;continue}const s=Dn(o)?o.outlets.primary:""+o,u=i<n.length-1?n[i+1]:null;s&&u&&Pn(u)?(r.push(new Xe(s,zn(u))),i+=2):(r.push(new Xe(s,{})),i++)}return new Ke(r,{})}function Hn(t){const e={};return ze(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=qn(new Ke([],{}),0,t))}),e}function zn(t){const e={};return ze(t,(t,n)=>e[n]=""+t),e}function Bn(t,e,n){return t==n.path&&Ue(e,n.parameters)}class Gn{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),An(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=wn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),ze(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=wn(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=wn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Ne(t.value.snapshot))}),t.children.length&&this.forwardEvent(new je(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(An(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Wn(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Wn(t){An(t.value),t.children.forEach(Wn)}class $n{constructor(t,e){this.routes=t,this.module=e}}function Qn(t){return"function"==typeof t}function Yn(t){return t instanceof Ye}const Kn=Symbol("INITIAL_VALUE");function Xn(){return Vt(t=>function(...t){let e=void 0,n=void 0;return Object(yt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(mt.a)(t[0])&&(t=t[0]),Object(St.a)(t,n).lift(new Ct(e))}(t.map(t=>t.pipe(Ft(1),zt(Kn)))).pipe(Bt((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Kn)return t;if(r===Kn&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Yn(r))return r}return t},t)},Kn),$t(t=>t!==Kn),Object(Dt.a)(t=>Yn(t)?t:!0===t),Ft(1)))}let Zn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Jb(0,"router-outlet")},directives:function(){return[zr]},encapsulation:2}),t})();function Jn(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];tr(r,er(e,r))}}function tr(t,e){t.children&&Jn(t.children,e)}function er(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function nr(t){const e=t.children&&t.children.map(nr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==De&&(n.component=Zn),n}function rr(t){return t.outlet||De}function ir(t,e){const n=t.filter(t=>rr(t)===e);return n.push(...t.filter(t=>rr(t)!==e)),n}const or={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function sr(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},or):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Me)(n,t,e);if(!i)return Object.assign({},or);const o={};ze(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function ur(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>ar(t,e,n)&&rr(n)!==De)}(t,n,r)){const i=new Ke(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&rr(o)!==De){const n=new Ke([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[rr(o)]=n}return i}(t,e,r,new Ke(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>ar(t,e,n))}(t,n,r)){const o=new Ke(t.segments,function(t,e,n,r,i,o){const s={};for(const u of r)if(ar(t,n,u)&&!i[rr(u)]){const n=new Ke([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[rr(u)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Ke(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function ar(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function cr(t,e,n,r){return!!(rr(t)===r||r!==De&&ar(e,n,t))&&("**"===t.path||sr(e,t,n).matched)}function lr(t,e,n){return 0===e.length&&!t.children[n]}class hr{constructor(t){this.segmentGroup=t||null}}class fr{constructor(t){this.urlTree=t}}function dr(t){return new Et.a(e=>e.error(new hr(t)))}function pr(t){return new Et.a(e=>e.error(new fr(t)))}function gr(t){return new Et.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class vr{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){const t=ur(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ke(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,De).pipe(Object(Dt.a)(t=>this.createUrlTree(yr(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Kt(t=>{if(t instanceof fr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof hr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,De).pipe(Object(Dt.a)(e=>this.createUrlTree(yr(e),t.queryParams,t.fragment))).pipe(Kt(t=>{if(t instanceof hr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Ke([],{[De]:t}):t;return new Ye(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Dt.a)(t=>new Ke([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(ft.a)(r).pipe(te(r=>{const i=n.children[r],o=ir(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(Dt.a)(t=>({segment:t,outlet:r})))}),Bt((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?$t((e,n)=>t(e,n,r)):he.a,ee(1),n?ae(e):ie(()=>new At))}())}expandSegment(t,e,n,r,i,o){return Object(ft.a)(n).pipe(te(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Kt(t=>{if(t instanceof hr)return Object(dt.a)(null);throw t}))),fe(t=>!!t),Kt((t,n)=>{if(t instanceof At||"EmptyError"===t.name){if(lr(e,r,i))return Object(dt.a)(new Ke([],{}));throw new hr(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return cr(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):dr(e):dr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?pr(i):this.lineralizeSegments(n,i).pipe(Object(Jt.a)(n=>{const i=new Ke(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:u,lastChild:a,positionalParamSegments:c}=sr(e,r,i);if(!s)return dr(e);const l=this.applyRedirectCommands(u,r.redirectTo,c);return r.redirectTo.startsWith("/")?pr(l):this.lineralizeSegments(r,l).pipe(Object(Jt.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(a)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Dt.a)(t=>(n._loadedConfig=t,new Ke(r,{})))):Object(dt.a)(new Ke(r,{}));const{matched:o,consumedSegments:s,lastChild:u}=sr(e,n,r);if(!o)return dr(e);const a=r.slice(u);return this.getChildConfig(t,n,r).pipe(Object(Jt.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:u,slicedSegments:c}=ur(e,s,a,o),l=new Ke(u.segments,u.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(Dt.a)(t=>new Ke(s,t)));if(0===o.length&&0===c.length)return Object(dt.a)(new Ke(s,{}));const h=rr(n)===i;return this.expandSegment(r,l,o,c,h?De:i,!0).pipe(Object(Dt.a)(t=>new Ke(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(dt.a)(new $n(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(dt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Jt.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Dt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Et.a(e=>e.error(Le(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(dt.a)(new $n([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(dt.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Qn(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Qn(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Be(o)});return Object(dt.a)(i).pipe(Xn(),Object(de.a)(t=>{if(!Yn(t))return;const e=Le(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Dt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(dt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return gr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Ye(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return ze(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return ze(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Ke(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function yr(t){const e={};for(const n of Object.keys(t.children)){const r=yr(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Ke(t.segments.concat(e.segments),e.children)}return t}(new Ke(t.segments,e))}class mr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class br{constructor(t,e){this.component=t,this.route=e}}function wr(t,e,n){const r=t._root;return Or(r,e?e._root:null,n,[r.value])}function _r(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Or(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=wn(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,u=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const a=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ze(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ze(t.url,e.url)||!Ue(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jn(t,e)||!Ue(t.queryParams,e.queryParams);case"paramsChange":default:return!jn(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);a?i.canActivateChecks.push(new mr(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Or(t,e,o.component?u?u.children:null:n,r,i),a&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new br(u.outlet.component,s))}else s&&Er(e,u,i),i.canActivateChecks.push(new mr(r)),Or(t,null,o.component?u?u.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),ze(o,(t,e)=>Er(t,n.getContext(e),i)),i}function Er(t,e,n){const r=wn(t),i=t.value;ze(r,(t,r)=>{Er(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new br(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Ir{}function Sr(t){return new Et.a(e=>e.error(t))}class Tr{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=ur(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,De);if(null===e)return null;const n=new Sn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},De,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new bn(n,e),i=new Tn(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=In(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=ir(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!Cr(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===De?-1:e.value.outlet===De?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return lr(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!cr(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?He(n).parameters:{};i=new Sn(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jr(t),rr(t),t.component,t,xr(e),Ar(e)+n.length,kr(t))}else{const r=sr(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Sn(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jr(t),rr(t),t.component,t,xr(e),Ar(e)+o.length,kr(t))}const u=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:a,slicedSegments:c}=ur(e,o,s,u.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&a.hasChildren()){const t=this.processChildren(u,a);return null===t?null:[new bn(i,t)]}if(0===u.length&&0===c.length)return[new bn(i,[])];const l=rr(t)===r,h=this.processSegment(u,a,c,l?De:r);return null===h?null:[new bn(i,h)]}}function Cr(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function xr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ar(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function jr(t){return t.data||{}}function kr(t){return t.resolve||{}}function Nr(t){return Vt(e=>{const n=t(e);return n?Object(ft.a)(n).pipe(Object(Dt.a)(()=>e)):Object(dt.a)(e)})}class Pr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Dr=new r.q("ROUTES");class Rr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Dt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new $n(qe(r.injector.get(Dr)).map(nr),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(ft.a)(this.loader.load(t)):Be(t()).pipe(Object(Jt.a)(t=>t instanceof r.v?Object(dt.a)(t):Object(ft.a)(this.compiler.compileModuleAsync(t))))}}class Vr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Lr,this.attachRef=null}}class Lr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Vr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Mr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Ur(t){throw t}function Fr(t,e,n){return e.parse("/")}function qr(t,e){return Object(dt.a)(null)}let Hr=(()=>{class t{constructor(t,e,n,i,o,s,u,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new pt.a,this.errorHandler=Ur,this.malformedUriErrorHandler=Fr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:qr,afterPreactivation:qr},this.urlHandlingStrategy=new Mr,this.routeReuseStrategy=new Pr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.x),this.console=o.get(r.X);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z&&r.z.isInAngularZone(),this.resetConfig(a),this.currentUrlTree=new Ye(new Ke([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Rr(s,u,t=>this.triggerEvent(new Ce(t)),t=>this.triggerEvent(new xe(t))),this.routerState=On(this.currentUrlTree,this.rootComponentType),this.transitions=new vt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe($t(t=>0!==t.id),Object(Dt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Vt(t=>{let n=!1,r=!1;return Object(dt.a)(t).pipe(Object(de.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Vt(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(dt.a)(t).pipe(Vt(t=>{const n=this.transitions.getValue();return e.next(new me(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Nt.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,Vt(t=>function(t,e,n,r,i){return new vr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Dt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(de.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(Jt.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Tr(t,e,n,r,i,o).recognize();return null===s?Sr(new Ir):Object(dt.a)(s)}catch(nw){return Sr(nw)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Dt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(de.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Oe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,u=new me(n,this.serializeUrl(r),i,o);e.next(u);const a=On(r,this.rootComponentType).snapshot;return Object(dt.a)(Object.assign(Object.assign({},t),{targetSnapshot:a,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Nt.a}),Nr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(de.a)(t=>{const e=new Ee(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Dt.a)(t=>Object.assign(Object.assign({},t),{guards:wr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(Jt.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(dt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(ft.a)(t).pipe(Object(Jt.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(dt.a)(!0);const s=o.map(o=>{const s=_r(o,e,i);let u;if(function(t){return t&&Qn(t.canDeactivate)}(s))u=Be(s.canDeactivate(t,e,n,r));else{if(!Qn(s))throw new Error("Invalid CanDeactivate guard");u=Be(s(t,e,n,r))}return u.pipe(fe())});return Object(dt.a)(s).pipe(Xn())}(t.component,t.route,n,e,r)),fe(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(Jt.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(ft.a)(e).pipe(te(e=>kt(function(t,e){return null!==t&&e&&e(new Ae(t)),Object(dt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new ke(t)),Object(dt.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Pt(()=>{const i=e.guards.map(i=>{const o=_r(i,e.node,n);let s;if(function(t){return t&&Qn(t.canActivateChild)}(o))s=Be(o.canActivateChild(r,t));else{if(!Qn(o))throw new Error("Invalid CanActivateChild guard");s=Be(o(r,t))}return s.pipe(fe())});return Object(dt.a)(i).pipe(Xn())}));return Object(dt.a)(i).pipe(Xn())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(dt.a)(!0);const i=r.map(r=>Pt(()=>{const i=_r(r,e,n);let o;if(function(t){return t&&Qn(t.canActivate)}(i))o=Be(i.canActivate(e,t));else{if(!Qn(i))throw new Error("Invalid CanActivate guard");o=Be(i(e,t))}return o.pipe(fe())}));return Object(dt.a)(i).pipe(Xn())}(t,e.route,n))),fe(t=>!0!==t,!0))}(r,o,t,e):Object(dt.a)(n)),Object(Dt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(de.a)(t=>{if(Yn(t.guardsResult)){const e=Le(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Ie(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),$t(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new we(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Nr(t=>{if(t.guards.canActivateChecks.length)return Object(dt.a)(t).pipe(Object(de.a)(t=>{const e=new Se(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Vt(t=>{let n=!1;return Object(dt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(Jt.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(dt.a)(t);let o=0;return Object(ft.a)(n).pipe(te(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(dt.a)({});const o={};return Object(ft.a)(i).pipe(Object(Jt.a)(i=>function(t,e,n,r){const i=_r(t,e,r);return Be(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(de.a)(t=>{o[i]=t}))),ee(1),Object(Jt.a)(()=>Object.keys(o).length===i.length?Object(dt.a)(o):Nt.a))}(t._resolve,t,e,r).pipe(Object(Dt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),In(t,n).resolve),null)))}(t.route,e,r,i)),Object(de.a)(()=>o++),ee(1),Object(Jt.a)(e=>o===n.length?Object(dt.a)(t):Nt.a))})),Object(de.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new we(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(de.a)(t=>{const e=new Te(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Nr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Dt.a)(t=>{const e=function(t,e,n){const r=kn(t,e._root,n?n._root:void 0);return new _n(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(de.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,u=t=>this.triggerEvent(t),Object(Dt.a)(t=>(new Gn(s,t.targetRouterState,t.currentRouterState,u).activate(o),t))),Object(de.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new we(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new ge(i))),Kt(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Yn(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new we(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new _e(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Ih){t.reject(Ih)}}var i;return Nt.a}));var i,o,s,u}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Jn(t),this.config=t.map(nr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,u=n||this.routerState.root,a=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Rn(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ln(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return ze(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Ln(n,e,r)}(n);if(o.toRoot())return Rn(e.root,new Ke([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Mn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Mn(t,t===e.root,0)}const r=Pn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Mn(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),u=s.processChildren?Fn(s.segmentGroup,s.index,o.commands):Un(s.segmentGroup,s.index,o.commands);return Rn(s.segmentGroup,u,e,r,i)}(u,this.currentUrlTree,t,c,a)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Yn(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(nw){e=this.malformedUriErrorHandler(nw,this.urlSerializer,t)}return e}isActive(t,e){if(Yn(t))return Ge(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Ge(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new be(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),u=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&u)return Promise.resolve(!0);let a,c,l;i?(a=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{a=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.M),r.Pb(Je),r.Pb(Lr),r.Pb(O),r.Pb(r.r),r.Pb(r.w),r.Pb(r.i),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),zr=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||De,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Br(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Lr),r.Ib(r.P),r.Ib(r.j),r.Qb("name"),r.Ib(r.h))},t.\u0275dir=r.Db({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Br{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===En?this.route:t===Lr?this.childContexts:this.parent.get(t,e)}}class Gr{}class Wr{preload(t,e){return Object(dt.a)(null)}}let $r=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Rr(e,n,e=>t.triggerEvent(new Ce(e)),e=>t.triggerEvent(new xe(e)))}setUpPreloading(){this.subscription=this.router.events.pipe($t(t=>t instanceof be),te(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(ft.a)(n).pipe(Object(jt.a)(),Object(Dt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Jt.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Hr),r.Pb(r.w),r.Pb(r.i),r.Pb(r.r),r.Pb(Gr))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Qr=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof me?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof be&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Pe&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Pe(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Hr),r.Pb(D),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const Yr=new r.q("ROUTER_CONFIGURATION"),Kr=new r.q("ROUTER_FORROOT_GUARD"),Xr=[O,{provide:Je,useClass:tn},{provide:Hr,useFactory:function(t,e,n,r,i,o,u,a={},c,l){const h=new Hr(null,t,e,n,r,i,o,qe(u));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,h),a.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Je,Lr,O,r.r,r.w,r.i,Dr,Yr,[class{},new r.A],[class{},new r.A]]},Lr,{provide:En,useFactory:function(t){return t.routerState.root},deps:[Hr]},{provide:r.w,useClass:r.J},$r,Wr,class{preload(t,e){return e().pipe(Kt(()=>Object(dt.a)(null)))}},{provide:Yr,useValue:{enableTracing:!1}}];function Zr(){return new r.y("Router",Hr)}let Jr=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Xr,ri(e),{provide:Kr,useFactory:ni,deps:[[Hr,new r.A,new r.I]]},{provide:Yr,useValue:n||{}},{provide:y,useFactory:ei,deps:[a,[new r.p(b),new r.A],Yr]},{provide:Qr,useFactory:ti,deps:[Hr,D,Yr]},{provide:Gr,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Wr},{provide:r.y,multi:!0,useFactory:Zr},[ii,{provide:r.d,multi:!0,useFactory:oi,deps:[ii]},{provide:ui,useFactory:si,deps:[ii]},{provide:r.b,multi:!0,useExisting:ui}]]}}static forChild(e){return{ngModule:t,providers:[ri(e)]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(Kr,8),r.Pb(Hr,8))}}),t})();function ti(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Qr(t,e,n)}function ei(t,e,n={}){return n.useHash?new _(t,e):new w(t,e)}function ni(t){return"guarded"}function ri(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Dr,multi:!0,useValue:t}]}let ii=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new pt.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Hr),r=this.injector.get(Yr);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(dt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Yr),n=this.injector.get($r),i=this.injector.get(Qr),o=this.injector.get(Hr),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.r))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();function oi(t){return t.appInitializer.bind(t)}function si(t){return t.bootstrapListener.bind(t)}const ui=new r.q("Router Initializer");let ai=(()=>{class t{constructor(){this.title="ofrenda"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"],[1,"row","pt-4"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"div",1),r.Jb(2,"router-outlet"),r.Kb(),r.Kb())},directives:[zr],styles:[""]}),t})(),ci=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-admin"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Lb(0,"p"),r.bc(1,"admin works!"),r.Kb())},styles:[""]}),t})();var li=n("XoHu");function hi(t,e){return new Et.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let u=0;u<r;u++){const a=Object(ft.a)(t[u]);let c=!1;n.add(a.subscribe({next:t=>{c||(c=!0,s++),i[u]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const fi=new r.q("NgValueAccessor"),di={provide:fi,useExisting:Object(r.T)(()=>pi),multi:!0};let pi=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.xb([di])]}),t})();const gi={provide:fi,useExisting:Object(r.T)(()=>yi),multi:!0},vi=new r.q("CompositionEventMode");let yi=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(vi,8))},t.\u0275dir=r.Db({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Sb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.xb([gi])]}),t})();function mi(t){return null==t||0===t.length}function bi(t){return null!=t&&"number"==typeof t.length}const wi=new r.q("NgValidators"),_i=new r.q("NgAsyncValidators"),Oi=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ei{static min(t){return e=>{if(mi(e.value)||mi(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(mi(e.value)||mi(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return mi(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return mi(t.value)||Oi.test(t.value)?null:{email:!0}}static minLength(t){return e=>mi(e.value)||!bi(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>bi(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Ei.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(mi(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Ii);return 0==e.length?null:function(t){return Ti(Ci(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Ii);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(mt.a)(e))return hi(e,null);if(Object(li.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return hi(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return hi(t=1===t.length&&Object(mt.a)(t[0])?t[0]:t,null).pipe(Object(Dt.a)(t=>e(...t)))}return hi(t,null)}(Ci(t,e).map(Si)).pipe(Object(Dt.a)(Ti))}}}function Ii(t){return null!=t}function Si(t){const e=Object(r.qb)(t)?Object(ft.a)(t):t;return Object(r.pb)(e),e}function Ti(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Ci(t,e){return e.map(e=>e(t))}function xi(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Ai(t){return null!=t?Ei.compose(xi(t)):null}function ji(t){return null!=t?Ei.composeAsync(xi(t)):null}function ki(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Ni(t){return t._rawValidators}function Pi(t){return t._rawAsyncValidators}let Di=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ai(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ji(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t}),t})(),Ri=(()=>{class t extends Di{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Vi(e||t)},t.\u0275dir=r.Db({type:t,features:[r.vb]}),t})();const Vi=r.Nb(Ri);class Li extends Di{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Mi{constructor(t){this._cd=t}get ngClassUntouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.untouched)&&void 0!==n&&n}get ngClassTouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.touched)&&void 0!==n&&n}get ngClassPristine(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pristine)&&void 0!==n&&n}get ngClassDirty(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.dirty)&&void 0!==n&&n}get ngClassValid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.valid)&&void 0!==n&&n}get ngClassInvalid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.invalid)&&void 0!==n&&n}get ngClassPending(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pending)&&void 0!==n&&n}}let Ui=(()=>{class t extends Mi{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Li,2))},t.\u0275dir=r.Db({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})(),Fi=(()=>{class t extends Mi{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Ri,10))},t.\u0275dir=r.Db({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();const qi={provide:fi,useExisting:Object(r.T)(()=>Hi),multi:!0};let Hi=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([qi])]}),t})();const zi={provide:fi,useExisting:Object(r.T)(()=>Gi),multi:!0};let Bi=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Gi=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Li),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(Bi),r.Ib(r.r))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([zi])]}),t})();const Wi={provide:fi,useExisting:Object(r.T)(()=>$i),multi:!0};let $i=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([Wi])]}),t})();const Qi={provide:fi,useExisting:Object(r.T)(()=>Yi),multi:!0};let Yi=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([Qi])]}),t})();const Ki={provide:fi,useExisting:Object(r.T)(()=>Xi),multi:!0};let Xi=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([Ki])]}),t})();function Zi(t,e){to(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&no(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&no(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Ji(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function to(t,e,n){const r=Ni(t);null!==e.validator?t.setValidators(ki(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=Pi(t);if(null!==e.asyncValidator?t.setAsyncValidators(ki(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();Ji(e._rawValidators,n),Ji(e._rawAsyncValidators,n)}}function eo(t,e,n){if(null!==t){if(null!==e.validator){const n=Ni(t);Array.isArray(n)&&n.length>0&&t.setValidators(n.filter(t=>t!==e.validator))}if(null!==e.asyncValidator){const n=Pi(t);Array.isArray(n)&&n.length>0&&t.setAsyncValidators(n.filter(t=>t!==e.asyncValidator))}}if(n){const t=()=>{};Ji(e._rawValidators,t),Ji(e._rawAsyncValidators,t)}}function no(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ro(t,e){to(t,e,!1)}const io=[pi,$i,Hi,Yi,Xi,Gi];function oo(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const so="VALID",uo="INVALID",ao="PENDING",co="DISABLED";function lo(t){return(go(t)?t.validators:t)||null}function ho(t){return Array.isArray(t)?Ai(t):t||null}function fo(t,e){return(go(e)?e.asyncValidators:t)||null}function po(t){return Array.isArray(t)?ji(t):t||null}function go(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class vo{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=ho(this._rawValidators),this._composedAsyncValidatorFn=po(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===so}get invalid(){return this.status===uo}get pending(){return this.status==ao}get disabled(){return this.status===co}get enabled(){return this.status!==co}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=ho(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=po(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ao,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=co,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=so,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==so&&this.status!==ao||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?co:so}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ao,this._hasOwnPendingAsyncValidator=!0;const e=Si(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof mo?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof bo&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?co:this.errors?uo:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ao)?ao:this._anyControlsHaveStatus(uo)?uo:so}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){go(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class yo extends vo{constructor(t=null,e,n){super(lo(e),fo(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){oo(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){oo(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class mo extends vo{constructor(t,e,n){super(lo(e),fo(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof yo?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class bo extends vo{constructor(t,e,n){super(lo(e),fo(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof yo?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let wo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const _o=new r.q("NgModelWithFormControlWarning"),Oo={provide:Ri,useExisting:Object(r.T)(()=>Eo)};let Eo=(()=>{class t extends Ri{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Zi(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){oo(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);ro(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);ro(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),eo(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}(t.control||null,t),e&&Zi(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){to(this.form,this,!1),this._oldForm&&eo(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(wi,10),r.Ib(_i,10))},t.\u0275dir=r.Db({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Sb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([Oo]),r.vb,r.wb]}),t})();const Io={provide:Li,useExisting:Object(r.T)(()=>So)};let So=(()=>{class t extends Li{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===yi?n=t:(e=t,io.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return t=null==this.name?this.name:this.name.toString(),[...this._parent.path,t];var t}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Ri,13),r.Ib(wi,10),r.Ib(_i,10),r.Ib(fi,10),r.Ib(_o,8))},t.\u0275dir=r.Db({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.xb([Io]),r.vb,r.wb]}),t._ngModelWarningSentOnce=!1,t})(),To=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})(),Co=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new mo(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new yo(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new bo(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof yo||t instanceof mo||t instanceof bo?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),xo=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[Bi],imports:[To]}),t})(),Ao=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:_o,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[Co,Bi],imports:[To]}),t})();var jo=n("D0XW");function ko(){return t=>t.lift(new No)}class No{call(t,e){return e.subscribe(new Po(t))}}class Po extends bt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class Do{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Ro(t,this.compare,this.keySelector))}}class Ro extends bt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Vo=n("pxpQ"),Lo=n("spgP"),Mo=n("Jgta"),Uo=n("zIRd"),Fo=n("q/0M"),qo=n("qOnz"),Ho=function(t,e){return(Ho=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function zo(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Bo,Go="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Wo=Wo||{},$o=Go||self;function Qo(){}function Yo(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ko(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Xo="closure_uid_"+(1e9*Math.random()>>>0),Zo=0;function Jo(t,e,n){return t.call.apply(t.bind,arguments)}function ts(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function es(t,e,n){return(es=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Jo:ts).apply(null,arguments)}function ns(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function rs(){return Date.now()}function is(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function os(){this.j=this.j,this.i=this.i}os.prototype.j=!1,os.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Xo)&&t[Xo]||(t[Xo]=++Zo)}(this)},os.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var ss=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},us=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function as(t){return Array.prototype.concat.apply([],arguments)}function cs(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function ls(t){return/^[\s\xa0]*$/.test(t)}var hs,fs=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ds(t,e){return-1!=t.indexOf(e)}function ps(t,e){return t<e?-1:t>e?1:0}t:{var gs=$o.navigator;if(gs){var vs=gs.userAgent;if(vs){hs=vs;break t}}hs=""}function ys(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ms(t){var e={};for(var n in t)e[n]=t[n];return e}var bs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ws(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<bs.length;o++)n=bs[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function _s(t){return _s[" "](t),t}_s[" "]=Qo;var Os,Es,Is=ds(hs,"Opera"),Ss=ds(hs,"Trident")||ds(hs,"MSIE"),Ts=ds(hs,"Edge"),Cs=Ts||Ss,xs=ds(hs,"Gecko")&&!(ds(hs.toLowerCase(),"webkit")&&!ds(hs,"Edge"))&&!(ds(hs,"Trident")||ds(hs,"MSIE"))&&!ds(hs,"Edge"),As=ds(hs.toLowerCase(),"webkit")&&!ds(hs,"Edge");function js(){var t=$o.document;return t?t.documentMode:void 0}t:{var ks="",Ns=(Es=hs,xs?/rv:([^\);]+)(\)|;)/.exec(Es):Ts?/Edge\/([\d\.]+)/.exec(Es):Ss?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Es):As?/WebKit\/(\S+)/.exec(Es):Is?/(?:Version)[ \/]?(\S+)/.exec(Es):void 0);if(Ns&&(ks=Ns?Ns[1]:""),Ss){var Ps=js();if(null!=Ps&&Ps>parseFloat(ks)){Os=String(Ps);break t}}Os=ks}var Ds={};function Rs(t){return function(t,e){var n=Ds;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=fs(String(Os)).split("."),r=fs(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",u=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;e=ps(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||ps(0==s[2].length,0==u[2].length)||ps(s[2],u[2]),s=s[3],u=u[3]}while(0==e)}return 0<=e})}var Vs=$o.document&&Ss&&(js()||parseInt(Os,10))||void 0,Ls=!Ss||9<=Number(Vs),Ms=Ss&&!Rs("9"),Us=function(){if(!$o.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{$o.addEventListener("test",Qo,e),$o.removeEventListener("test",Qo,e)}catch(n){}return t}();function Fs(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function qs(t,e){if(Fs.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(xs){t:{try{_s(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Hs[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Fs.prototype.b=function(){this.defaultPrevented=!0},is(qs,Fs);var Hs={2:"touch",3:"pen",4:"mouse"};qs.prototype.b=function(){qs.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ms)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var zs="closure_listenable_"+(1e6*Math.random()|0),Bs=0;function Gs(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Bs,this.Y=this.Z=!1}function Ws(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function $s(t){this.src=t,this.a={},this.b=0}function Qs(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=ss(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ws(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Ys(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}$s.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Ys(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Gs(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Ks="closure_lm_"+(1e6*Math.random()|0),Xs={};function Zs(t,e,n,r,i){if(r&&r.once)return tu(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Zs(t,e[o],n,r,i);return null}return n=au(n),t&&t[zs]?t.va(e,n,Ko(r)?!!r.capture:!!r,i):Js(t,e,n,!1,r,i)}function Js(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Ko(i)?!!i.capture:!!i;if(s&&!Ls)return null;var u=su(t);if(u||(t[Ks]=u=new $s(t)),(n=u.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=ou,e=Ls?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Us||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ru(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function tu(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)tu(t,e[o],n,r,i);return null}return n=au(n),t&&t[zs]?t.wa(e,n,Ko(r)?!!r.capture:!!r,i):Js(t,e,n,!0,r,i)}function eu(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)eu(t,e[o],n,r,i);else r=Ko(r)?!!r.capture:!!r,n=au(n),t&&t[zs]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Ys(o=t.a[e],n,r,i))&&(Ws(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=su(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Ys(e,n,r,i)),(n=-1<t?e[t]:null)&&nu(n))}function nu(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[zs])Qs(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ru(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=su(e))?(Qs(n,t),0==n.b&&(n.src=null,e[Ks]=null)):Ws(t)}}}function ru(t){return t in Xs?Xs[t]:Xs[t]="on"+t}function iu(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&nu(t),n.call(r,e)}function ou(t,e){if(t.Y)return!0;if(!Ls){if(!e)t:{e=["window","event"];for(var n=$o,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return iu(t,e=new qs(e,this))}return iu(t,new qs(e,this))}function su(t){return(t=t[Ks])instanceof $s?t:null}var uu="__closure_events_fn_"+(1e9*Math.random()>>>0);function au(t){return"function"==typeof t?t:(t[uu]||(t[uu]=function(e){return t.handleEvent(e)}),t[uu])}function cu(){os.call(this),this.c=new $s(this),this.J=this,this.C=null}function lu(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Fs(e,t);else if(e instanceof Fs)e.target=e.target||t;else{var i=e;ws(e=new Fs(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=hu(s,r,!0,e)&&i}if(i=hu(s=e.a=t,r,!0,e)&&i,i=hu(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=hu(s=e.a=n[o],r,!1,e)&&i}function hu(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var u=s.listener,a=s.ca||s.src;s.Z&&Qs(t.c,s),i=!1!==u.call(a,r)&&i}}return i&&!r.defaultPrevented}is(cu,os),cu.prototype[zs]=!0,(Bo=cu.prototype).addEventListener=function(t,e,n,r){Zs(this,t,e,n,r)},Bo.removeEventListener=function(t,e,n,r){eu(this,t,e,n,r)},Bo.G=function(){if(cu.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ws(n[r]);delete e.a[t],e.b--}}this.C=null},Bo.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Bo.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var fu=$o.JSON.stringify;function du(){this.b=this.a=null}var pu,gu=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new yu},function(t){t.reset()});function vu(){var t=_u,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function yu(){this.next=this.b=this.a=null}function mu(t){$o.setTimeout(function(){throw t},0)}function bu(t,e){pu||function(){var t=$o.Promise.resolve(void 0);pu=function(){t.then(Ou)}}(),wu||(pu(),wu=!0),_u.add(t,e)}du.prototype.add=function(t,e){var n=gu.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},yu.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},yu.prototype.reset=function(){this.next=this.b=this.a=null};var wu=!1,_u=new du;function Ou(){for(var t;t=vu();){try{t.a.call(t.b)}catch(n){mu(n)}var e=gu;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}wu=!1}function Eu(t,e){cu.call(this),this.b=t||1,this.a=e||$o,this.f=es(this.Za,this),this.g=rs()}function Iu(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Su(t,e,n){if("function"==typeof t)n&&(t=es(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=es(t.handleEvent,t)}return 2147483647<Number(e)?-1:$o.setTimeout(t,e||0)}function Tu(t){t.a=Su(function(){t.a=null,t.c&&(t.c=!1,Tu(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}is(Eu,cu),(Bo=Eu.prototype).aa=!1,Bo.M=null,Bo.Za=function(){if(this.aa){var t=rs()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),lu(this,"tick"),this.aa&&(Iu(this),this.start()))}},Bo.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=rs())},Bo.G=function(){Eu.X.G.call(this),Iu(this),delete this.a};var Cu=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Ho(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Tu(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&($o.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(os);function xu(t){os.call(this),this.b=t,this.a={}}is(xu,os);var Au=[];function ju(t,e,n,r){Array.isArray(n)||(n&&(Au[0]=n.toString()),n=Au);for(var i=0;i<n.length;i++){var o=Zs(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function ku(t){ys(t.a,function(t,e){this.a.hasOwnProperty(e)&&nu(t)},t),t.a={}}function Nu(){this.a=!0}function Pu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return fu(n)}catch(u){return e}}(t,n)+(r?" "+r:"")})}xu.prototype.G=function(){xu.X.G.call(this),ku(this)},xu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Nu.prototype.info=function(){};var Du={},Ru=null;function Vu(){return Ru=Ru||new cu}function Lu(t){Fs.call(this,Du.Fa,t)}function Mu(t){var e=Vu();lu(e,new Lu(e,t))}function Uu(t,e){Fs.call(this,Du.STAT_EVENT,t),this.stat=e}function Fu(t){var e=Vu();lu(e,new Uu(e,t))}function qu(t){Fs.call(this,Du.Ga,t)}function Hu(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return $o.setTimeout(function(){t()},e)}Du.Fa="serverreachability",is(Lu,Fs),Du.STAT_EVENT="statevent",is(Uu,Fs),Du.Ga="timingevent",is(qu,Fs);var zu={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Bu={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Gu(){}function Wu(){}Gu.prototype.a=null;var $u,Qu={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Yu(){Fs.call(this,"d")}function Ku(){Fs.call(this,"c")}function Xu(){}function Zu(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new xu(this),this.P=Ju,this.R=new Eu(t=Cs?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}is(Yu,Fs),is(Ku,Fs),is(Xu,Gu),$u=new Xu;var Ju=45e3,ta={},ea={};function na(t,e,n){t.H=1,t.i=Ia(ma(e)),t.j=n,t.I=!0,ra(t,null)}function ra(t,e){t.u=rs(),sa(t),t.l=ma(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),La(n.b,"t",r),t.D=0,t.a=kc(t.g,t.g.C?e:null),0<t.O&&(t.F=new Cu(es(t.Ca,t,t.a),t.O)),ju(t.J,t.a,"readystatechange",t.Xa),e=t.B?ms(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Mu(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",u=o.split("&"),a=0;a<u.length;a++){var c=u[a].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function ia(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=oa(t,n);if(i==ea){4==e&&(t.h=4,Fu(14),r=!1),Pu(t.c,t.f,null,"[Incomplete Response]");break}if(i==ta){t.h=4,Fu(15),Pu(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Pu(t.c,t.f,i,null),ha(t,i)}4==e&&0==n.length&&(t.h=1,Fu(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ec(e),e.F=!0,Fu(11))):(Pu(t.c,t.f,n,"[Invalid Chunked Response]"),la(t),ca(t))}function oa(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ea:(n=Number(e.substring(n,r)),isNaN(n)?ta:(r+=1)+n>e.length?ea:(e=e.substr(r,n),t.D=r+n,e))}function sa(t){t.T=rs()+t.P,ua(t,t.P)}function ua(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Hu(es(t.Va,t),e)}function aa(t){t.o&&($o.clearTimeout(t.o),t.o=null)}function ca(t){0==t.g.v||t.A||Tc(t.g,t)}function la(t){aa(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Iu(t.R),ku(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ha(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Ba(n.b,t)))if(n.I=t.N,!t.C&&Ba(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(gb){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Sc(n),pc(n)}Oc(n),Fu(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Hu(es(n.Sa,n),6e3));if(1>=za(n.b)&&n.ea){try{n.ea()}catch(gb){}n.ea=void 0}}else xc(n,11)}else if((t.C||n.a==t)&&Sc(n),!ls(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var u=i[5];if(null!=u&&"number"==typeof u&&0<u){var a=1.5*u;n.D=a,n.c.info("backChannelRequestTimeoutMs_="+a)}a=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=a.b;!h.a&&(ds(l,"spdy")||ds(l,"quic")||ds(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Ga(h,h.b),h.b=null))}if(a.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(a.na=f,Ea(a.B,a.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=rs()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((a=n).la=jc(a,a.C?a.ga:null,a.fa),d.C){Wa(a.b,d);var p=d,g=a.D;g&&p.setTimeout(g),p.o&&(aa(p),sa(p)),a.a=d}else _c(a);0<n.g.length&&yc(n)}else"stop"!=i[0]&&"close"!=i[0]||xc(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?xc(n,7):dc(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Mu(4)}catch(gb){}}function fa(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Yo(t)||"string"==typeof t)us(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Yo(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Yo(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function da(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof da)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function pa(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];ga(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)ga(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function ga(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Bo=Zu.prototype).setTimeout=function(t){this.P=t},Bo.Xa=function(t){t=t.target;var e=this.F;e&&3==cc(t)?e.f():this.Ca(t)},Bo.Ca=function(t){try{if(t==this.a)t:{var e=cc(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Cs&&!this.a.$())){this.A||4!=e||7==n||Mu(8==n||0>=r?3:2),aa(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,u=this.a;if((s=u.a?u.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ls(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.h=3,Fu(12),la(this),ca(this);break t}Pu(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ha(this,a)}this.I?(ia(this,e,o),Cs&&this.b&&3==e&&(ju(this.J,this.R,"tick",this.Wa),this.R.start())):(Pu(this.c,this.f,o,null),ha(this,o)),4==e&&la(this),this.b&&!this.A&&(4==e?Tc(this.g,this):(this.b=!1,sa(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Fu(12)):(this.h=0,Fu(13)),la(this),ca(this)}}}catch(c){}},Bo.Wa=function(){if(this.a){var t=cc(this.a),e=this.a.$();this.D<e.length&&(aa(this),ia(this,t,e),this.b&&4!=t&&sa(this))}},Bo.cancel=function(){this.A=!0,la(this)},Bo.Va=function(){this.o=null;var t=rs();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Mu(3),Fu(17)),la(this),this.h=2,ca(this)):ua(this,this.T-t)},(Bo=da.prototype).K=function(){pa(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Bo.L=function(){return pa(this),this.a.concat()},Bo.get=function(t,e){return ga(this.b,t)?this.b[t]:e},Bo.set=function(t,e){ga(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Bo.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var va=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ya(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ya){this.a=void 0!==e?e:t.a,ba(this,t.f),this.j=t.j,wa(this,t.c),_a(this,t.h),this.g=t.g,e=t.b;var n=new Pa;n.c=e.c,e.a&&(n.a=new da(e.a),n.b=e.b),Oa(this,n),this.i=t.i}else t&&(n=String(t).match(va))?(this.a=!!e,ba(this,n[1]||"",!0),this.j=Sa(n[2]||""),wa(this,n[3]||"",!0),_a(this,n[4]),this.g=Sa(n[5]||"",!0),Oa(this,n[6]||"",!0),this.i=Sa(n[7]||"")):(this.a=!!e,this.b=new Pa(null,this.a))}function ma(t){return new ya(t)}function ba(t,e,n){t.f=n?Sa(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function wa(t,e,n){t.c=n?Sa(e,!0):e}function _a(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Oa(t,e,n){e instanceof Pa?(t.b=e,function(t,e){e&&!t.f&&(Da(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Ra(this,e),La(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Ta(e,ka)),t.b=new Pa(e,t.a))}function Ea(t,e,n){t.b.set(e,n)}function Ia(t){return Ea(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^rs()).toString(36)),t}function Sa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ta(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ca),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ca(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ya.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ta(e,xa,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ta(e,xa,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ta(n,"/"==n.charAt(0)?ja:Aa,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ta(n,Na)),t.join("")};var xa=/[#\/\?@]/g,Aa=/[#\?:]/g,ja=/[#\?]/g,ka=/[#\?@]/g,Na=/#/g;function Pa(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Da(t){t.a||(t.a=new da,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ra(t,e){Da(t),e=Ma(t,e),ga(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,ga((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&pa(t)))}function Va(t,e){return Da(t),e=Ma(t,e),ga(t.a.b,e)}function La(t,e,n){Ra(t,e),0<n.length&&(t.c=null,t.a.set(Ma(t,e),cs(n)),t.b+=n.length)}function Ma(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Bo=Pa.prototype).add=function(t,e){Da(this),this.c=null,t=Ma(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Bo.forEach=function(t,e){Da(this),this.a.forEach(function(n,r){us(n,function(n){t.call(e,n,r,this)},this)},this)},Bo.L=function(){Da(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Bo.K=function(t){Da(this);var e=[];if("string"==typeof t)Va(this,t)&&(e=as(e,this.a.get(Ma(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=as(e,t[n])}return e},Bo.set=function(t,e){return Da(this),this.c=null,Va(this,t=Ma(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Bo.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Bo.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Ua=function(){return function(t,e){this.b=t,this.a=e}}();function Fa(t){this.g=t||qa,t=$o.PerformanceNavigationTiming?0<(t=$o.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!($o.ia&&$o.ia.ya&&$o.ia.ya()&&$o.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var qa=10;function Ha(t){return!!t.b||!!t.a&&t.a.size>=t.f}function za(t){return t.b?1:t.a?t.a.size:0}function Ba(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Ga(t,e){t.a?t.a.add(e):t.b=e}function Wa(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function $a(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=zo(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return cs(t.c)}function Qa(){}function Ya(){this.a=new Qa}function Ka(t,e,n){var r=n||"";try{fa(t,function(t,n){var i=t;Ko(t)&&(i=fu(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(nw){throw e.push(r+"type="+encodeURIComponent("_badmap")),nw}}function Xa(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Fa.prototype.cancel=function(){var t,e;if(this.c=$a(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=zo(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Qa.prototype.stringify=function(t){return $o.JSON.stringify(t,void 0)},Qa.prototype.parse=function(t){return $o.JSON.parse(t,void 0)};var Za=$o.JSON.parse;function Ja(t){cu.call(this),this.headers=new da,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=tc,this.D=this.F=!1}is(Ja,cu);var tc="",ec=/^https?$/i,nc=["POST","PUT"];function rc(t){return"content-type"==t.toLowerCase()}function ic(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,oc(t),uc(t)}function oc(t){t.u||(t.u=!0,lu(t,"complete"),lu(t,"error"))}function sc(t){if(t.b&&void 0!==Wo&&(!t.s[1]||4!=cc(t)||2!=t.W()))if(t.l&&4==cc(t))Su(t.za,0,t);else if(lu(t,"readystatechange"),4==cc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(va)[1]||null;if(!o&&$o.self&&$o.self.location){var s=$o.self.location.protocol;o=s.substr(0,s.length-1)}i=!ec.test(o?o.toLowerCase():"")}e=i}if(e)lu(t,"complete"),lu(t,"success");else{t.h=6;try{var u=2<cc(t)?t.a.statusText:""}catch(n){u=""}t.f=u+" ["+t.W()+"]",oc(t)}}finally{uc(t)}}}function uc(t,e){if(t.a){ac(t);var n=t.a,r=t.s[0]?Qo:null;t.a=null,t.s=null,e||lu(t,"ready");try{n.onreadystatechange=r}catch(nw){}}}function ac(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&($o.clearTimeout(t.m),t.m=null)}function cc(t){return t.a?t.a.readyState:0}function lc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return ys(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ea(t,e,n))}function hc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function fc(t){this.pa=0,this.g=[],this.c=new Nu,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=hc("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=hc("baseRetryDelayMs",5e3,t),this.Ra=hc("retryDelaySeedMs",1e4,t),this.Ma=hc("forwardChannelMaxRetries",2,t),this.ma=hc("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Fa(t&&t.concurrentRequestLimit),this.ka=new Ya,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function dc(t){if(gc(t),3==t.v){var e=t.R++,n=ma(t.B);Ea(n,"SID",t.J),Ea(n,"RID",e),Ea(n,"TYPE","terminate"),bc(t,n),(e=new Zu(t,t.c,e,void 0)).H=2,e.i=Ia(ma(n)),n=!1,$o.navigator&&$o.navigator.sendBeacon&&(n=$o.navigator.sendBeacon(e.i.toString(),"")),!n&&$o.Image&&((new Image).src=e.i,n=!0),n||(e.a=kc(e.g,null),e.a.ba(e.i)),e.u=rs(),sa(e)}Ac(t)}function pc(t){t.a&&(Ec(t),t.a.cancel(),t.a=null)}function gc(t){pc(t),t.j&&($o.clearTimeout(t.j),t.j=null),Sc(t),t.b.cancel(),t.h&&("number"==typeof t.h&&$o.clearTimeout(t.h),t.h=null)}function vc(t,e){t.g.push(new Ua(t.Oa++,e)),3==t.v&&yc(t)}function yc(t){Ha(t.b)||t.h||(t.h=!0,bu(t.Ba,t),t.u=0)}function mc(t,e){var n;n=e?e.f:t.R++;var r=ma(t.B);Ea(r,"SID",t.J),Ea(r,"RID",n),Ea(r,"AID",t.P),bc(t,r),t.i&&t.l&&lc(r,t.i,t.l),n=new Zu(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=wc(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Ga(t.b,n),na(n,r,e)}function bc(t,e){t.f&&fa({},function(t,n){Ea(e,n,t)})}function wc(t,e,n){n=Math.min(t.g.length,n);var r=t.f?es(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var u=!0,a=0;a<n;a++){var c=i[a].b,l=i[a].a;if(0>(c-=o))o=Math.max(0,i[a].b-100),u=!1;else try{Ka(l,s,"req"+c+"_")}catch(dl){r&&r(l)}}if(u){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function _c(t){t.a||t.j||(t.T=1,bu(t.Aa,t),t.o=0)}function Oc(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Hu(es(t.Aa,t),Cc(t,t.o)),t.o++,0))}function Ec(t){null!=t.s&&($o.clearTimeout(t.s),t.s=null)}function Ic(t){t.a=new Zu(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=ma(t.la);Ea(e,"RID","rpc"),Ea(e,"SID",t.J),Ea(e,"CI",t.H?"0":"1"),Ea(e,"AID",t.P),bc(t,e),Ea(e,"TYPE","xmlhttp"),t.i&&t.l&&lc(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ia(ma(e)),n.j=null,n.I=!0,ra(n,t)}function Sc(t){null!=t.m&&($o.clearTimeout(t.m),t.m=null)}function Tc(t,e){var n=null;if(t.a==e){Sc(t),Ec(t),t.a=null;var r=2}else{if(!Ba(t.b,e))return;n=e.s,Wa(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=rs()-e.u;var i=t.u;lu(r=Vu(),new qu(r,n,e,i)),yc(t)}else _c(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(za(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Hu(es(t.Ba,t,e),Cc(t,t.u)),t.u++,0)))}(t,e)||2==r&&Oc(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:xc(t,5);break;case 4:xc(t,10);break;case 3:xc(t,6);break;default:xc(t,2)}}function Cc(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function xc(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=es(t.Ya,t);n||(n=new ya("//www.google.com/images/cleardot.gif"),$o.location&&"http"==$o.location.protocol||ba(n,"https"),Ia(n)),function(t,e){var n=new Nu;if($o.Image){var r=new Image;r.onload=ns(Xa,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ns(Xa,n,r,"TestLoadImage: error",!1,e),r.onabort=ns(Xa,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ns(Xa,n,r,"TestLoadImage: timeout",!1,e),$o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Fu(2);t.v=0,t.f&&t.f.ra(e),Ac(t),gc(t)}function Ac(t){t.v=0,t.I=-1,t.f&&(0==$a(t.b).length&&0==t.g.length||(t.b.c.length=0,cs(t.g),t.g.length=0),t.f.qa())}function jc(t,e,n){var r=function(t){return t instanceof ya?ma(t):new ya(t,void 0)}(n);if(""!=r.c)e&&wa(r,e+"."+r.c),_a(r,r.h);else{var i=$o.location;r=function(t,e,n,r){var i=new ya(null,void 0);return t&&ba(i,t),e&&wa(i,e),n&&_a(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&ys(t.V,function(t,e){Ea(r,e,t)}),n=t.na,(e=t.A)&&n&&Ea(r,e,n),Ea(r,"VER",t.ha),bc(t,r),r}function kc(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ja(t.Na)).F=t.C,e}function Nc(){}function Pc(){if(Ss&&!(10<=Number(Vs)))throw Error("Environmental error: no available transport.")}function Dc(t,e){cu.call(this),this.a=new fc(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!ls(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ls(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Lc(this)}function Rc(t){Yu.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Vc(){Ku.call(this),this.status=1}function Lc(t){this.a=t}(Bo=Ja.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:$u),this.a.onreadystatechange=es(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void ic(this,o)}t=n||"";var i=new da(this.headers);r&&fa(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=rc,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=$o.FormData&&t instanceof $o.FormData,!(0<=ss(nc,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{ac(this),0<this.o&&((this.D=function(t){return Ss&&Rs(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=es(this.xa,this)):this.m=Su(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){ic(this,o)}},Bo.xa=function(){void 0!==Wo&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,lu(this,"timeout"),this.abort(8))},Bo.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,lu(this,"complete"),lu(this,"abort"),uc(this))},Bo.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),uc(this,!0)),Ja.X.G.call(this)},Bo.za=function(){this.j||(this.A||this.l||this.g?sc(this):this.Ua())},Bo.Ua=function(){sc(this)},Bo.W=function(){try{return 2<cc(this)?this.a.status:-1}catch(Es){return-1}},Bo.$=function(){try{return this.a?this.a.responseText:""}catch(Es){return""}},Bo.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Za(e)}},Bo.ua=function(){return this.h},Bo.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Bo=fc.prototype).ha=8,Bo.v=1,Bo.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Zu(this,this.c,t,void 0),r=this.l;if(this.O&&(r?ws(r=ms(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=wc(this,n,e),Ea(i=ma(this.B),"RID",t),Ea(i,"CVER",22),this.A&&Ea(i,"X-HTTP-Session-Id",this.A),bc(this,i),this.i&&r&&lc(i,this.i,r),Ga(this.b,n),this.Ia&&Ea(i,"TYPE","init"),this.da?(Ea(i,"$req",e),Ea(i,"SID","null"),n.U=!0,na(n,i,null)):na(n,i,e),this.v=2}}else 3==this.v&&(t?mc(this,t):0==this.g.length||Ha(this.b)||mc(this))},Bo.Aa=function(){if(this.j=null,Ic(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Hu(es(this.Ta,this),t)}},Bo.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Fu(10),pc(this),Ic(this))},Bo.Sa=function(){null!=this.m&&(this.m=null,pc(this),Oc(this),Fu(19))},Bo.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Fu(2)):(this.c.info("Failed to ping google.com"),Fu(1))},(Bo=Nc.prototype).ta=function(){},Bo.sa=function(){},Bo.ra=function(){},Bo.qa=function(){},Bo.Ja=function(){},Pc.prototype.a=function(t,e){return new Dc(t,e)},is(Dc,cu),Dc.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Fu(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=jc(t,null,t.fa),yc(t)},Dc.prototype.close=function(){dc(this.a)},Dc.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,vc(this.a,e)}else this.l?((e={}).__data__=fu(t),vc(this.a,e)):vc(this.a,t)},Dc.prototype.G=function(){this.a.f=null,delete this.f,dc(this.a),delete this.a,Dc.X.G.call(this)},is(Rc,Yu),is(Vc,Ku),is(Lc,Nc),Lc.prototype.ta=function(){lu(this.a,"a")},Lc.prototype.sa=function(t){lu(this.a,new Rc(t))},Lc.prototype.ra=function(t){lu(this.a,new Vc(t))},Lc.prototype.qa=function(){lu(this.a,"b")},Pc.prototype.createWebChannel=Pc.prototype.a,Dc.prototype.send=Dc.prototype.h,Dc.prototype.open=Dc.prototype.g,Dc.prototype.close=Dc.prototype.close,zu.NO_ERROR=0,zu.TIMEOUT=8,zu.HTTP_ERROR=6,Bu.COMPLETE="complete",Wu.EventType=Qu,Qu.OPEN="a",Qu.CLOSE="b",Qu.ERROR="c",Qu.MESSAGE="d",cu.prototype.listen=cu.prototype.va,Ja.prototype.listenOnce=Ja.prototype.wa,Ja.prototype.getLastError=Ja.prototype.Qa,Ja.prototype.getLastErrorCode=Ja.prototype.ua,Ja.prototype.getStatus=Ja.prototype.W,Ja.prototype.getResponseJson=Ja.prototype.Pa,Ja.prototype.getResponseText=Ja.prototype.$,Ja.prototype.send=Ja.prototype.ba;var Mc=zu,Uc=Bu,Fc=Du,qc=Wu,Hc=Ja,zc=n("os0x"),Bc=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},Gc=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Wc=new Fo.b("@firebase/firestore");function $c(){return Wc.logLevel}function Qc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Wc.logLevel<=Fo.a.DEBUG){var r=e.map(Xc);Wc.debug.apply(Wc,Object(zc.g)(["Firestore (8.2.9): "+t],r))}}function Yc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Wc.logLevel<=Fo.a.ERROR){var r=e.map(Xc);Wc.error.apply(Wc,Object(zc.g)(["Firestore (8.2.9): "+t],r))}}function Kc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Wc.logLevel<=Fo.a.WARN){var r=e.map(Xc);Wc.warn.apply(Wc,Object(zc.g)(["Firestore (8.2.9): "+t],r))}}function Xc(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(nw){return t}}function Zc(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.9) INTERNAL ASSERTION FAILED: "+t;throw Yc(e),new Error(e)}function Jc(t,e){t||Zc()}function tl(t,e){return t}function el(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var nl=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=el(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function rl(t,e){return t<e?-1:t>e?1:0}function il(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function ol(t){return t+"\0"}var sl=function(){function t(t){this.h=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.h)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(t){return rl(this.h,t.h)},t.prototype.isEqual=function(t){return this.h===t.h},t}();sl.T=new sl("");var ul={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},al=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(zc.c)(e,t),e}(Error),cl=function(){function t(t){this.I=t}return t.fromBase64String=function(e){try{return new t(sl.fromBase64String(e))}catch(e){throw new al(ul.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(sl.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.I.isEqual(t.I)},t}(),ll=function(){function t(t){this.uid=t}return t.prototype.m=function(){return null!=this.uid},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();ll.UNAUTHENTICATED=new ll(null),ll.R=new ll("google-credentials-uid"),ll.P=new ll("first-party-uid");var hl=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},fl=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(t){this.V=t,t(ll.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),dl=function(){function t(t){var e=this;this.D=null,this.currentUser=ll.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){e.N++,e.currentUser=e.$(),e.C=!0,e.V&&e.V(e.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then(function(t){e.auth=t,e.D&&e.auth.addAuthTokenListener(e.D)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.N,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.N!==e?(Qc("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Jc("string"==typeof n.accessToken),new hl(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.$=function(){var t=this.auth&&this.auth.getUid();return Jc(null===t||"string"==typeof t),new ll(t)},t}(),pl=function(){function t(t,e){this.F=t,this.O=e,this.type="FirstParty",this.user=ll.P}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.O},e=this.F.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),gl=function(){function t(t,e){this.F=t,this.O=e}return t.prototype.getToken=function(){return Promise.resolve(new pl(this.F,this.O))},t.prototype.v=function(t){t(ll.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),vl=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.k=function(t){return n.M(t)},this.L=function(t){return e.B(t)})}return t.prototype.M=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.L&&this.L(t),t},t}();vl.q=-1;var yl=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new al(ul.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new al(ul.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new al(ul.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new al(ul.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?rl(this.nanoseconds,t.nanoseconds):rl(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ml=function(){function t(t){this.timestamp=t}return t.K=function(e){return new t(e)},t.min=function(){return new t(new yl(0,0))},t.prototype._=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),bl=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Zc(),void 0===n?n=t.length-e:n>t.length-e&&Zc(),this.segments=t,this.offset=e,this.G=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.H(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(t){return this.J(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.et=function(){return 0===this.length},t.prototype.nt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),wl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(zc.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new al(ul.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.ct=function(){return new e([])},e}(bl),_l=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ol=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(zc.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.at=function(t){return _l.test(t)},e.prototype.rt=function(){return this.it().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.ht=function(){return new e(["__name__"])},e.lt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new al(ul.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var u=t[i];if("\\"===u){if(i+1===t.length)throw new al(ul.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[i+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new al(ul.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else"`"===u?(s=!s,i++):"."!==u||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new al(ul.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.ct=function(){return new e([])},e}(bl),El=function(){function t(t){this.path=t}return t._t=function(e){return new t(wl.ot(e))},t.ft=function(e){return new t(wl.ot(e).Y(5))},t.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===wl.H(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.H=function(t,e){return wl.H(t.path,e.path)},t.wt=function(t){return t.length%2==0},t.Et=function(e){return new t(new wl(e.slice()))},t}();function Il(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Sl(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Tl(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Cl=function(){function t(t){this.fields=t,t.sort(Ol.H)}return t.prototype.Tt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].nt(t))return!0;return!1},t.prototype.isEqual=function(t){return il(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),xl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Al(t){if(Jc(!!t),"string"==typeof t){var e=0,n=xl.exec(t);if(Jc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:jl(t.seconds),nanos:jl(t.nanos)}}function jl(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function kl(t){return"string"==typeof t?sl.fromBase64String(t):sl.fromUint8Array(t)}function Nl(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Pl(t){var e=t.mapValue.fields.__previous_value__;return Nl(e)?Pl(e):e}function Dl(t){var e=Al(t.mapValue.fields.__local_write_time__.timestampValue);return new yl(e.seconds,e.nanos)}function Rl(t){return null==t}function Vl(t){return 0===t&&1/t==-1/0}function Ll(t){return"number"==typeof t&&Number.isInteger(t)&&!Vl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Ml(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Nl(t)?4:10:Zc()}function Ul(t,e){var n=Ml(t);if(n!==Ml(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dl(t).isEqual(Dl(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Al(t.timestampValue),r=Al(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return kl(t.bytesValue).isEqual(kl(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return jl(t.geoPointValue.latitude)===jl(e.geoPointValue.latitude)&&jl(t.geoPointValue.longitude)===jl(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return jl(t.integerValue)===jl(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=jl(t.doubleValue),r=jl(e.doubleValue);return n===r?Vl(n)===Vl(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return il(t.arrayValue.values||[],e.arrayValue.values||[],Ul);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Il(n)!==Il(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ul(n[i],r[i])))return!1;return!0}(t,e);default:return Zc()}}function Fl(t,e){return void 0!==(t.values||[]).find(function(t){return Ul(t,e)})}function ql(t,e){var n=Ml(t),r=Ml(e);if(n!==r)return rl(n,r);switch(n){case 0:return 0;case 1:return rl(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=jl(t.integerValue||t.doubleValue),r=jl(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Hl(t.timestampValue,e.timestampValue);case 4:return Hl(Dl(t),Dl(e));case 5:return rl(t.stringValue,e.stringValue);case 6:return function(t,e){var n=kl(t),r=kl(e);return n._(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=rl(n[i],r[i]);if(0!==o)return o}return rl(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=rl(jl(t.latitude),jl(e.latitude));return 0!==n?n:rl(jl(t.longitude),jl(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=ql(n[i],r[i]);if(o)return o}return rl(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var u=rl(r[s],o[s]);if(0!==u)return u;var a=ql(n[r[s]],i[o[s]]);if(0!==a)return a}return rl(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Zc()}}function Hl(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return rl(t,e);var n=Al(t),r=Al(e),i=rl(n.seconds,r.seconds);return 0!==i?i:rl(n.nanos,r.nanos)}function zl(t){return Bl(t)}function Bl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Al(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?kl(t.bytesValue).toBase64():"referenceValue"in t?El.ft(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Bl(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Bl(t.fields[o])}return e+"}"}(t.mapValue):Zc();var e}function Gl(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function Wl(t){return!!t&&"integerValue"in t}function $l(t){return!!t&&"arrayValue"in t}function Ql(t){return!!t&&"nullValue"in t}function Yl(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kl(t){return!!t&&"mapValue"in t}var Xl=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.et())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Kl(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.tt()])||null},t.prototype.isEqual=function(t){return Ul(this.proto,t.proto)},t}(),Zl=function(){function t(t){void 0===t&&(t=Xl.empty()),this.It=t,this.At=new Map}return t.prototype.set=function(t,e){return this.Rt(t,e),this},t.prototype.delete=function(t){return this.Rt(t,null),this},t.prototype.Rt=function(t,e){for(var n=this.At,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Ml(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.tt(),e)},t.prototype.Pt=function(){var t=this.yt(Ol.ct(),this.At);return null!=t?new Xl(t):this.It},t.prototype.yt=function(t,e){var n=this,r=!1,i=this.It.field(t),o=Kl(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.yt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function Jl(t){var e=[];return Sl(t.fields||{},function(t,n){var r=new Ol([t]);if(Kl(n)){var i=Jl(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new Cl(e)}var th=function(t,e){this.key=t,this.version=e},eh=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).gt=r,o.Vt=!!i.Vt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(zc.c)(e,t),e.prototype.field=function(t){return this.gt.field(t)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Vt===t.Vt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gt.isEqual(t.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(th),nh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(zc.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(th),rh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(zc.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(th),ih=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.vt=null};function oh(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new ih(t,e,n,r,i,o,s)}function sh(t){var e=tl(t);if(null===e.vt){var n=e.path.rt();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.rt()+t.op.toString()+zl(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.rt()+t.dir}(t)}).join(","),Rl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=bh(e.startAt)),e.endAt&&(n+="|ub:",n+=bh(e.endAt)),e.vt=n}return e.vt}function uh(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!_h(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Ul(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Eh(t.startAt,e.startAt)&&Eh(t.endAt,e.endAt)}function ah(t){return El.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var ch=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(zc.c)(e,t),e.create=function(t,n,r){return t.ut()?"in"===n||"not-in"===n?this.St(t,n,r):new lh(t,n,r):"array-contains"===n?new ph(t,r):"in"===n?new gh(t,r):"not-in"===n?new vh(t,r):"array-contains-any"===n?new yh(t,r):new e(t,n,r)},e.St=function(t,e,n){return"in"===e?new hh(t,n):new fh(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Dt(ql(e,this.value)):null!==e&&Ml(this.value)===Ml(e)&&this.Dt(ql(e,this.value))},e.prototype.Dt=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Zc()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),lh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=El.ft(r.referenceValue),i}return Object(zc.c)(e,t),e.prototype.matches=function(t){var e=El.H(t.key,this.key);return this.Dt(e)},e}(ch),hh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=dh(0,n),r}return Object(zc.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(ch),fh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=dh(0,n),r}return Object(zc.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(ch);function dh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return El.ft(t.referenceValue)})}var ph=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(zc.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return $l(e)&&Fl(e.arrayValue,this.value)},e}(ch),gh=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(zc.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Fl(this.value.arrayValue,e)},e}(ch),vh=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(zc.c)(e,t),e.prototype.matches=function(t){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Fl(this.value.arrayValue,e)},e}(ch),yh=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(zc.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!$l(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Fl(e.value.arrayValue,t)})},e}(ch),mh=function(t,e){this.position=t,this.before=e};function bh(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return zl(t)}).join(",")}var wh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function _h(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Oh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ut()?El.H(El.ft(s.referenceValue),n.key):ql(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Eh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ul(t.position[n],e.position[n]))return!1;return!0}var Ih=function(t,e,n,r,i,o,s,u){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=u,this.Nt=null,this.$t=null};function Sh(t,e,n,r,i,o,s,u){return new Ih(t,e,n,r,i,o,s,u)}function Th(t){return new Ih(t)}function Ch(t){return!Rl(t.limit)&&"F"===t.limitType}function xh(t){return!Rl(t.limit)&&"L"===t.limitType}function Ah(t){return t.xt.length>0?t.xt[0].field:null}function jh(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function kh(t){return null!==t.collectionGroup}function Nh(t){var e=tl(t);if(null===e.Nt){e.Nt=[];var n=jh(e),r=Ah(e);if(null!==n&&null===r)n.ut()||e.Nt.push(new wh(n)),e.Nt.push(new wh(Ol.ht(),"asc"));else{for(var i=!1,o=0,s=e.xt;o<s.length;o++){var u=s[o];e.Nt.push(u),u.field.ut()&&(i=!0)}if(!i){var a=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new wh(Ol.ht(),a))}}}return e.Nt}function Ph(t){var e=tl(t);if(!e.$t)if("F"===e.limitType)e.$t=oh(e.path,e.collectionGroup,Nh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Nh(e);r<i.length;r++){var o=i[r];n.push(new wh(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new mh(e.endAt.position,!e.endAt.before):null,u=e.startAt?new mh(e.startAt.position,!e.startAt.before):null;e.$t=oh(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.$t}function Dh(t,e,n){return new Ih(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rh(t,e){return uh(Ph(t),Ph(e))&&t.limitType===e.limitType}function Vh(t){return sh(Ph(t))+"|lt:"+t.limitType}function Lh(t){return"Query(target="+function(t){var e=t.path.rt();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.rt()+" "+e.op+" "+zl(e.value);var e}).join(", ")+"]"),Rl(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.rt()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+bh(t.startAt)),t.endAt&&(e+=", endAt: "+bh(t.endAt)),"Target("+e+")"}(Ph(t))+"; limitType="+t.limitType+")"}function Mh(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.dt(t.collectionGroup)&&t.path.nt(n):El.wt(t.path)?t.path.isEqual(n):t.path.st(n)}(t,e)&&function(t,e){for(var n=0,r=t.xt;n<r.length;n++){var i=r[n];if(!i.field.ut()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Oh(t.startAt,Nh(t),e)||t.endAt&&Oh(t.endAt,Nh(t),e))}(t,e)}function Uh(t){return function(e,n){for(var r=!1,i=0,o=Nh(t);i<o.length;i++){var s=o[i],u=Fh(s,e,n);if(0!==u)return u;r=r||s.field.ut()}return 0}}function Fh(t,e,n){var r=t.field.ut()?El.H(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?ql(r,i):Zc()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Zc()}}var qh=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=ml.min()),void 0===o&&(o=ml.min()),void 0===s&&(s=sl.T),this.target=t,this.targetId=e,this.Ft=n,this.sequenceNumber=r,this.Ot=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.kt=function(e){return new t(this.target,this.targetId,this.Ft,e,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Mt=function(e,n){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,e,this.resumeToken)},t}();function Hh(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vl(e)?"-0":e}}function zh(t){return{integerValue:""+t}}function Bh(t,e){return Ll(e)?zh(e):Hh(t,e)}var Gh=function(){this.qt=void 0};function Wh(t,e,n){return t instanceof Yh?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Kh?Xh(t,e):t instanceof Zh?Jh(t,e):function(t,e){var n=Qh(t,e),r=ef(n)+ef(t.Ut);return Wl(n)&&Wl(t.Ut)?zh(r):Hh(t.Qt,r)}(t,e)}function $h(t,e,n){return t instanceof Kh?Xh(t,e):t instanceof Zh?Jh(t,e):n}function Qh(t,e){return t instanceof tf?Wl(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Yh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(zc.c)(e,t),e}(Gh),Kh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(zc.c)(e,t),e}(Gh);function Xh(t,e){for(var n=nf(e),r=function(t){n.some(function(e){return Ul(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Zh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(zc.c)(e,t),e}(Gh);function Jh(t,e){for(var n=nf(e),r=function(t){n=n.filter(function(e){return!Ul(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var tf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.Ut=n,r}return Object(zc.c)(e,t),e}(Gh);function ef(t){return jl(t.integerValue||t.doubleValue)}function nf(t){return $l(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var rf=function(t,e){this.field=t,this.transform=e},of=function(t,e){this.version=t,this.transformResults=e},sf=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function uf(t,e){return void 0!==t.updateTime?e instanceof eh&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof eh}var af=function(){};function cf(t,e,n){return t instanceof pf?function(t,e,n){var r=t.value;if(n.transformResults){var i=yf(t.fieldTransforms,e,n.transformResults);r=bf(t.fieldTransforms,r,i)}return new eh(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof gf?function(t,e,n){if(!uf(t.jt,e))return new rh(t.key,n.version);var r=vf(t,e,n.transformResults?yf(t.fieldTransforms,e,n.transformResults):[]);return new eh(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new nh(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function lf(t,e,n){return t instanceof pf?function(t,e,n){if(!uf(t.jt,e))return e;var r=t.value,i=mf(t.fieldTransforms,n,e);r=bf(t.fieldTransforms,r,i);var o=df(e);return new eh(t.key,o,r,{Vt:!0})}(t,e,n):t instanceof gf?function(t,e,n){if(!uf(t.jt,e))return e;var r=df(e),i=vf(t,e,mf(t.fieldTransforms,n,e));return new eh(t.key,r,i,{Vt:!0})}(t,e,n):function(t,e){return uf(t.jt,e)?new nh(t.key,ml.min()):e}(t,e)}function hf(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof eh?e.field(o.field):void 0,u=Qh(o.transform,s||null);null!=u&&(n=null==n?(new Zl).set(o.field,u):n.set(o.field,u))}return n?n.Pt():null}(t.fieldTransforms,e)}function ff(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&il(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Kh&&e instanceof Kh||t instanceof Zh&&e instanceof Zh?il(t.elements,e.elements,Ul):t instanceof tf&&e instanceof tf?Ul(t.Ut,e.Ut):t instanceof Yh&&e instanceof Yh}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function df(t){return t instanceof eh?t.version:ml.min()}var pf=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.jt=r,o.fieldTransforms=i,o.type=0,o}return Object(zc.c)(e,t),e}(af),gf=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Gt=r,s.jt=i,s.fieldTransforms=o,s.type=1,s}return Object(zc.c)(e,t),e}(af);function vf(t,e,n){var r;return r=function(t,e){var n=new Zl(e);return t.Gt.fields.forEach(function(e){if(!e.et()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.Pt()}(t,r=e instanceof eh?e.data():Xl.empty()),bf(t.fieldTransforms,r,n)}function yf(t,e,n){var r=[];Jc(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,u=null;e instanceof eh&&(u=e.field(o.field)),r.push($h(s,u,n[i]))}return r}function mf(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i],u=s.transform,a=null;n instanceof eh&&(a=n.field(s.field)),r.push(Wh(u,a,e))}return r}function bf(t,e,n){for(var r=new Zl(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.Pt()}var wf,_f,Of=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=2,r.fieldTransforms=[],r}return Object(zc.c)(e,t),e}(af),Ef=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=3,r.fieldTransforms=[],r}return Object(zc.c)(e,t),e}(af),If=function(t){this.count=t};function Sf(t){switch(t){case ul.OK:return Zc();case ul.CANCELLED:case ul.UNKNOWN:case ul.DEADLINE_EXCEEDED:case ul.RESOURCE_EXHAUSTED:case ul.INTERNAL:case ul.UNAVAILABLE:case ul.UNAUTHENTICATED:return!1;case ul.INVALID_ARGUMENT:case ul.NOT_FOUND:case ul.ALREADY_EXISTS:case ul.PERMISSION_DENIED:case ul.FAILED_PRECONDITION:case ul.ABORTED:case ul.OUT_OF_RANGE:case ul.UNIMPLEMENTED:case ul.DATA_LOSS:return!0;default:return Zc()}}function Tf(t){if(void 0===t)return Yc("GRPC error has no .code"),ul.UNKNOWN;switch(t){case wf.OK:return ul.OK;case wf.CANCELLED:return ul.CANCELLED;case wf.UNKNOWN:return ul.UNKNOWN;case wf.DEADLINE_EXCEEDED:return ul.DEADLINE_EXCEEDED;case wf.RESOURCE_EXHAUSTED:return ul.RESOURCE_EXHAUSTED;case wf.INTERNAL:return ul.INTERNAL;case wf.UNAVAILABLE:return ul.UNAVAILABLE;case wf.UNAUTHENTICATED:return ul.UNAUTHENTICATED;case wf.INVALID_ARGUMENT:return ul.INVALID_ARGUMENT;case wf.NOT_FOUND:return ul.NOT_FOUND;case wf.ALREADY_EXISTS:return ul.ALREADY_EXISTS;case wf.PERMISSION_DENIED:return ul.PERMISSION_DENIED;case wf.FAILED_PRECONDITION:return ul.FAILED_PRECONDITION;case wf.ABORTED:return ul.ABORTED;case wf.OUT_OF_RANGE:return ul.OUT_OF_RANGE;case wf.UNIMPLEMENTED:return ul.UNIMPLEMENTED;case wf.DATA_LOSS:return ul.DATA_LOSS;default:return Zc()}}(_f=wf||(wf={}))[_f.OK=0]="OK",_f[_f.CANCELLED=1]="CANCELLED",_f[_f.UNKNOWN=2]="UNKNOWN",_f[_f.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_f[_f.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_f[_f.NOT_FOUND=5]="NOT_FOUND",_f[_f.ALREADY_EXISTS=6]="ALREADY_EXISTS",_f[_f.PERMISSION_DENIED=7]="PERMISSION_DENIED",_f[_f.UNAUTHENTICATED=16]="UNAUTHENTICATED",_f[_f.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_f[_f.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_f[_f.ABORTED=10]="ABORTED",_f[_f.OUT_OF_RANGE=11]="OUT_OF_RANGE",_f[_f.UNIMPLEMENTED=12]="UNIMPLEMENTED",_f[_f.INTERNAL=13]="INTERNAL",_f[_f.UNAVAILABLE=14]="UNAVAILABLE",_f[_f.DATA_LOSS=15]="DATA_LOSS";var Cf=function(){function t(t,e){this.H=t,this.root=e||Af.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,Af.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,Af.Ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.et();){var n=this.H(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.et();){var r=this.H(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(t){return this.root.Xt(t)},t.prototype.forEach=function(t){this.Xt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Xt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.te=function(){return new xf(this.root,null,this.H,!1)},t.prototype.ee=function(t){return new xf(this.root,t,this.H,!1)},t.prototype.ne=function(){return new xf(this.root,null,this.H,!0)},t.prototype.se=function(t){return new xf(this.root,t,this.H,!0)},t}(),xf=function(){function t(t,e,n,r){this.ie=r,this.re=[];for(var i=1;!t.et();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ie?t.left:t.right;else{if(0===i){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return t.prototype.oe=function(){var t=this.re.pop(),e={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return e},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(0===this.re.length)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},t}(),Af=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},t.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.zt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.zt(t,e,n))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),0===n(e,i.key)){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},t.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},t.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le())throw Zc();if(this.right.le())throw Zc();var t=this.left.Ie();if(t!==this.right.Ie())throw Zc();return t+(this.le()?0:1)},t}();Af.EMPTY=null,Af.RED=!0,Af.Ht=!1,Af.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Zc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Zc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Zc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Zc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Zc()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.zt=function(t,e,n){return new Af(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(t){return!1},t.prototype.Zt=function(t){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());var jf=function(){function t(t){this.H=t,this.data=new Cf(this.H)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Xt(function(e,n){return t(e),!1})},t.prototype.me=function(t,e){for(var n=this.data.ee(t[0]);n.ce();){var r=n.oe();if(this.H(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ae=function(t,e){var n;for(n=void 0!==e?this.data.ee(e):this.data.te();n.ce();)if(!t(n.oe().key))return},t.prototype.Re=function(t){var e=this.data.ee(t);return e.ce()?e.oe().key:null},t.prototype.te=function(){return new kf(this.data.te())},t.prototype.ee=function(t){return new kf(this.data.ee(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(0!==this.H(i,o))return!1}return!0},t.prototype.it=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),kf=function(){function t(t){this.ye=t}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),Nf=new Cf(El.H);function Pf(){return Nf}function Df(){return Pf()}var Rf=new Cf(El.H);function Vf(){return Rf}var Lf=new Cf(El.H);function Mf(){return Lf}var Uf=new jf(El.H);function Ff(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Uf,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var qf=new jf(rl);function Hf(){return qf}var zf=function(){function t(t){this.H=t?function(e,n){return t(e,n)||El.H(e.key,n.key)}:function(t,e){return El.H(t.key,e.key)},this.ge=Vf(),this.Ve=new Cf(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(t){return null!=this.ge.get(t)},t.prototype.get=function(t){return this.ge.get(t)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(t){var e=this.ge.get(t);return e?this.Ve.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ve.Xt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ge.zt(t.key,t),e.Ve.zt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ge.remove(t),this.Ve.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),Bf=function(){function t(){this.be=new Cf(El.H)}return t.prototype.track=function(t){var e=t.doc.key,n=this.be.get(e);n?0!==t.type&&3===n.type?this.be=this.be.zt(e,t):3===t.type&&1!==n.type?this.be=this.be.zt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.be=this.be.zt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.be=this.be.remove(e):1===t.type&&2===n.type?this.be=this.be.zt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):Zc():this.be=this.be.zt(e,t)},t.prototype.ve=function(){var t=[];return this.be.Xt(function(e,n){t.push(n)}),t},t}(),Gf=function(){function t(t,e,n,r,i,o,s,u){this.query=t,this.docs=e,this.Se=n,this.docChanges=r,this.De=i,this.fromCache=o,this.Ce=s,this.xe=u}return t.Ne=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,zf.pe(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&Rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Wf=function(){function t(t,e,n,r,i){this.Ot=t,this.$e=e,this.Fe=n,this.Oe=r,this.ke=i}return t.Me=function(e,n){var r=new Map;return r.set(e,$f.Le(e,n)),new t(ml.min(),r,Hf(),Pf(),Ff())},t}(),$f=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Be=e,this.qe=n,this.Ue=r,this.Qe=i}return t.Le=function(e,n){return new t(sl.T,n,Ff(),Ff(),Ff())},t}(),Qf=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},Yf=function(t,e){this.targetId=t,this.je=e},Kf=function(t,e,n,r){void 0===n&&(n=sl.T),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Xf=function(){function t(){this.Ge=0,this.ze=td(),this.He=sl.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return 0!==this.Ge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},t.prototype.en=function(){var t=Ff(),e=Ff(),n=Ff();return this.ze.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Zc()}}),new $f(this.He,this.Je,t,e,n)},t.prototype.nn=function(){this.Ye=!1,this.ze=td()},t.prototype.sn=function(t,e){this.Ye=!0,this.ze=this.ze.zt(t,e)},t.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),Zf=function(){function t(t){this.un=t,this.hn=new Map,this.ln=Pf(),this._n=Jf(),this.fn=new jf(rl)}return t.prototype.dn=function(t){for(var e=0,n=t.Ke;e<n.length;e++){var r=n[e];t.We instanceof eh?this.wn(r,t.We):t.We instanceof nh&&this.En(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.En(r=o[i],t.key,t.We)},t.prototype.Tn=function(t){var e=this;this.In(t,function(n){var r=e.mn(n);switch(t.state){case 0:e.An(n)&&r.tn(t.resumeToken);break;case 1:r.cn(),r.Xe||r.nn(),r.tn(t.resumeToken);break;case 2:r.cn(),r.Xe||e.removeTarget(n);break;case 3:e.An(n)&&(r.an(),r.tn(t.resumeToken));break;case 4:e.An(n)&&(e.Rn(n),r.tn(t.resumeToken));break;default:Zc()}})},t.prototype.In=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.hn.forEach(function(t,r){n.An(r)&&e(r)})},t.prototype.Pn=function(t){var e=t.targetId,n=t.je.count,r=this.yn(e);if(r){var i=r.target;if(ah(i))if(0===n){var o=new El(i.path);this.En(e,o,new nh(o,ml.min()))}else Jc(1===n);else this.gn(e)!==n&&(this.Rn(e),this.fn=this.fn.add(e))}},t.prototype.Vn=function(t){var e=this,n=new Map;this.hn.forEach(function(r,i){var o=e.yn(i);if(o){if(r.Be&&ah(o.target)){var s=new El(o.target.path);null!==e.ln.get(s)||e.pn(i,s)||e.En(i,s,new nh(s,t))}r.Ze&&(n.set(i,r.en()),r.nn())}});var r=Ff();this._n.forEach(function(t,n){var i=!0;n.Ae(function(t){var n=e.yn(t);return!n||2===n.Ft||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Wf(t,n,this.fn,this.ln,r);return this.ln=Pf(),this._n=Jf(),this.fn=new jf(rl),i},t.prototype.wn=function(t,e){if(this.An(t)){var n=this.pn(t,e.key)?2:0;this.mn(t).sn(e.key,n),this.ln=this.ln.zt(e.key,e),this._n=this._n.zt(e.key,this.bn(e.key).add(t))}},t.prototype.En=function(t,e,n){if(this.An(t)){var r=this.mn(t);this.pn(t,e)?r.sn(e,1):r.rn(e),this._n=this._n.zt(e,this.bn(e).delete(t)),n&&(this.ln=this.ln.zt(e,n))}},t.prototype.removeTarget=function(t){this.hn.delete(t)},t.prototype.gn=function(t){var e=this.mn(t).en();return this.un.vn(t).size+e.qe.size-e.Qe.size},t.prototype.on=function(t){this.mn(t).on()},t.prototype.mn=function(t){var e=this.hn.get(t);return e||(e=new Xf,this.hn.set(t,e)),e},t.prototype.bn=function(t){var e=this._n.get(t);return e||(e=new jf(rl),this._n=this._n.zt(t,e)),e},t.prototype.An=function(t){var e=null!==this.yn(t);return e||Qc("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.yn=function(t){var e=this.hn.get(t);return e&&e.Xe?null:this.un.Sn(t)},t.prototype.Rn=function(t){var e=this;this.hn.set(t,new Xf),this.un.vn(t).forEach(function(n){e.En(t,n,null)})},t.prototype.pn=function(t,e){return this.un.vn(t).has(e)},t}();function Jf(){return new Cf(El.H)}function td(){return new Cf(El.H)}var ed={asc:"ASCENDING",desc:"DESCENDING"},nd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rd=function(t,e){this.t=t,this.Bt=e};function id(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function od(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function sd(t,e){return id(t,e.j())}function ud(t){return Jc(!!t),ml.K(function(t){var e=Al(t);return new yl(e.seconds,e.nanos)}(t))}function ad(t,e){return function(t){return new wl(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).rt()}function cd(t){var e=wl.ot(t);return Jc(Pd(e)),e}function ld(t,e){return ad(t.t,e.path)}function hd(t,e){var n=cd(e);if(n.get(1)!==t.t.projectId)throw new al(ul.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new al(ul.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new El(gd(n))}function fd(t,e){return ad(t.t,e)}function dd(t){var e=cd(t);return 4===e.length?wl.ct():gd(e)}function pd(t){return new wl(["projects",t.t.projectId,"databases",t.t.database]).rt()}function gd(t){return Jc(t.length>4&&"documents"===t.get(4)),t.Y(5)}function vd(t,e,n){return{name:ld(t,e),fields:n.proto.mapValue.fields}}function yd(t,e,n){var r=hd(t,e.name),i=ud(e.updateTime),o=new Xl({mapValue:{fields:e.fields}});return new eh(r,i,o,{hasCommittedMutations:!!n})}function md(t,e){var n;if(e instanceof pf)n={update:vd(t,e.key,e.value)};else if(e instanceof Of)n={delete:ld(t,e.key)};else if(e instanceof gf)n={update:vd(t,e.key,e.data),updateMask:Nd(e.Gt)};else{if(!(e instanceof Ef))return Zc();n={verify:ld(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Yh)return{fieldPath:e.field.rt(),setToServerValue:"REQUEST_TIME"};if(n instanceof Kh)return{fieldPath:e.field.rt(),appendMissingElements:{values:n.elements}};if(n instanceof Zh)return{fieldPath:e.field.rt(),removeAllFromArray:{values:n.elements}};if(n instanceof tf)return{fieldPath:e.field.rt(),increment:n.Ut};throw Zc()}(0,t)})),e.jt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:sd(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Zc()}(t,e.jt)),n}function bd(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?sf.updateTime(ud(t.updateTime)):void 0!==t.exists?sf.exists(t.exists):sf.Kt()}(e.currentDocument):sf.Kt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Jc("REQUEST_TIME"===e.setToServerValue),n=new Yh):"appendMissingElements"in e?n=new Kh(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Zh(e.removeAllFromArray.values||[]):"increment"in e?n=new tf(t,e.increment):Zc();var r=Ol.lt(e.fieldPath);return new rf(r,n)}(t,e)}):[];if(e.update){var i=hd(t,e.update.name),o=new Xl({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Cl((t.fieldPaths||[]).map(function(t){return Ol.lt(t)}))}(e.updateMask);return new gf(i,o,s,n,r)}return new pf(i,o,n,r)}if(e.delete){var u=hd(t,e.delete);return new Of(u,n)}if(e.verify){var a=hd(t,e.verify);return new Ef(a,n)}return Zc()}function wd(t,e){return{documents:[fd(t,e.path)]}}function _d(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=fd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=fd(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Yl(t.value))return{unaryFilter:{field:xd(t.field),op:"IS_NAN"}};if(Ql(t.value))return{unaryFilter:{field:xd(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Yl(t.value))return{unaryFilter:{field:xd(t.field),op:"IS_NOT_NAN"}};if(Ql(t.value))return{unaryFilter:{field:xd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xd(t.field),op:Cd(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:xd(t.field),direction:Td(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Bt||Rl(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Id(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Id(e.endAt)),n}function Od(t){var e=dd(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Jc(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Ed(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(t){return function(t){return new wh(Ad(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var a=null;n.limit&&(a=function(t){var e;return Rl(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Sd(n.startAt));var l=null;return n.endAt&&(l=Sd(n.endAt)),Sh(e,i,u,s,a,"F",c,l)}function Ed(t){return t?void 0!==t.unaryFilter?[kd(t)]:void 0!==t.fieldFilter?[jd(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Ed(t)}).reduce(function(t,e){return t.concat(e)}):Zc():[]}function Id(t){return{before:t.before,values:t.position}}function Sd(t){return new mh(t.values||[],!!t.before)}function Td(t){return ed[t]}function Cd(t){return nd[t]}function xd(t){return{fieldPath:t.rt()}}function Ad(t){return Ol.lt(t.fieldPath)}function jd(t){return ch.create(Ad(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Zc()}}(t.fieldFilter.op),t.fieldFilter.value)}function kd(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ad(t.unaryFilter.field);return ch.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ad(t.unaryFilter.field);return ch.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ad(t.unaryFilter.field);return ch.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ad(t.unaryFilter.field);return ch.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Zc()}}function Nd(t){var e=[];return t.fields.forEach(function(t){return e.push(t.rt())}),{fieldPaths:e}}function Pd(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Dd=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Rd=function(){function t(t){var e=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t(function(t){e.xn=!0,e.result=t,e.Dn&&e.Dn(t)},function(t){e.xn=!0,e.error=t,e.Cn&&e.Cn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Nn&&Zc(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(e,this.result):new t(function(t,i){r.Dn=function(n){r.Fn(e,n).next(t,i)},r.Cn=function(e){r.$n(n,e).next(t,i)}})},t.prototype.On=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.kn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Fn=function(e,n){return e?this.kn(function(){return e(n)}):t.resolve(n)},t.prototype.$n=function(e,n){return e?this.kn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.Mn=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Ln=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.Mn(r)},t}(),Vd=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Bn=new Dd,this.transaction.oncomplete=function(){n.Bn.resolve()},this.transaction.onabort=function(){e.error?n.Bn.reject(new Ud(t,e.error)):n.Bn.resolve()},this.transaction.onerror=function(e){var r=Bd(e.target.error);n.Bn.reject(new Ud(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Ud(n,e)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(Qc("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new qd(e)},t}(),Ld=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,12.2===t.Qn(Object(qo.g)())&&Yc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Qc("SimpleDb","Removing database:",t),Hd(window.indexedDB.deleteDatabase(t)).On()},t.Kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(qo.g)(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Gn)},t.zn=function(t,e){return t.store(e)},t.Qn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.jn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Hn=function(t){return Object(zc.b)(this,void 0,void 0,function(){var e,n=this;return Object(zc.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Qc("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Ud(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new al(ul.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Ud(t,n))},i.onupgradeneeded=function(t){Qc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Un.Jn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Qc("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(t){return n.Yn(t)}),this.db)]}})})},t.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(zc.b)(this,void 0,void 0,function(){var i,o,s,u,a;return Object(zc.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,a,c,l;return Object(zc.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,u.Hn(t)];case 2:return u.db=h.sent(),e=Vd.open(u.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Rd.reject(t)}).On(),a={},s.catch(function(){}),[4,e.qn];case 3:return[2,(a.value=(h.sent(),s),a)];case 4:return Qc("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),u.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},u=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(a=c.sent()))return[2,a.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Md=function(){function t(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(t){this.es=t},t.prototype.delete=function(){return Hd(this.Zn.delete())},t}(),Ud=function(t){function e(e,n){var r=this;return(r=t.call(this,ul.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(zc.c)(e,t),e}(al);function Fd(t){return"IndexedDbTransactionError"===t.name}var qd=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Qc("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Qc("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Hd(n)},t.prototype.add=function(t){return Qc("SimpleDb","ADD",this.store.name,t,t),Hd(this.store.add(t))},t.prototype.get=function(t){var e=this;return Hd(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Qc("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Qc("SimpleDb","DELETE",this.store.name,t),Hd(this.store.delete(t))},t.prototype.count=function(){return Qc("SimpleDb","COUNT",this.store.name),Hd(this.store.count())},t.prototype.rs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.os(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.cs=function(t,e){Qc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.us=!1;var r=this.cursor(n);return this.os(r,function(t,e,n){return n.delete()})},t.prototype.hs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.os(r,e)},t.prototype.ls=function(t){var e=this.cursor({});return new Rd(function(n,r){e.onerror=function(t){var e=Bd(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.os=function(t,e){var n=[];return new Rd(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Md(i),s=e(i.primaryKey,i.value,o);if(s instanceof Rd){var u=s.catch(function(t){return o.done(),Rd.reject(t)});n.push(u)}o.xn?r():null===o.ns?i.continue():i.continue(o.ns)}else r()}}).next(function(){return Rd.Mn(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.us?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Hd(t){return new Rd(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Bd(t.target.error);n(e)}})}var zd=!1;function Bd(t){var e=Ld.Qn(Object(qo.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new al("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return zd||(zd=!0,setTimeout(function(){throw r},0)),r}}return t}var Gd=function(){function t(t,e,n,r,i){this._s=t,this.fs=e,this.ds=n,this.op=r,this.ws=i,this.Es=new Dd,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch(function(t){})}return t.Ts=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Is=setTimeout(function(){return e.As()},t)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(t){null!==this.Is&&(this.clearTimeout(),this.Es.reject(new al(ul.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.As=function(){var t=this;this._s.Ps(function(){return null!==t.Is?(t.clearTimeout(),t.op().then(function(e){return t.Es.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.Is&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function Wd(t,e){if(Yc("AsyncQueue",e+": "+t),Fd(t))return new al(ul.UNAVAILABLE,e+": "+t);throw t}var $d="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qd=function(){function t(){this.ys=[]}return t.prototype.gs=function(t){this.ys.push(t)},t.prototype.Vs=function(){this.ys.forEach(function(t){return t()})},t}();function Yd(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Xd(e)),e=Kd(t.get(n),e);return Xd(e)}function Kd(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Xd(t){return t+"\x01\x01"}function Zd(t){var e=t.length;if(Jc(e>=2),2===e)return Jc("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),wl.ct();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Zc(),t.charAt(s+1)){case"\x01":var u=t.substring(o,s),a=void 0;0===i.length?a=u:(a=i+=u,i=""),r.push(a);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Zc()}o=s+2}return new wl(r)}var Jd=function(t,e){this.seconds=t,this.nanoseconds=e},tp=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};tp.store="owner",tp.key="owner";var ep=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ep.store="mutationQueues",ep.keyPath="userId";var np=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};np.store="mutations",np.keyPath="batchId",np.userMutationsIndex="userMutationsIndex",np.userMutationsKeyPath=["userId","batchId"];var rp=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Yd(e)]},t.key=function(t,e,n){return[t,Yd(e),n]},t}();rp.store="documentMutations",rp.PLACEHOLDER=new rp;var ip=function(t,e){this.path=t,this.readTime=e},op=function(t,e){this.path=t,this.version=e},sp=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};sp.store="remoteDocuments",sp.readTimeIndex="readTimeIndex",sp.readTimeIndexPath="readTime",sp.collectionReadTimeIndex="collectionReadTimeIndex",sp.collectionReadTimeIndexPath=["parentPath","readTime"];var up=function(t){this.byteSize=t};up.store="remoteDocumentGlobal",up.key="remoteDocumentGlobalKey";var ap=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};ap.store="targets",ap.keyPath="targetId",ap.queryTargetsIndexName="queryTargetsIndex",ap.queryTargetsKeyPath=["canonicalId","targetId"];var cp=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};cp.store="targetDocuments",cp.keyPath=["targetId","path"],cp.documentTargetsIndex="documentTargetsIndex",cp.documentTargetsKeyPath=["path","targetId"];var lp=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};lp.key="targetGlobalKey",lp.store="targetGlobal";var hp=function(t,e){this.collectionId=t,this.parent=e};hp.store="collectionParents",hp.keyPath=["collectionId","parent"];var fp=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};fp.store="clientMetadata",fp.keyPath="clientId";var dp=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};dp.store="bundles",dp.keyPath="bundleId";var pp=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};pp.store="namedQueries",pp.keyPath="name";var gp=Object(zc.g)(Object(zc.g)(Object(zc.g)(Object(zc.g)([ep.store,np.store,rp.store,sp.store,ap.store,tp.store,lp.store,cp.store],[fp.store]),[up.store]),[hp.store]),[dp.store,pp.store]),vp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ps=e,r.bs=n,r}return Object(zc.c)(e,t),e}(Qd);function yp(t,e){var n=tl(t);return Ld.zn(n.ps,e)}var mp=function(){function t(t,e,n,r){this.batchId=t,this.vs=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ss=function(t,e,n){for(var r=n.Ds,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=cf(o,e,r[i]))}return e},t.prototype.Cs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=lf(s,e,this.vs));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=lf(s,e,this.vs))}return e},t.prototype.xs=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.Cs(r.key,t.get(r.key));i&&(n=n.zt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Ff())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&il(this.mutations,t.mutations,function(t,e){return ff(t,e)})&&il(this.baseMutations,t.baseMutations,function(t,e){return ff(t,e)})},t}(),bp=function(){function t(t,e,n,r){this.batch=t,this.Ns=e,this.Ds=n,this.$s=r}return t.from=function(e,n,r){Jc(e.mutations.length===r.length);for(var i=Mf(),o=e.mutations,s=0;s<o.length;s++)i=i.zt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),wp=function(t){this.Fs=t};function _p(t,e){if(e.document)return yd(t.Fs,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=El.Et(e.noDocument.path),r=Tp(e.noDocument.readTime);return new nh(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=El.Et(e.unknownDocument.path);return r=Tp(e.unknownDocument.version),new rh(i,r)}return Zc()}function Op(t,e,n){var r=Ep(n),i=e.key.path.X().it();if(e instanceof eh){var o=function(t,e){return{name:ld(t,e.key),fields:e.bt().mapValue.fields,updateTime:id(t,e.version.j())}}(t.Fs,e),s=e.hasCommittedMutations;return new sp(null,null,o,s,r,i)}if(e instanceof nh){var u=e.key.path.it(),a=Sp(e.version);return s=e.hasCommittedMutations,new sp(null,new ip(u,a),null,s,r,i)}if(e instanceof rh){var c=e.key.path.it(),l=Sp(e.version);return new sp(new op(c,l),null,null,!0,r,i)}return Zc()}function Ep(t){var e=t.j();return[e.seconds,e.nanoseconds]}function Ip(t){var e=new yl(t[0],t[1]);return ml.K(e)}function Sp(t){var e=t.j();return new Jd(e.seconds,e.nanoseconds)}function Tp(t){var e=new yl(t.seconds,t.nanoseconds);return ml.K(e)}function Cp(t,e){for(var n=(e.baseMutations||[]).map(function(e){return bd(t.Fs,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return bd(t.Fs,e)}),o=yl.fromMillis(e.localWriteTimeMs);return new mp(e.batchId,o,n,i)}function xp(t){var e,n,r=Tp(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Tp(t.lastLimboFreeSnapshotVersion):ml.min();return void 0!==t.query.documents?(Jc(1===(n=t.query).documents.length),e=Ph(Th(dd(n.documents[0])))):e=function(t){return Ph(Od(t))}(t.query),new qh(e,t.targetId,0,t.lastListenSequenceNumber,r,i,sl.fromBase64String(t.resumeToken))}function Ap(t,e){var n,r=Sp(e.Ot),i=Sp(e.lastLimboFreeSnapshotVersion);n=ah(e.target)?wd(t.Fs,e.target):_d(t.Fs,e.target);var o=e.resumeToken.toBase64();return new ap(e.targetId,sh(e.target),r,o,e.sequenceNumber,i,n)}function jp(t){var e=Od({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Dh(e,e.limit,"L"):e}var kp=function(){function t(){}return t.prototype.Os=function(t,e){return Np(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Tp(e.createTime),version:e.version};var e})},t.prototype.ks=function(t,e){return Np(t).put({bundleId:(n=e).id,createTime:Sp(ud(n.createTime)),version:n.version});var n},t.prototype.Ms=function(t,e){return Pp(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:jp(e.bundledQuery),readTime:Tp(e.readTime)};var e})},t.prototype.Ls=function(t,e){return Pp(t).put(function(t){return{name:t.name,readTime:Sp(ud(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Np(t){return yp(t,dp.store)}function Pp(t){return yp(t,pp.store)}var Dp=function(){function t(){this.Bs=new Rp}return t.prototype.qs=function(t,e){return this.Bs.add(e),Rd.resolve()},t.prototype.Us=function(t,e){return Rd.resolve(this.Bs.getEntries(e))},t}(),Rp=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.tt(),n=t.X(),r=this.index[e]||new jf(wl.H),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.tt(),n=t.X(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new jf(wl.H)).it()},t}(),Vp=function(){function t(){this.Qs=new Rp}return t.prototype.qs=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.tt(),i=e.X();t.gs(function(){n.Qs.add(e)});var o={collectionId:r,parent:Yd(i)};return Lp(t).put(o)}return Rd.resolve()},t.prototype.Us=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ol(e),""],!1,!0);return Lp(t).rs(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Zd(o.parent))}return n})},t}();function Lp(t){return yp(t,hp.store)}var Mp={Ks:!1,Ws:0,js:0,Gs:0},Up=function(){function t(t,e,n){this.zs=t,this.Hs=e,this.Js=n}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();function Fp(t){return Object(zc.b)(this,void 0,void 0,function(){return Object(zc.d)(this,function(e){if(t.code!==ul.FAILED_PRECONDITION||t.message!==$d)throw t;return Qc("LocalStore","Unexpectedly lost primary lease"),[2]})})}Up.Xs=10,Up.Zs=1e3,Up.ti=new Up(41943040,Up.Xs,Up.Zs),Up.ei=new Up(-1,0,0);var qp=function(){function t(t,e){this.ni=t,this.si=e,this.ii={}}return t.prototype.get=function(t){var e=this.ni(t),n=this.ii[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.si(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ni(t),r=this.ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ni(t),n=this.ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.si(n[r][0],t))return 1===n.length?delete this.ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Sl(this.ii,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.et=function(){return Tl(this.ii)},t}(),Hp=function(){function t(){this.ri=new qp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.oi=!1}return t.prototype.ci=function(t){var e=this.ri.get(t);return e?e.readTime:ml.min()},t.prototype.ai=function(t,e){this.ui(),this.ri.set(t.key,{hi:t,readTime:e})},t.prototype.li=function(t,e){void 0===e&&(e=null),this.ui(),this.ri.set(t,{hi:null,readTime:e})},t.prototype._i=function(t,e){this.ui();var n=this.ri.get(e);return void 0!==n?Rd.resolve(n.hi):this.fi(t,e)},t.prototype.getEntries=function(t,e){return this.di(t,e)},t.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},t.prototype.ui=function(){},t}();function zp(t,e,n){var r=t.store(np.store),i=t.store(rp.store),o=[],s=IDBKeyRange.only(n.batchId),u=0,a=r.hs({range:s},function(t,e,n){return u++,n.delete()});o.push(a.next(function(){Jc(1===u)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=rp.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Rd.Mn(o).next(function(){return c})}function Bp(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Zc();e=t.noDocument}return JSON.stringify(e).length}var Gp=function(){function t(t,e,n,r){this.userId=t,this.Qt=e,this.Ei=n,this.Ti=r,this.Ii={}}return t.mi=function(e,n,r,i){return Jc(""!==e.uid),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $p(t).hs({index:np.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Ri=function(t,e,n,r){var i=this,o=Qp(t),s=$p(t);return s.add({}).next(function(u){Jc("number"==typeof u);for(var a=new mp(u,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return md(t.Fs,e)}),i=n.mutations.map(function(e){return md(t.Fs,e)});return new np(e,n.batchId,n.vs.toMillis(),r,i)}(i.Qt,i.userId,a),l=[],h=new jf(function(t,e){return rl(t.rt(),e.rt())}),f=0,d=r;f<d.length;f++){var p=d[f],g=rp.key(i.userId,p.key.path,u);h=h.add(p.key.path.X()),l.push(s.put(c)),l.push(o.put(g,rp.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ei.qs(t,e))}),t.gs(function(){i.Ii[u]=a.keys()}),Rd.Mn(l).next(function(){return a})})},t.prototype.Pi=function(t,e){var n=this;return $p(t).get(e).next(function(t){return t?(Jc(t.userId===n.userId),Cp(n.Qt,t)):null})},t.prototype.yi=function(t,e){var n=this;return this.Ii[e]?Rd.resolve(this.Ii[e]):this.Pi(t,e).next(function(t){if(t){var r=t.keys();return n.Ii[e]=r,r}return null})},t.prototype.gi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return $p(t).hs({index:np.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Jc(e.batchId>=r),o=Cp(n.Qt,e)),i.done()}).next(function(){return o})},t.prototype.Vi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return $p(t).hs({index:np.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.pi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $p(t).rs(np.userMutationsIndex,n).next(function(t){return t.map(function(t){return Cp(e.Qt,t)})})},t.prototype.bi=function(t,e){var n=this,r=rp.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Qp(t).hs({range:i},function(r,i,s){var u=r[0],a=r[2],c=Zd(r[1]);if(u===n.userId&&e.path.isEqual(c))return $p(t).get(a).next(function(t){if(!t)throw Zc();Jc(t.userId===n.userId),o.push(Cp(n.Qt,t))});s.done()}).next(function(){return o})},t.prototype.vi=function(t,e){var n=this,r=new jf(rl),i=[];return e.forEach(function(e){var o=rp.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),u=Qp(t).hs({range:s},function(t,i,o){var s=t[0],u=t[2],a=Zd(t[1]);s===n.userId&&e.path.isEqual(a)?r=r.add(u):o.done()});i.push(u)}),Rd.Mn(i).next(function(){return n.Si(t,r)})},t.prototype.Di=function(t,e){var n=this,r=e.path,i=r.length+1,o=rp.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),u=new jf(rl);return Qp(t).hs({range:s},function(t,e,o){var s=t[0],a=t[2],c=Zd(t[1]);s===n.userId&&r.nt(c)?c.length===i&&(u=u.add(a)):o.done()}).next(function(){return n.Si(t,u)})},t.prototype.Si=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push($p(t).get(e).next(function(t){if(null===t)throw Zc();Jc(t.userId===n.userId),r.push(Cp(n.Qt,t))}))}),Rd.Mn(i).next(function(){return r})},t.prototype.Ci=function(t,e){var n=this;return zp(t.ps,this.userId,e).next(function(r){return t.gs(function(){n.xi(e.batchId)}),Rd.forEach(r,function(e){return n.Ti.Ni(t,e)})})},t.prototype.xi=function(t){delete this.Ii[t]},t.prototype.$i=function(t){var e=this;return this.Ai(t).next(function(n){if(!n)return Rd.resolve();var r=IDBKeyRange.lowerBound(rp.prefixForUser(e.userId)),i=[];return Qp(t).hs({range:r},function(t,n,r){if(t[0]===e.userId){var o=Zd(t[1]);i.push(o)}else r.done()}).next(function(){Jc(0===i.length)})})},t.prototype.Fi=function(t,e){return Wp(t,this.userId,e)},t.prototype.Oi=function(t){var e=this;return Yp(t).get(this.userId).next(function(t){return t||new ep(e.userId,-1,"")})},t}();function Wp(t,e,n){var r=rp.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Qp(t).hs({range:o,us:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function $p(t){return yp(t,np.store)}function Qp(t){return yp(t,rp.store)}function Yp(t){return yp(t,ep.store)}var Kp=function(){function t(t){this.ki=t}return t.prototype.next=function(){return this.ki+=2,this.ki},t.Mi=function(){return new t(0)},t.Li=function(){return new t(-1)},t}(),Xp=function(){function t(t,e){this.Ti=t,this.Qt=e}return t.prototype.Bi=function(t){var e=this;return this.qi(t).next(function(n){var r=new Kp(n.highestTargetId);return n.highestTargetId=r.next(),e.Ui(t,n).next(function(){return n.highestTargetId})})},t.prototype.Qi=function(t){return this.qi(t).next(function(t){return ml.K(new yl(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Ki=function(t){return this.qi(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Wi=function(t,e,n){var r=this;return this.qi(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.j()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ui(t,i)})},t.prototype.ji=function(t,e){var n=this;return this.Gi(t,e).next(function(){return n.qi(t).next(function(r){return r.targetCount+=1,n.zi(e,r),n.Ui(t,r)})})},t.prototype.Hi=function(t,e){return this.Gi(t,e)},t.prototype.Ji=function(t,e){var n=this;return this.Yi(t,e.targetId).next(function(){return Zp(t).delete(e.targetId)}).next(function(){return n.qi(t)}).next(function(e){return Jc(e.targetCount>0),e.targetCount-=1,n.Ui(t,e)})},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return Zp(t).hs(function(s,u){var a=xp(u);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,o.push(r.Ji(t,a)))}).next(function(){return Rd.Mn(o)}).next(function(){return i})},t.prototype.In=function(t,e){return Zp(t).hs(function(t,n){var r=xp(n);e(r)})},t.prototype.qi=function(t){return Jp(t).get(lp.key).next(function(t){return Jc(null!==t),t})},t.prototype.Ui=function(t,e){return Jp(t).put(lp.key,e)},t.prototype.Gi=function(t,e){return Zp(t).put(Ap(this.Qt,e))},t.prototype.zi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Zi=function(t){return this.qi(t).next(function(t){return t.targetCount})},t.prototype.tr=function(t,e){var n=sh(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Zp(t).hs({range:r,index:ap.queryTargetsIndexName},function(t,n,r){var o=xp(n);uh(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.er=function(t,e,n){var r=this,i=[],o=tg(t);return e.forEach(function(e){var s=Yd(e.path);i.push(o.put(new cp(n,s))),i.push(r.Ti.nr(t,n,e))}),Rd.Mn(i)},t.prototype.sr=function(t,e,n){var r=this,i=tg(t);return Rd.forEach(e,function(e){var o=Yd(e.path);return Rd.Mn([i.delete([n,o]),r.Ti.ir(t,n,e)])})},t.prototype.Yi=function(t,e){var n=tg(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.rr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=tg(t),i=Ff();return r.hs({range:n,us:!0},function(t,e,n){var r=Zd(t[1]),o=new El(r);i=i.add(o)}).next(function(){return i})},t.prototype.Fi=function(t,e){var n=Yd(e.path),r=IDBKeyRange.bound([n],[ol(n)],!1,!0),i=0;return tg(t).hs({index:cp.documentTargetsIndex,us:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Sn=function(t,e){return Zp(t).get(e).next(function(t){return t?xp(t):null})},t}();function Zp(t){return yp(t,ap.store)}function Jp(t){return yp(t,lp.store)}function tg(t){return yp(t,cp.store)}function eg(t,e){var n=t[1],r=e[1],i=rl(t[0],e[0]);return 0===i?rl(n,r):i}var ng=function(){function t(t){this.cr=t,this.buffer=new jf(eg),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(t){var e=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();eg(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),rg=function(){function t(t,e){this.lr=t,this._s=e,this._r=!1,this.dr=null}return t.prototype.start=function(t){-1!==this.lr.params.zs&&this.wr(t)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return null!==this.dr},enumerable:!1,configurable:!0}),t.prototype.wr=function(t){var e=this,n=this._r?3e5:6e4;Qc("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.dr=this._s.Tr("lru_garbage_collection",n,function(){return Object(zc.b)(e,void 0,void 0,function(){var e;return Object(zc.d)(this,function(n){switch(n.label){case 0:this.dr=null,this._r=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return n.sent(),[3,7];case 3:return Fd(e=n.sent())?(Qc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Fp(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return n.sent(),[2]}})})})},t}(),ig=function(){function t(t,e){this.mr=t,this.params=e}return t.prototype.Ar=function(t,e){return this.mr.Rr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Pr=function(t,e){var n=this;if(0===e)return Rd.resolve(vl.q);var r=new ng(e);return this.mr.In(t,function(t){return r.hr(t.sequenceNumber)}).next(function(){return n.mr.yr(t,function(t){return r.hr(t)})}).next(function(){return r.maxValue})},t.prototype.Xi=function(t,e,n){return this.mr.Xi(t,e,n)},t.prototype.gr=function(t,e){return this.mr.gr(t,e)},t.prototype.Vr=function(t,e){var n=this;return-1===this.params.zs?(Qc("LruGarbageCollector","Garbage collection skipped; disabled"),Rd.resolve(Mp)):this.pr(t).next(function(r){return r<n.params.zs?(Qc("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.zs),Mp):n.br(t,e)})},t.prototype.pr=function(t){return this.mr.pr(t)},t.prototype.br=function(t,e){var n,r,i,o,s,u,a,c=this,l=Date.now();return this.Ar(t,this.params.Hs).next(function(e){return e>c.params.Js?(Qc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Js+" from "+e),r=c.params.Js):r=e,o=Date.now(),c.Pr(t,r)}).next(function(r){return n=r,s=Date.now(),c.Xi(t,n,e)}).next(function(e){return i=e,u=Date.now(),c.gr(t,n)}).next(function(t){return a=Date.now(),$c()<=Fo.a.DEBUG&&Qc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(a-u)+"ms\nTotal Duration: "+(a-l)+"ms"),Rd.resolve({Ks:!0,Ws:r,js:i,Gs:t})})},t}(),og=function(){function t(t,e){this.db=t,this.lr=function(t,e){return new ig(t,e)}(this,e)}return t.prototype.Rr=function(t){var e=this.vr(t);return this.db.Sr().Zi(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.vr=function(t){var e=0;return this.yr(t,function(t){e++}).next(function(){return e})},t.prototype.In=function(t,e){return this.db.Sr().In(t,e)},t.prototype.yr=function(t,e){return this.Dr(t,function(t,n){return e(n)})},t.prototype.nr=function(t,e,n){return sg(t,n)},t.prototype.ir=function(t,e,n){return sg(t,n)},t.prototype.Xi=function(t,e,n){return this.db.Sr().Xi(t,e,n)},t.prototype.Ni=function(t,e){return sg(t,e)},t.prototype.Cr=function(t,e){return function(t,e){var n=!1;return Yp(t).ls(function(r){return Wp(t,r,e).next(function(t){return t&&(n=!0),Rd.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.gr=function(t,e){var n=this,r=this.db.$r().Nr(),i=[],o=0;return this.Dr(t,function(s,u){if(u<=e){var a=n.Cr(t,s).next(function(e){if(!e)return o++,r._i(t,s).next(function(){return r.li(s),tg(t).delete([0,Yd(s.path)])})});i.push(a)}}).next(function(){return Rd.Mn(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.kt(t.bs);return this.db.Sr().Hi(t,n)},t.prototype.Fr=function(t,e){return sg(t,e)},t.prototype.Dr=function(t,e){var n,r=tg(t),i=vl.q;return r.hs({index:cp.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==vl.q&&e(new El(Zd(n)),i),i=s,n=o):i=vl.q}).next(function(){i!==vl.q&&e(new El(Zd(n)),i)})},t.prototype.pr=function(t){return this.db.$r().Or(t)},t}();function sg(t,e){return tg(t).put(function(t,e){return new cp(0,Yd(t.path),e)}(e,t.bs))}var ug=function(){function t(t,e){this.Qt=t,this.Ei=e}return t.prototype.ai=function(t,e,n){return lg(t).put(hg(e),n)},t.prototype.li=function(t,e){var n=lg(t),r=hg(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.kr(t,r)})},t.prototype._i=function(t,e){var n=this;return lg(t).get(hg(e)).next(function(t){return n.Mr(t)})},t.prototype.Lr=function(t,e){var n=this;return lg(t).get(hg(e)).next(function(t){var e=n.Mr(t);return e?{hi:e,size:Bp(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Df();return this.Br(t,e,function(t,e){var i=n.Mr(e);r=r.zt(t,i)}).next(function(){return r})},t.prototype.qr=function(t,e){var n=this,r=Df(),i=new Cf(El.H);return this.Br(t,e,function(t,e){var o=n.Mr(e);o?(r=r.zt(t,o),i=i.zt(t,Bp(e))):(r=r.zt(t,null),i=i.zt(t,0))}).next(function(){return{Ur:r,Qr:i}})},t.prototype.Br=function(t,e,n){if(e.et())return Rd.resolve();var r=IDBKeyRange.bound(e.first().path.it(),e.last().path.it()),i=e.te(),o=i.oe();return lg(t).hs({range:r},function(t,e,r){for(var s=El.Et(t);o&&El.H(o,s)<0;)n(o,null),o=i.oe();o&&o.isEqual(s)&&(n(o,e),o=i.ce()?i.oe():null),o?r.ss(o.path.it()):r.done()}).next(function(){for(;o;)n(o,null),o=i.ce()?i.oe():null})},t.prototype.Kr=function(t,e,n){var r=this,i=Vf(),o=e.path.length+1,s={};if(n.isEqual(ml.min())){var u=e.path.it();s.range=IDBKeyRange.lowerBound(u)}else{var a=e.path.it(),c=Ep(n);s.range=IDBKeyRange.lowerBound([a,c],!0),s.index=sp.collectionReadTimeIndex}return lg(t).hs(s,function(t,n,s){if(t.length===o){var u=_p(r.Qt,n);e.path.nt(u.key.path)?u instanceof eh&&Mh(e,u)&&(i=i.zt(u.key,u)):s.done()}}).next(function(){return i})},t.prototype.Nr=function(t){return new ag(this,!!t&&t.Wr)},t.prototype.Or=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return cg(t).get(up.key).next(function(t){return Jc(!!t),t})},t.prototype.kr=function(t,e){return cg(t).put(up.key,e)},t.prototype.Mr=function(t){if(t){var e=_p(this.Qt,t);return e instanceof nh&&e.version.isEqual(ml.min())?null:e}return null},t}(),ag=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jr=e,r.Wr=n,r.Gr=new qp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(zc.c)(e,t),e.prototype.wi=function(t){var e=this,n=[],r=0,i=new jf(function(t,e){return rl(t.rt(),e.rt())});return this.ri.forEach(function(o,s){var u=e.Gr.get(o);if(s.hi){var a=Op(e.jr.Qt,s.hi,e.ci(o));i=i.add(o.path.X());var c=Bp(a);r+=c-u,n.push(e.jr.ai(t,o,a))}else if(r-=u,e.Wr){var l=Op(e.jr.Qt,new nh(o,ml.min()),e.ci(o));n.push(e.jr.ai(t,o,l))}else n.push(e.jr.li(t,o))}),i.forEach(function(r){n.push(e.jr.Ei.qs(t,r))}),n.push(this.jr.updateMetadata(t,r)),Rd.Mn(n)},e.prototype.fi=function(t,e){var n=this;return this.jr.Lr(t,e).next(function(t){return null===t?(n.Gr.set(e,0),null):(n.Gr.set(e,t.size),t.hi)})},e.prototype.di=function(t,e){var n=this;return this.jr.qr(t,e).next(function(t){var e=t.Ur;return t.Qr.forEach(function(t,e){n.Gr.set(t,e)}),e})},e}(Hp);function cg(t){return yp(t,up.store)}function lg(t){return yp(t,sp.store)}function hg(t){return t.path.it()}var fg=function(){function t(t){this.Qt=t}return t.prototype.Jn=function(t,e,n,r){var i=this;Jc(n<r&&n>=0&&r<=11);var o=new Vd("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(tp.store)}(t),function(t){t.createObjectStore(ep.store,{keyPath:ep.keyPath}),t.createObjectStore(np.store,{keyPath:np.keyPath,autoIncrement:!0}).createIndex(np.userMutationsIndex,np.userMutationsKeyPath,{unique:!0}),t.createObjectStore(rp.store)}(t),dg(t),function(t){t.createObjectStore(sp.store)}(t));var s=Rd.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(cp.store),t.deleteObjectStore(ap.store),t.deleteObjectStore(lp.store)}(t),dg(t)),s=s.next(function(){return function(t){var e=t.store(lp.store),n=new lp(0,0,ml.min().j(),0);return e.put(lp.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(np.store).rs().next(function(n){t.deleteObjectStore(np.store),t.createObjectStore(np.store,{keyPath:np.keyPath,autoIncrement:!0}).createIndex(np.userMutationsIndex,np.userMutationsKeyPath,{unique:!0});var r=e.store(np.store),i=n.map(function(t){return r.put(t)});return Rd.Mn(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(fp.store,{keyPath:fp.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.zr(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(up.store)}(t),i.Hr(o)})),n<7&&r>=7&&(s=s.next(function(){return i.Jr(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Yr(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(sp.store);e.createIndex(sp.readTimeIndex,sp.readTimeIndexPath,{unique:!1}),e.createIndex(sp.collectionReadTimeIndex,sp.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Xr(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(dp.store,{keyPath:dp.keyPath})}(t),function(t){t.createObjectStore(pp.store,{keyPath:pp.keyPath})}(t)})),s},t.prototype.Hr=function(t){var e=0;return t.store(sp.store).hs(function(t,n){e+=Bp(n)}).next(function(){var n=new up(e);return t.store(up.store).put(up.key,n)})},t.prototype.zr=function(t){var e=this,n=t.store(ep.store),r=t.store(np.store);return n.rs().next(function(n){return Rd.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.rs(np.userMutationsIndex,i).next(function(r){return Rd.forEach(r,function(r){Jc(r.userId===n.userId);var i=Cp(e.Qt,r);return zp(t,n.userId,i).next(function(){})})})})})},t.prototype.Jr=function(t){var e=t.store(cp.store),n=t.store(sp.store);return t.store(lp.store).get(lp.key).next(function(t){var r=[];return n.hs(function(n,i){var o=new wl(n),s=function(t){return[0,Yd(t)]}(o);r.push(e.get(s).next(function(n){return n?Rd.resolve():function(n){return e.put(new cp(0,Yd(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Rd.Mn(r)})})},t.prototype.Yr=function(t,e){t.createObjectStore(hp.store,{keyPath:hp.keyPath});var n=e.store(hp.store),r=new Rp,i=function(t){if(r.add(t)){var e=t.tt(),i=t.X();return n.put({collectionId:e,parent:Yd(i)})}};return e.store(sp.store).hs({us:!0},function(t,e){var n=new wl(t);return i(n.X())}).next(function(){return e.store(rp.store).hs({us:!0},function(t,e){var n=Zd(t[1]);return i(n.X())})})},t.prototype.Xr=function(t){var e=this,n=t.store(ap.store);return n.hs(function(t,r){var i=xp(r),o=Ap(e.Qt,i);return n.put(o)})},t}();function dg(t){t.createObjectStore(cp.store,{keyPath:cp.keyPath}).createIndex(cp.documentTargetsIndex,cp.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ap.store,{keyPath:ap.keyPath}).createIndex(ap.queryTargetsIndexName,ap.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(lp.store)}var pg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",gg=function(){function t(e,n,r,i,o,s,u,a,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=o,this.window=s,this.document=u,this.eo=c,this.no=l,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(t){return Promise.resolve()},!t.Kn())throw new al(ul.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new og(this,i),this.ho=n+"main",this.Qt=new wp(a),this.lo=new Ld(this.ho,11,new fg(this.Qt)),this._o=new Xp(this.Ti,this.Qt),this.Ei=new Vp,this.fo=function(t,e){return new ug(t,e)}(this.Qt,this.Ei),this.wo=new kp,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,!1===l&&Yc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.To().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new al(ul.FAILED_PRECONDITION,pg);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t._o.Ki(e)})}).then(function(e){t.so=new vl(e,t.eo)}).then(function(){t.io=!0}).catch(function(e){return t.lo&&t.lo.close(),Promise.reject(e)})},t.prototype.Ro=function(t){var e=this;return this.uo=function(n){return Object(zc.b)(e,void 0,void 0,function(){return Object(zc.d)(this,function(e){return this.Er?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Po=function(t){var e=this;this.lo.Xn(function(n){return Object(zc.b)(e,void 0,void 0,function(){return Object(zc.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.yo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps(function(){return Object(zc.b)(e,void 0,void 0,function(){return Object(zc.d)(this,function(t){switch(t.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return yg(e).put(new fp(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Vo(e).next(function(e){e||(t.isPrimary=!1,t.Zr.po(function(){return t.uo(!1)}))})}).next(function(){return t.bo(e)}).next(function(n){return t.isPrimary&&!n?t.vo(e).next(function(){return!1}):!!n&&t.So(e).next(function(){return!0})})}).catch(function(e){if(Fd(e))return Qc("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Qc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Zr.po(function(){return t.uo(e)}),t.isPrimary=e})},t.prototype.Vo=function(t){var e=this;return vg(t).get(tp.key).next(function(t){return Rd.resolve(e.Do(t))})},t.prototype.Co=function(t){return yg(t).delete(this.clientId)},t.prototype.xo=function(){return Object(zc.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(zc.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=yp(t,fp.store);return e.rs().next(function(t){var n=r.$o(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Rd.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Eo)for(e=0,n=t;e<n.length;e++)this.Eo.removeItem(this.Fo(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,function(){return t.To().then(function(){return t.xo()}).then(function(){return t.Ao()})})},t.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bo=function(t){var e=this;return this.no?Rd.resolve(!0):vg(t).get(tp.key).next(function(n){if(null!==n&&e.No(n.leaseTimestampMs,5e3)&&!e.Oo(n.ownerId)){if(e.Do(n)&&e.networkEnabled)return!0;if(!e.Do(n)){if(!n.allowTabSynchronization)throw new al(ul.FAILED_PRECONDITION,pg);return!1}}return!(!e.networkEnabled||!e.inForeground)||yg(t).rs().next(function(t){return void 0===e.$o(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Qc("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.ko=function(){return Object(zc.b)(this,void 0,void 0,function(){var t=this;return Object(zc.d)(this,function(e){switch(e.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[tp.store,fp.store],function(e){var n=new vp(e,vl.q);return t.vo(n).next(function(){return t.Co(n)})})];case 1:return e.sent(),this.lo.close(),this.qo(),[2]}})})},t.prototype.$o=function(t,e){var n=this;return t.filter(function(t){return n.No(t.updateTimeMs,e)&&!n.Oo(t.clientId)})},t.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return yg(e).rs().next(function(e){return t.$o(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t){return Gp.mi(t,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Qc("IndexedDbPersistence","Starting transaction:",t),this.lo.runTransaction(t,"readonly"===e?"readonly":"readwrite",gp,function(o){return r=new vp(o,i.so?i.so.next():vl.q),"readwrite-primary"===e?i.Vo(r).next(function(t){return!!t||i.bo(r)}).next(function(e){if(!e)throw Yc("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Zr.po(function(){return i.uo(!1)}),new al(ul.FAILED_PRECONDITION,$d);return n(r)}).next(function(t){return i.So(r).next(function(){return t})}):i.jo(r).next(function(){return n(r)})}).then(function(t){return r.Vs(),t})},t.prototype.jo=function(t){var e=this;return vg(t).get(tp.key).next(function(t){if(null!==t&&e.No(t.leaseTimestampMs,5e3)&&!e.Oo(t.ownerId)&&!e.Do(t)&&!(e.no||e.allowTabSynchronization&&t.allowTabSynchronization))throw new al(ul.FAILED_PRECONDITION,pg)})},t.prototype.So=function(t){var e=new tp(this.clientId,this.allowTabSynchronization,Date.now());return vg(t).put(tp.key,e)},t.Kn=function(){return Ld.Kn()},t.prototype.vo=function(t){var e=this,n=vg(t);return n.get(tp.key).next(function(t){return e.Do(t)?(Qc("IndexedDbPersistence","Releasing primary lease."),n.delete(tp.key)):Rd.resolve()})},t.prototype.No=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Yc("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Io=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.oo=function(){t.Zr.Ps(function(){return t.inForeground="visible"===t.document.visibilityState,t.To()})},this.document.addEventListener("visibilitychange",this.oo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ro=function(){e.Mo(),e.Zr.Ps(function(){return e.ko()})},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.Oo=function(t){var e;try{var n=null!==(null===(e=this.Eo)||void 0===e?void 0:e.getItem(this.Fo(t)));return Qc("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Yc("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(t){Yc("Failed to set zombie client id.",t)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch(t){}},t.prototype.Fo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function vg(t){return yp(t,tp.store)}function yg(t){return yp(t,fp.store)}function mg(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var bg=function(t,e){this.progress=t,this.Go=e},wg=function(){function t(t,e,n){this.fo=t,this.zo=e,this.Ei=n}return t.prototype.Ho=function(t,e){var n=this;return this.zo.bi(t,e).next(function(r){return n.Jo(t,e,r)})},t.prototype.Jo=function(t,e,n){return this.fo._i(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Cs(e,t);return t})},t.prototype.Yo=function(t,e,n){var r=Df();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Cs(t,e);r=r.zt(t,e)}),r},t.prototype.Xo=function(t,e){var n=this;return this.fo.getEntries(t,e).next(function(e){return n.Zo(t,e)})},t.prototype.Zo=function(t,e){var n=this;return this.zo.vi(t,e).next(function(r){var i=n.Yo(t,e,r),o=Pf();return i.forEach(function(t,e){e||(e=new nh(t,ml.min())),o=o.zt(t,e)}),o})},t.prototype.Kr=function(t,e,n){return function(t){return El.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.tc(t,e.path):kh(e)?this.ec(t,e,n):this.nc(t,e,n)},t.prototype.tc=function(t,e){return this.Ho(t,new El(e)).next(function(t){var e=Vf();return t instanceof eh&&(e=e.zt(t.key,t)),e})},t.prototype.ec=function(t,e,n){var r=this,i=e.collectionGroup,o=Vf();return this.Ei.Us(t,i).next(function(s){return Rd.forEach(s,function(s){var u=function(t,e){return new Ih(e,null,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.nc(t,u,n).next(function(t){t.forEach(function(t,e){o=o.zt(t,e)})})}).next(function(){return o})})},t.prototype.nc=function(t,e,n){var r,i,o=this;return this.fo.Kr(t,e,n).next(function(n){return r=n,o.zo.Di(t,e)}).next(function(e){return o.sc(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,u=o.mutations;s<u.length;s++){var a=u[s],c=a.key,l=lf(a,r.get(c),o.vs);r=l instanceof eh?r.zt(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){Mh(e,n)||(r=r.remove(t))}),r})},t.prototype.sc=function(t,e,n){for(var r=Ff(),i=0,o=e;i<o.length;i++)for(var s=0,u=o[i].mutations;s<u.length;s++){var a=u[s];a instanceof gf&&null===n.get(a.key)&&(r=r.add(a.key))}var c=n;return this.fo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof eh&&(c=c.zt(t,e))}),c})},t}(),_g=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ic=n,this.rc=r}return t.oc=function(e,n){for(var r=Ff(),i=Ff(),o=0,s=n.docChanges;o<s.length;o++){var u=s[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Og=function(){function t(){}return t.prototype.cc=function(t){this.ac=t},t.prototype.Kr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.xt.length||1===t.xt.length&&t.xt[0].field.ut())}(e)||n.isEqual(ml.min())?this.uc(t,e):this.ac.Xo(t,r).next(function(o){var s=i.hc(e,o);return(Ch(e)||xh(e))&&i.lc(e.limitType,s,r,n)?i.uc(t,e):($c()<=Fo.a.DEBUG&&Qc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Lh(e)),i.ac.Kr(t,e,n).next(function(t){return s.forEach(function(e){t=t.zt(e.key,e)}),t}))})},t.prototype.hc=function(t,e){var n=new jf(Uh(t));return e.forEach(function(e,r){r instanceof eh&&Mh(t,r)&&(n=n.add(r))}),n},t.prototype.lc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version._(r)>0)},t.prototype.uc=function(t,e){return $c()<=Fo.a.DEBUG&&Qc("QueryEngine","Using full collection scan to execute query:",Lh(e)),this.ac.Kr(t,e,ml.min())},t}(),Eg=function(){function t(t,e,n,r){this.persistence=t,this._c=e,this.Qt=r,this.fc=new Cf(rl),this.dc=new qp(function(t){return sh(t)},uh),this.wc=ml.min(),this.zo=t.Qo(n),this.Ec=t.$r(),this._o=t.Sr(),this.Tc=new wg(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Vr(n,e.fc)})},t}();function Ig(t,e,n,r){return new Eg(t,e,n,r)}function Sg(t,e){return Object(zc.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(zc.d)(this,function(s){switch(s.label){case 0:return n=tl(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.zo.pi(t).next(function(s){return o=s,r=n.persistence.Qo(e),i=new wg(n.Ec,r,n.persistence.Ko()),r.pi(t)}).next(function(e){for(var n=[],r=[],s=Ff(),u=0,a=o;u<a.length;u++){var c=a[u];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,v=p.mutations;g<v.length;g++)s=s.add(v[g].key)}return i.Xo(t,s).next(function(t){return{Ic:t,mc:n,Ac:r}})})})];case 1:return o=s.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),o)]}})})}function Tg(t,e){var n=tl(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Ec.Nr({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Rd.resolve();return o.forEach(function(t){s=s.next(function(){return r._i(e,t)}).next(function(e){var o=e,s=n.$s.get(t);Jc(null!==s),(!o||o.version._(s)<0)&&(o=i.Ss(t,o,n))&&r.ai(o,n.Ns)})}),s.next(function(){return t.zo.Ci(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.zo.$i(t)}).next(function(){return n.Tc.Xo(t,r)})})}function Cg(t){var e=tl(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e._o.Qi(t)})}function xg(t,e){var n=tl(t),r=e.Ot,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Ec.Nr({Wr:!0});i=n.fc;var s=[];e.$e.forEach(function(e,o){var u=i.get(o);if(u){s.push(n._o.sr(t,e.Qe,o).next(function(){return n._o.er(t,e.qe,o)}));var a=e.resumeToken;if(a.l()>0){var c=u.Mt(a,r).kt(t.bs);i=i.zt(o,c),function(t,e,n){return Jc(e.resumeToken.l()>0),0===t.resumeToken.l()||e.Ot.W()-t.Ot.W()>=3e8||n.qe.size+n.Ue.size+n.Qe.size>0}(u,c,e)&&s.push(n._o.Hi(t,c))}}});var u=Pf();if(e.Oe.forEach(function(r,i){e.ke.has(r)&&s.push(n.persistence.Ti.Fr(t,r))}),s.push(Ag(t,o,e.Oe,r,void 0).next(function(t){u=t})),!r.isEqual(ml.min())){var a=n._o.Qi(t).next(function(e){return n._o.Wi(t,t.bs,r)});s.push(a)}return Rd.Mn(s).next(function(){return o.apply(t)}).next(function(){return n.Tc.Zo(t,u)})}).then(function(t){return n.fc=i,t})}function Ag(t,e,n,r,i){var o=Ff();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Pf();return n.forEach(function(n,s){var u=t.get(n),a=(null==i?void 0:i.get(n))||r;s instanceof nh&&s.version.isEqual(ml.min())?(e.li(n,a),o=o.zt(n,s)):null==u||s.version._(u.version)>0||0===s.version._(u.version)&&u.hasPendingWrites?(e.ai(s,a),o=o.zt(n,s)):Qc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",s.version)}),o})}function jg(t,e){var n=tl(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.zo.gi(t,e)})}function kg(t,e){var n=tl(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n._o.tr(t,e).next(function(i){return i?Rd.resolve(r=i):n._o.Bi(t).next(function(i){return r=new qh(e,i,0,t.bs),n._o.ji(t,r).next(function(){return r})})})}).then(function(t){var r=n.fc.get(t.targetId);return(null===r||t.Ot._(r.Ot)>0)&&(n.fc=n.fc.zt(t.targetId,t),n.dc.set(e,t.targetId)),t})}function Ng(t,e,n){return Object(zc.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(zc.d)(this,function(u){switch(u.label){case 0:r=tl(t),i=r.fc.get(e),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.Ti.removeTarget(t,i)})];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!Fd(s=u.sent()))throw s;return Qc("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}})})}function Pg(t,e,n){var r=tl(t),i=ml.min(),o=Ff();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=tl(t),i=r.dc.get(n);return void 0!==i?Rd.resolve(r.fc.get(i)):r._o.tr(e,n)}(r,t,Ph(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r._o.rr(t,e.targetId).next(function(t){o=t})}).next(function(){return r._c.Kr(t,e,n?i:ml.min(),n?o:Ff())}).next(function(t){return{documents:t,Rc:o}})})}function Dg(t,e){var n=tl(t),r=tl(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Sn(t,e).next(function(t){return t?t.target:null})})}function Rg(t){var e=tl(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=tl(t),i=Pf(),o=Ep(n),s=lg(e),u=IDBKeyRange.lowerBound(o,!0);return s.hs({index:sp.readTimeIndex,range:u},function(t,e){var n=_p(r.Qt,e);i=i.zt(n.key,n),o=e.readTime}).next(function(){return{Go:i,readTime:Ip(o)}})}(e.Ec,t,e.wc)}).then(function(t){var n=t.Go;return e.wc=t.readTime,n})}function Vg(t){return Object(zc.b)(this,void 0,void 0,function(){var e;return Object(zc.d)(this,function(n){return[2,(e=tl(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=lg(t),n=ml.min();return e.hs({index:sp.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Ip(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.wc=t})]})})}function Lg(t,e,n,r){return Object(zc.b)(this,void 0,void 0,function(){var i,o,s,u,a,c,l,h,f,d;return Object(zc.d)(this,function(p){switch(p.label){case 0:for(i=tl(t),o=Ff(),s=Pf(),u=Mf(),a=0,c=n;a<c.length;a++)h=e.Pc((l=c[a]).metadata.name),l.document&&(o=o.add(h)),s=s.zt(h,e.yc(l)),u=u.zt(h,e.gc(l.metadata.readTime));return f=i.Ec.Nr({Wr:!0}),[4,kg(i,function(t){return Ph(Th(wl.ot("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Ag(t,f,s,ml.min(),u).next(function(e){return f.apply(t),e}).next(function(e){return i._o.Yi(t,d.targetId).next(function(){return i._o.er(t,o,d.targetId)}).next(function(){return i.Tc.Zo(t,e)})})})]}})})}function Mg(t,e,n){return void 0===n&&(n=Ff()),Object(zc.b)(this,void 0,void 0,function(){var r,i;return Object(zc.d)(this,function(o){switch(o.label){case 0:return[4,kg(t,Ph(jp(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=tl(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=ud(e.readTime);if(r.Ot._(o)>=0)return i.wo.Ls(t,e);var s=r.Mt(sl.T,o);return i.fc=i.fc.zt(s.targetId,s),i._o.Hi(t,s).next(function(){return i._o.Yi(t,r.targetId)}).next(function(){return i._o.er(t,n,r.targetId)}).next(function(){return i.wo.Ls(t,e)})})]}})})}var Ug=function(){function t(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return t.prototype.Os=function(t,e){return Rd.resolve(this.Vc.get(e))},t.prototype.ks=function(t,e){var n;return this.Vc.set(e.id,{id:(n=e).id,version:n.version,createTime:ud(n.createTime)}),Rd.resolve()},t.prototype.Ms=function(t,e){return Rd.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){return this.bc.set(e.name,function(t){return{name:t.name,query:jp(t.bundledQuery),readTime:ud(t.readTime)}}(e)),Rd.resolve()},t}(),Fg=function(){function t(){this.vc=new jf(qg.Sc),this.Dc=new jf(qg.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(t,e){var n=new qg(t,e);this.vc=this.vc.add(n),this.Dc=this.Dc.add(n)},t.prototype.xc=function(t,e){var n=this;t.forEach(function(t){return n.nr(t,e)})},t.prototype.ir=function(t,e){this.Nc(new qg(t,e))},t.prototype.$c=function(t,e){var n=this;t.forEach(function(t){return n.ir(t,e)})},t.prototype.Fc=function(t){var e=this,n=new El(new wl([])),r=new qg(n,t),i=new qg(n,t+1),o=[];return this.Dc.me([r,i],function(t){e.Nc(t),o.push(t.key)}),o},t.prototype.Oc=function(){var t=this;this.vc.forEach(function(e){return t.Nc(e)})},t.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},t.prototype.kc=function(t){var e=new El(new wl([])),n=new qg(e,t),r=new qg(e,t+1),i=Ff();return this.Dc.me([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Fi=function(t){var e=new qg(t,0),n=this.vc.Re(e);return null!==n&&t.isEqual(n.key)},t}(),qg=function(){function t(t,e){this.key=t,this.Mc=e}return t.Sc=function(t,e){return El.H(t.key,e.key)||rl(t.Mc,e.Mc)},t.Cc=function(t,e){return rl(t.Mc,e.Mc)||El.H(t.key,e.key)},t}(),Hg=function(){function t(t,e){this.Ei=t,this.Ti=e,this.zo=[],this.Lc=1,this.Bc=new jf(qg.Sc)}return t.prototype.Ai=function(t){return Rd.resolve(0===this.zo.length)},t.prototype.Ri=function(t,e,n,r){var i=this.Lc;this.Lc++;var o=new mp(i,e,n,r);this.zo.push(o);for(var s=0,u=r;s<u.length;s++){var a=u[s];this.Bc=this.Bc.add(new qg(a.key,i)),this.Ei.qs(t,a.key.path.X())}return Rd.resolve(o)},t.prototype.Pi=function(t,e){return Rd.resolve(this.qc(e))},t.prototype.gi=function(t,e){var n=this.Uc(e+1),r=n<0?0:n;return Rd.resolve(this.zo.length>r?this.zo[r]:null)},t.prototype.Vi=function(){return Rd.resolve(0===this.zo.length?-1:this.Lc-1)},t.prototype.pi=function(t){return Rd.resolve(this.zo.slice())},t.prototype.bi=function(t,e){var n=this,r=new qg(e,0),i=new qg(e,Number.POSITIVE_INFINITY),o=[];return this.Bc.me([r,i],function(t){var e=n.qc(t.Mc);o.push(e)}),Rd.resolve(o)},t.prototype.vi=function(t,e){var n=this,r=new jf(rl);return e.forEach(function(t){var e=new qg(t,0),i=new qg(t,Number.POSITIVE_INFINITY);n.Bc.me([e,i],function(t){r=r.add(t.Mc)})}),Rd.resolve(this.Qc(r))},t.prototype.Di=function(t,e){var n=e.path,r=n.length+1,i=n;El.wt(i)||(i=i.child(""));var o=new qg(new El(i),0),s=new jf(rl);return this.Bc.Ae(function(t){var e=t.key.path;return!!n.nt(e)&&(e.length===r&&(s=s.add(t.Mc)),!0)},o),Rd.resolve(this.Qc(s))},t.prototype.Qc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.qc(t);null!==r&&n.push(r)}),n},t.prototype.Ci=function(t,e){var n=this;Jc(0===this.Kc(e.batchId,"removed")),this.zo.shift();var r=this.Bc;return Rd.forEach(e.mutations,function(i){var o=new qg(i.key,e.batchId);return r=r.delete(o),n.Ti.Ni(t,i.key)}).next(function(){n.Bc=r})},t.prototype.xi=function(t){},t.prototype.Fi=function(t,e){var n=new qg(e,0),r=this.Bc.Re(n);return Rd.resolve(e.isEqual(r&&r.key))},t.prototype.$i=function(t){return Rd.resolve()},t.prototype.Kc=function(t,e){return this.Uc(t)},t.prototype.Uc=function(t){return 0===this.zo.length?0:t-this.zo[0].batchId},t.prototype.qc=function(t){var e=this.Uc(t);return e<0||e>=this.zo.length?null:this.zo[e]},t}(),zg=function(){function t(t,e){this.Ei=t,this.Wc=e,this.docs=new Cf(El.H),this.size=0}return t.prototype.ai=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.zt(r,{hi:e,size:s,readTime:n}),this.size+=s-o,this.Ei.qs(t,r.path.X())},t.prototype.li=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._i=function(t,e){var n=this.docs.get(e);return Rd.resolve(n?n.hi:null)},t.prototype.getEntries=function(t,e){var n=this,r=Df();return e.forEach(function(t){var e=n.docs.get(t);r=r.zt(t,e?e.hi:null)}),Rd.resolve(r)},t.prototype.Kr=function(t,e,n){for(var r=Vf(),i=new El(e.path.child("")),o=this.docs.ee(i);o.ce();){var s=o.oe(),u=s.value,a=u.hi,c=u.readTime;if(!e.path.nt(s.key.path))break;c._(n)<=0||a instanceof eh&&Mh(e,a)&&(r=r.zt(a.key,a))}return Rd.resolve(r)},t.prototype.jc=function(t,e){return Rd.forEach(this.docs,function(t){return e(t)})},t.prototype.Nr=function(t){return new Bg(this)},t.prototype.Or=function(t){return Rd.resolve(this.size)},t}(),Bg=function(t){function e(e){var n=this;return(n=t.call(this)||this).jr=e,n}return Object(zc.c)(e,t),e.prototype.wi=function(t){var e=this,n=[];return this.ri.forEach(function(r,i){i&&i.hi?n.push(e.jr.ai(t,i.hi,e.ci(r))):e.jr.li(r)}),Rd.Mn(n)},e.prototype.fi=function(t,e){return this.jr._i(t,e)},e.prototype.di=function(t,e){return this.jr.getEntries(t,e)},e}(Hp),Gg=function(){function t(t){this.persistence=t,this.Gc=new qp(function(t){return sh(t)},uh),this.lastRemoteSnapshotVersion=ml.min(),this.highestTargetId=0,this.zc=0,this.Hc=new Fg,this.targetCount=0,this.Jc=Kp.Mi()}return t.prototype.In=function(t,e){return this.Gc.forEach(function(t,n){return e(n)}),Rd.resolve()},t.prototype.Qi=function(t){return Rd.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(t){return Rd.resolve(this.zc)},t.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),Rd.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zc&&(this.zc=e),Rd.resolve()},t.prototype.Gi=function(t){this.Gc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Jc=new Kp(e),this.highestTargetId=e),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},t.prototype.ji=function(t,e){return this.Gi(e),this.targetCount+=1,Rd.resolve()},t.prototype.Hi=function(t,e){return this.Gi(e),Rd.resolve()},t.prototype.Ji=function(t,e){return this.Gc.delete(e.target),this.Hc.Fc(e.targetId),this.targetCount-=1,Rd.resolve()},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return this.Gc.forEach(function(s,u){u.sequenceNumber<=e&&null===n.get(u.targetId)&&(r.Gc.delete(s),o.push(r.Yi(t,u.targetId)),i++)}),Rd.Mn(o).next(function(){return i})},t.prototype.Zi=function(t){return Rd.resolve(this.targetCount)},t.prototype.tr=function(t,e){var n=this.Gc.get(e)||null;return Rd.resolve(n)},t.prototype.er=function(t,e,n){return this.Hc.xc(e,n),Rd.resolve()},t.prototype.sr=function(t,e,n){this.Hc.$c(e,n);var r=this.persistence.Ti,i=[];return r&&e.forEach(function(e){i.push(r.Ni(t,e))}),Rd.Mn(i)},t.prototype.Yi=function(t,e){return this.Hc.Fc(e),Rd.resolve()},t.prototype.rr=function(t,e){var n=this.Hc.kc(e);return Rd.resolve(n)},t.prototype.Fi=function(t,e){return Rd.resolve(this.Hc.Fi(e))},t}(),Wg=function(){function t(t,e){var n=this;this.Yc={},this.so=new vl(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new Gg(this),this.Ei=new Dp,this.fo=function(t,e){return new zg(t,function(t){return n.Ti.Xc(t)})}(this.Ei),this.Qt=new wp(e),this.wo=new Ug(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(t){var e=this.Yc[t.A()];return e||(e=new Hg(this.Ei,this.Ti),this.Yc[t.A()]=e),e},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;Qc("MemoryPersistence","Starting transaction:",t);var i=new $g(this.so.next());return this.Ti.Zc(),n(i).next(function(t){return r.Ti.ta(i).next(function(){return t})}).On().then(function(t){return i.Vs(),t})},t.prototype.ea=function(t,e){return Rd.Ln(Object.values(this.Yc).map(function(n){return function(){return n.Fi(t,e)}}))},t}(),$g=function(t){function e(e){var n=this;return(n=t.call(this)||this).bs=e,n}return Object(zc.c)(e,t),e}(Qd),Qg=function(){function t(t){this.persistence=t,this.na=new Fg,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw Zc()},enumerable:!1,configurable:!0}),t.prototype.nr=function(t,e,n){return this.na.nr(n,e),this.ra.delete(n.toString()),Rd.resolve()},t.prototype.ir=function(t,e,n){return this.na.ir(n,e),this.ra.add(n.toString()),Rd.resolve()},t.prototype.Ni=function(t,e){return this.ra.add(e.toString()),Rd.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.na.Fc(e.targetId).forEach(function(t){return n.ra.add(t.toString())});var r=this.persistence.Sr();return r.rr(t,e.targetId).next(function(t){t.forEach(function(t){return n.ra.add(t.toString())})}).next(function(){return r.Ji(t,e)})},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(t){var e=this,n=this.persistence.$r().Nr();return Rd.forEach(this.ra,function(r){var i=El._t(r);return e.oa(t,i).next(function(t){t||n.li(i)})}).next(function(){return e.sa=null,n.apply(t)})},t.prototype.Fr=function(t,e){var n=this;return this.oa(t,e).next(function(t){t?n.ra.delete(e.toString()):n.ra.add(e.toString())})},t.prototype.Xc=function(t){return 0},t.prototype.oa=function(t,e){var n=this;return Rd.Ln([function(){return Rd.resolve(n.na.Fi(e))},function(){return n.persistence.Sr().Fi(t,e)},function(){return n.persistence.ea(t,e)}])},t}();function Yg(t,e){return"firestore_clients_"+t+"_"+e}function Kg(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function Xg(t,e){return"firestore_targets_"+t+"_"+e}var Zg=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ca=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new al(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Yc("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Jg=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ca=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new al(i.error.code,i.error.message)),o?new t(e,i.state,r):(Yc("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),tv=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ca=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Hf(),s=0;i&&s<r.activeTargetIds.length;++s)i=Ll(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Yc("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),ev=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ca=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Yc("SharedClientState","Failed to parse online state: "+e),null)},t}(),nv=function(){function t(){this.activeTargetIds=Hf()}return t.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),rv=function(){function t(t,e,n,r,i){this.window=t,this.Zr=e,this.persistenceKey=n,this.la=r,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new Cf(rl),this.Er=!1,this.Ta=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ia=Yg(this.persistenceKey,this.la),this.ma=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new nv),this.Aa=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ya=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.ga=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(zc.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,u,a,c,l=this;return Object(zc.d)(this,function(h){switch(h.label){case 0:return[4,this._a.Uo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.la&&(i=this.getItem(Yg(this.persistenceKey,r)))&&(o=tv.ca(r,i))&&(this.Ea=this.Ea.zt(o.clientId,o));for(this.Va(),(s=this.storage.getItem(this.ya))&&(u=this.pa(s))&&this.ba(u),a=0,c=this.Ta;a<c.length;a++)this.wa(c[a]);return this.Ta=[],this.window.addEventListener("unload",function(){return l.ko()}),this.Er=!0,[2]}})})},t.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(t){var e=!1;return this.Ea.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.Ca=function(t){this.xa(t,"pending")},t.prototype.Na=function(t,e,n){this.xa(t,e,n),this.$a(t)},t.prototype.Fa=function(t){var e="not-current";if(this.Da(t)){var n=this.storage.getItem(Xg(this.persistenceKey,t));if(n){var r=Jg.ca(t,n);r&&(e=r.state)}}return this.Oa.ua(t),this.Va(),e},t.prototype.ka=function(t){this.Oa.ha(t),this.Va()},t.prototype.Ma=function(t){return this.Oa.activeTargetIds.has(t)},t.prototype.La=function(t){this.removeItem(Xg(this.persistenceKey,t))},t.prototype.Ba=function(t,e,n){this.qa(t,e,n)},t.prototype.Ua=function(t,e,n){var r=this;e.forEach(function(t){r.$a(t)}),this.currentUser=t,n.forEach(function(t){r.Ca(t)})},t.prototype.Qa=function(t){this.Ka(t)},t.prototype.Wa=function(){this.ja()},t.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Qc("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Qc("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Qc("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Qc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ia)return void Yc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po(function(){return Object(zc.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(zc.d)(this,function(u){if(this.Er){if(null!==n.key)if(this.Aa.test(n.key)){if(null==n.newValue)return t=this.Ga(n.key),[2,this.za(t,null)];if(e=this.Ha(n.key,n.newValue))return[2,this.za(e.clientId,e)]}else if(this.Ra.test(n.key)){if(null!==n.newValue&&(r=this.Ja(n.key,n.newValue)))return[2,this.Ya(r)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Xa(n.key,n.newValue)))return[2,this.Za(i)]}else if(n.key===this.ya){if(null!==n.newValue&&(o=this.pa(n.newValue)))return[2,this.ba(o)]}else if(n.key===this.ma)(s=function(t){var e=vl.q;if(null!=t)try{var n=JSON.parse(t);Jc("number"==typeof n),e=n}catch(t){Yc("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==vl.q&&this.k(s);else if(n.key===this.ga)return[2,this._a.tu()]}else this.Ta.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},t.prototype.xa=function(t,e,n){var r=new Zg(this.currentUser,t,e,n),i=Kg(this.persistenceKey,this.currentUser,t);this.setItem(i,r.aa())},t.prototype.$a=function(t){var e=Kg(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ka=function(t){this.storage.setItem(this.ya,JSON.stringify({clientId:this.la,onlineState:t}))},t.prototype.qa=function(t,e,n){var r=Xg(this.persistenceKey,t),i=new Jg(t,e,n);this.setItem(r,i.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(t){var e=this.Aa.exec(t);return e?e[1]:null},t.prototype.Ha=function(t,e){var n=this.Ga(t);return tv.ca(n,e)},t.prototype.Ja=function(t,e){var n=this.Ra.exec(t),r=Number(n[1]);return Zg.ca(new ll(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Xa=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Jg.ca(r,e)},t.prototype.pa=function(t){return ev.ca(t)},t.prototype.Ya=function(t){return Object(zc.b)(this,void 0,void 0,function(){return Object(zc.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(Qc("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},t.prototype.za=function(t,e){var n=this,r=e?this.Ea.zt(t,e):this.Ea.remove(t),i=this.Sa(this.Ea),o=this.Sa(r),s=[],u=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||u.push(t)}),this._a.su(s,u).then(function(){n.Ea=r})},t.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},t.prototype.Sa=function(t){var e=Hf();return t.forEach(function(t,n){e=e.Pe(n.activeTargetIds)}),e},t}(),iv=function(){function t(){this.iu=new nv,this.ru={},this.fa=null,this.k=null}return t.prototype.Ca=function(t){},t.prototype.Na=function(t,e,n){},t.prototype.Fa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},t.prototype.Ba=function(t,e,n){this.ru[t]=e},t.prototype.ka=function(t){this.iu.ha(t)},t.prototype.Ma=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.La=function(t){delete this.ru[t]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.start=function(){return this.iu=new nv,Promise.resolve()},t.prototype.Ua=function(t,e,n){},t.prototype.Qa=function(t){},t.prototype.ko=function(){},t.prototype.B=function(t){},t.prototype.Wa=function(){},t}(),ov=function(){function t(){}return t.prototype.ou=function(t){},t.prototype.ko=function(){},t}(),sv=function(){function t(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return t.prototype.ou=function(t){this.lu.push(t)},t.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){Qc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(0)},t.prototype.hu=function(){Qc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(1)},t.Kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),uv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},av=function(){function t(t){this.fu=t.fu,this.du=t.du}return t.prototype.wu=function(t){this.Eu=t},t.prototype.Tu=function(t){this.Iu=t},t.prototype.onMessage=function(t){this.mu=t},t.prototype.close=function(){this.du()},t.prototype.send=function(t){this.fu(t)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(t){this.Iu(t)},t.prototype.Pu=function(t){this.mu(t)},t}(),cv=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(zc.c)(e,t),e.prototype.Su=function(t,e,n,r){return new Promise(function(i,o){var s=new Hc;s.listenOnce(Uc.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Mc.NO_ERROR:var e=s.getResponseJson();Qc("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Mc.TIMEOUT:Qc("Connection",'RPC "'+t+'" timed out'),o(new al(ul.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:var n=s.getStatus();if(Qc("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(ul).indexOf(e)>=0?e:ul.UNKNOWN}(r.status);o(new al(u,r.message))}else o(new al(ul.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new al(ul.UNAVAILABLE,"Connection failed."));break;default:Zc()}}finally{Qc("Connection",'RPC "'+t+'" completed.')}});var u=JSON.stringify(r);s.send(e,"POST",u,n,15)})},e.prototype.Cu=function(t,e){var n=[this.gu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Pc,i=Vu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(o.initMessageHeaders,e),Object(qo.l)()||Object(qo.n)()||Object(qo.j)()||Object(qo.k)()||Object(qo.o)()||Object(qo.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Qc("Connection","Creating WebChannel: "+s,o);var u=r.createWebChannel(s,o),a=!1,c=!1,l=new av({fu:function(t){c?Qc("Connection","Not sending because WebChannel is closed:",t):(a||(Qc("Connection","Opening WebChannel transport."),u.open(),a=!0),Qc("Connection","WebChannel sending:",t),u.send(t))},du:function(){return u.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(u,qc.EventType.OPEN,function(){c||Qc("Connection","WebChannel transport opened.")}),h(u,qc.EventType.CLOSE,function(){c||(c=!0,Qc("Connection","WebChannel transport closed"),l.Ru())}),h(u,qc.EventType.ERROR,function(t){c||(c=!0,Kc("Connection","WebChannel transport errored:",t),l.Ru(new al(ul.UNAVAILABLE,"The operation could not be completed")))}),h(u,qc.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Jc(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Qc("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=wf[t];if(void 0!==e)return Tf(e)}(i),s=r.message;void 0===o&&(o=ul.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Ru(new al(o,s)),u.close()}else Qc("Connection","WebChannel received:",n),l.Pu(n)}}),h(i,Fc.STAT_EVENT,function(t){10===t.stat?Qc("Connection","Detected buffering proxy"):11===t.stat&&Qc("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Au()},0),l},e}(function(){function t(t){this.yu=t,this.t=t.t,this.gu=(t.ssl?"https":"http")+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(t,e,n,r){var i=this.bu(t,e);Qc("RestConnection","Sending: ",i,n);var o={};return this.vu(o,r),this.Su(t,i,o,n).then(function(t){return Qc("RestConnection","Received: ",t),t},function(e){throw Kc("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Du=function(t,e,n,r){return this.pu(t,e,n,r)},t.prototype.vu=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.9",t["Content-Type"]="text/plain",e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n])},t.prototype.bu=function(t,e){return this.gu+"/v1/"+e+":"+uv[t]},t}());function lv(){return"undefined"!=typeof window?window:null}function hv(){return"undefined"!=typeof document?document:null}function fv(t){return new rd(t,!0)}var dv=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Zr=t,this.fs=e,this.xu=n,this.Nu=r,this.$u=i,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return t.prototype.reset=function(){this.Fu=0},t.prototype.Mu=function(){this.Fu=this.$u},t.prototype.Lu=function(t){var e=this;this.cancel();var n=Math.floor(this.Fu+this.Bu()),r=Math.max(0,Date.now()-this.ku),i=Math.max(0,n-r);i>0&&Qc("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,i,function(){return e.ku=Date.now(),t()}),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},t.prototype.qu=function(){null!==this.Ou&&(this.Ou.Rs(),this.Ou=null)},t.prototype.cancel=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},t}(),pv=function(){function t(t,e,n,r,i,o){this.Zr=t,this.Uu=n,this.Qu=r,this.Ku=i,this.listener=o,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new dv(t,e)}return t.prototype.zu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Hu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ju()},t.prototype.stop=function(){return Object(zc.b)(this,void 0,void 0,function(){return Object(zc.d)(this,function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var t=this;this.Hu()&&null===this.ju&&(this.ju=this.Zr.Tr(this.Uu,6e4,function(){return t.Zu()}))},t.prototype.th=function(t){this.eh(),this.stream.send(t)},t.prototype.Zu=function(){return Object(zc.b)(this,void 0,void 0,function(){return Object(zc.d)(this,function(t){return this.Hu()?[2,this.close(0)]:[2]})})},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(t,e){return Object(zc.b)(this,void 0,void 0,function(){return Object(zc.d)(this,function(n){switch(n.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,3!==t?this.Gu.reset():e&&e.code===ul.RESOURCE_EXHAUSTED?(Yc(e.toString()),Yc("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):e&&e.code===ul.UNAUTHENTICATED&&this.Ku.p(),null!==this.stream&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}})})},t.prototype.nh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.sh(this.Wu),n=this.Wu;this.Ku.getToken().then(function(e){t.Wu===n&&t.ih(e)},function(n){e(function(){var e=new al(ul.UNKNOWN,"Fetching auth token failed: "+n.message);return t.rh(e)})})},t.prototype.ih=function(t){var e=this,n=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu(function(){n(function(){return e.state=2,e.listener.wu()})}),this.stream.Tu(function(t){n(function(){return e.rh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Ju=function(){var t=this;this.state=4,this.Gu.Lu(function(){return Object(zc.b)(t,void 0,void 0,function(){return Object(zc.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.rh=function(t){return Qc("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.sh=function(t){var e=this;return function(n){e.Zr.Ps(function(){return e.Wu===t?n():(Qc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),gv=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Qt=i,s}return Object(zc.c)(e,t),e.prototype.oh=function(t){return this.Qu.Cu("Listen",t)},e.prototype.onMessage=function(t){this.Gu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Zc()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Bt?(Jc(void 0===e||"string"==typeof e),sl.fromBase64String(e||"")):(Jc(void 0===e||e instanceof Uint8Array),sl.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?ul.UNKNOWN:Tf(t.code);return new al(e,t.message||"")}(u);n=new Kf(r,i,o,s||null)}else if("documentChange"in e){i=hd(t,(r=e.documentChange).document.name),o=ud(r.document.updateTime);var u=new Xl({mapValue:{fields:r.document.fields}}),a=(s=new eh(i,o,u,{}),r.targetIds||[]);n=new Qf(a,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=hd(t,(r=e.documentDelete).document),o=r.readTime?ud(r.readTime):ml.min(),u=new nh(i,o),n=new Qf([],s=r.removedTargetIds||[],u.key,u);else if("documentRemove"in e)i=hd(t,(r=e.documentRemove).document),n=new Qf([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Zc();var c=e.filter;i=new If(r=c.count||0),n=new Yf(o=c.targetId,i)}return n}(this.Qt,t),n=function(t){if(!("targetChange"in t))return ml.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ml.min():e.readTime?ud(e.readTime):ml.min()}(t);return this.listener.ah(e,n)},e.prototype.uh=function(t){var e={};e.database=pd(this.Qt),e.addTarget=function(t,e){var n,r=e.target;return(n=ah(r)?{documents:wd(t,r)}:{query:_d(t,r)}).targetId=e.targetId,e.resumeToken.l()>0?n.resumeToken=od(t,e.resumeToken):e.Ot._(ml.min())>0&&(n.readTime=id(t,e.Ot.j())),n}(this.Qt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Zc()}}(0,e.Ft);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.th(e)},e.prototype.hh=function(t){var e={};e.database=pd(this.Qt),e.removeTarget=t,this.th(e)},e}(pv),vv=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Qt=i,s.lh=!1,s}return Object(zc.c)(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(t){return this.Qu.Cu("Write",t)},e.prototype.onMessage=function(t){if(Jc(!!t.streamToken),this.lastStreamToken=t.streamToken,this.lh){this.Gu.reset();var e=function(t,e){return t&&t.length>0?(Jc(void 0!==e),t.map(function(t){return function(t,e){var n=ud(t.updateTime?t.updateTime:e);n.isEqual(ml.min())&&(n=ud(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new of(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=ud(t.commitTime);return this.listener.dh(n,e)}return Jc(!t.writeResults||0===t.writeResults.length),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var t={};t.database=pd(this.Qt),this.th(t)},e.prototype.fh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return md(e.Qt,t)})};this.th(n)},e}(pv),yv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qu=n,i.Qt=r,i.Th=!1,i}return Object(zc.c)(e,t),e.prototype.Ih=function(){if(this.Th)throw new al(ul.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.pu(t,e,n,i)}).catch(function(t){throw t.code===ul.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.Du=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.Du(t,e,n,i)}).catch(function(t){throw t.code===ul.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.terminate=function(){this.Th=!1},e}(function(){}),mv=function(){function t(t,e){this._s=t,this.fa=e,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var t=this;0===this.mh&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()}))},t.prototype.Vh=function(t){"Online"===this.state?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},t.prototype.set=function(t){this.ph(),this.mh=0,"Online"===t&&(this.Rh=!1),this.yh(t)},t.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},t.prototype.gh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rh?(Yc(e),this.Rh=!1):Qc("OnlineStateTracker",e)},t.prototype.ph=function(){null!==this.Ah&&(this.Ah.cancel(),this.Ah=null)},t}(),bv=function(t,e,n,r,i){var o=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou(function(t){n.Ps(function(){return Object(zc.b)(o,void 0,void 0,function(){return Object(zc.d)(this,function(t){switch(t.label){case 0:return xv(this)?(Qc("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(zc.b)(this,void 0,void 0,function(){var e;return Object(zc.d)(this,function(n){switch(n.label){case 0:return(e=tl(t)).Nh.add(4),[4,_v(e)];case 1:return n.sent(),e.Oh.set("Unknown"),e.Nh.delete(4),[4,wv(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Oh=new mv(n,r)};function wv(t){return Object(zc.b)(this,void 0,void 0,function(){var e,n;return Object(zc.d)(this,function(r){switch(r.label){case 0:if(!xv(t))return[3,4];e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function _v(t){return Object(zc.b)(this,void 0,void 0,function(){var e,n;return Object(zc.d)(this,function(r){switch(r.label){case 0:e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Ov(t,e){var n=tl(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),Cv(n)?Tv(n):zv(n).Hu()&&Iv(n,e))}function Ev(t,e){var n=tl(t),r=zv(n);n.xh.delete(e),r.Hu()&&Sv(n,e),0===n.xh.size&&(r.Hu()?r.Xu():xv(n)&&n.Oh.set("Unknown"))}function Iv(t,e){t.kh.on(e.targetId),zv(t).uh(e)}function Sv(t,e){t.kh.on(e),zv(t).hh(e)}function Tv(t){t.kh=new Zf({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),zv(t).start(),t.Oh.Ph()}function Cv(t){return xv(t)&&!zv(t).zu()&&t.xh.size>0}function xv(t){return 0===tl(t).Nh.size}function Av(t){t.kh=void 0}function jv(t){return Object(zc.b)(this,void 0,void 0,function(){return Object(zc.d)(this,function(e){return t.xh.forEach(function(e,n){Iv(t,e)}),[2]})})}function kv(t,e){return Object(zc.b)(this,void 0,void 0,function(){return Object(zc.d)(this,function(n){return Av(t),Cv(t)?(t.Oh.Vh(e),Tv(t)):t.Oh.set("Unknown"),[2]})})}function Nv(t,e,n){return Object(zc.b)(this,void 0,void 0,function(){var r,i,o;return Object(zc.d)(this,function(s){switch(s.label){case 0:if(t.Oh.set("Online"),!(e instanceof Kf&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(zc.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(zc.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.xh.has(o=i[r])?[4,t.Dh.Mh(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.xh.delete(o),t.kh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Qc("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Pv(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Qf?t.kh.dn(e):e instanceof Yf?t.kh.Pn(e):t.kh.Tn(e),n.isEqual(ml.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Cg(t.bh)];case 8:return i=s.sent(),n._(i)>=0?[4,function(t,e){var n=t.kh.Vn(e);return n.$e.forEach(function(n,r){if(n.resumeToken.l()>0){var i=t.xh.get(r);i&&t.xh.set(r,i.Mt(n.resumeToken,e))}}),n.Fe.forEach(function(e){var n=t.xh.get(e);if(n){t.xh.set(e,n.Mt(sl.T,n.Ot)),Sv(t,e);var r=new qh(n.target,e,1,n.sequenceNumber);Iv(t,r)}}),t.Dh.Lh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Qc("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Pv(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Pv(t,e,n){return Object(zc.b)(this,void 0,void 0,function(){var r=this;return Object(zc.d)(this,function(i){switch(i.label){case 0:if(!Fd(e))throw e;return t.Nh.add(1),[4,_v(t)];case 1:return i.sent(),t.Oh.set("Offline"),n||(n=function(){return Cg(t.bh)}),t._s.po(function(){return Object(zc.b)(r,void 0,void 0,function(){return Object(zc.d)(this,function(e){switch(e.label){case 0:return Qc("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Nh.delete(1),[4,wv(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Dv(t,e){return e().catch(function(n){return Pv(t,n,e)})}function Rv(t){return Object(zc.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(zc.d)(this,function(s){switch(s.label){case 0:e=tl(t),n=Bv(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return xv(t)&&t.Ch.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,jg(e.bh,r)];case 3:return null===(i=s.sent())?(0===e.Ch.length&&n.Xu(),[3,7]):(r=i.batchId,function(t,e){t.Ch.push(e);var n=Bv(t);n.Hu()&&n._h&&n.fh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Pv(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Vv(e)&&Lv(e),[2]}})})}function Vv(t){return xv(t)&&!Bv(t).zu()&&t.Ch.length>0}function Lv(t){Bv(t).start()}function Mv(t){return Object(zc.b)(this,void 0,void 0,function(){return Object(zc.d)(this,function(e){return Bv(t).Eh(),[2]})})}function Uv(t){return Object(zc.b)(this,void 0,void 0,function(){var e,n,r;return Object(zc.d)(this,function(i){for(e=Bv(t),n=0,r=t.Ch;n<r.length;n++)e.fh(r[n].mutations);return[2]})})}function Fv(t,e,n){return Object(zc.b)(this,void 0,void 0,function(){var r,i;return Object(zc.d)(this,function(o){switch(o.label){case 0:return r=t.Ch.shift(),i=bp.from(r,e,n),[4,Dv(t,function(){return t.Dh.Bh(i)})];case 1:return o.sent(),[4,Rv(t)];case 2:return o.sent(),[2]}})})}function qv(t,e){return Object(zc.b)(this,void 0,void 0,function(){return Object(zc.d)(this,function(n){switch(n.label){case 0:return e&&Bv(t)._h?[4,function(t,e){return Object(zc.b)(this,void 0,void 0,function(){var n,r;return Object(zc.d)(this,function(i){switch(i.label){case 0:return Sf(r=e.code)&&r!==ul.ABORTED?(n=t.Ch.shift(),Bv(t).Yu(),[4,Dv(t,function(){return t.Dh.qh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Rv(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Vv(t)&&Lv(t),[2]}})})}function Hv(t,e){return Object(zc.b)(this,void 0,void 0,function(){var n;return Object(zc.d)(this,function(r){switch(r.label){case 0:return n=tl(t),e?(n.Nh.delete(2),[4,wv(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,_v(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function zv(t){var e=this;return t.Uh||(t.Uh=function(t,e,n){var r=tl(t);return r.Ih(),new gv(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:jv.bind(null,t),Tu:kv.bind(null,t),ah:Nv.bind(null,t)}),t.$h.push(function(n){return Object(zc.b)(e,void 0,void 0,function(){return Object(zc.d)(this,function(e){switch(e.label){case 0:return n?(t.Uh.Yu(),Cv(t)?Tv(t):t.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:e.sent(),Av(t),e.label=3;case 3:return[2]}})})})),t.Uh}function Bv(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=tl(t);return r.Ih(),new vv(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:Mv.bind(null,t),Tu:qv.bind(null,t),wh:Uv.bind(null,t),dh:Fv.bind(null,t)}),t.$h.push(function(n){return Object(zc.b)(e,void 0,void 0,function(){return Object(zc.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Yu(),[4,Rv(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:e.sent(),t.Ch.length>0&&(Qc("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),e.label=4;case 4:return[2]}})})})),t.Qh}var Gv=function(){this.Kh=void 0,this.listeners=[]},Wv=function(){this.queries=new qp(function(t){return Vh(t)},Rh),this.onlineState="Unknown",this.Wh=new Set};function $v(t,e){return Object(zc.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a;return Object(zc.d)(this,function(c){switch(c.label){case 0:if(n=tl(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Gv),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.jh(r)];case 2:return s.Kh=c.sent(),[3,4];case 3:return u=c.sent(),a=Wd(u,"Initialization of query '"+Lh(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Gh(n.onlineState),o.Kh&&e.zh(o.Kh)&&Xv(n),[2]}})})}function Qv(t,e){return Object(zc.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(zc.d)(this,function(u){return n=tl(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]})})}function Yv(t,e){for(var n=tl(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],u=n.queries.get(s.query);if(u){for(var a=0,c=u.listeners;a<c.length;a++)c[a].zh(s)&&(r=!0);u.Kh=s}}r&&Xv(n)}function Kv(t,e,n){var r=tl(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Xv(t){t.Wh.forEach(function(t){t.next()})}var Zv=function(){function t(t,e,n){this.query=t,this.Jh=e,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Gf(t.query,t.docs,t.Se,e,t.De,t.fromCache,t.Ce,!0)}var o=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),o=!0):this.tl(t,this.onlineState)&&(this.el(t),o=!0),this.Xh=t,o},t.prototype.onError=function(t){this.Jh.error(t)},t.prototype.Gh=function(t){this.onlineState=t;var e=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),e=!0),e},t.prototype.tl=function(t,e){return!t.fromCache||!(this.options.nl&&"Offline"!==e||t.docs.et()&&"Offline"!==e)},t.prototype.Zh=function(t){return t.docChanges.length>0||!!(t.Ce||this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.el=function(t){t=Gf.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},t}(),Jv=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),ty=function(){function t(t){this.Qt=t}return t.prototype.Pc=function(t){return hd(this.Qt,t)},t.prototype.yc=function(t){return t.metadata.exists?yd(this.Qt,t.document,!1):new nh(this.Pc(t.metadata.name),this.gc(t.metadata.readTime))},t.prototype.gc=function(t){return ud(t)},t}();!function(){function t(t,e,n){this.il=t,this.bh=e,this.Qt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.rl=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.ol=function(t){for(var e=new Map,n=new ty(this.Qt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.Pc(o.metadata.name),u=0,a=o.metadata.queries;u<a.length;u++){var c=a[u],l=(e.get(c)||Ff()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(zc.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(zc.d)(this,function(o){switch(o.label){case 0:return[4,Lg(this.bh,new ty(this.Qt),this.documents,this.il.id)];case 1:t=o.sent(),e=this.ol(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Mg(this.bh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new bg(Object.assign({},this.progress),t))]}})})}}();var ey=function(t){this.key=t},ny=function(t){this.key=t},ry=function(){function t(t,e){this.query=t,this.cl=e,this.al=null,this.Be=!1,this.ul=Ff(),this.De=Ff(),this.hl=Uh(t),this.ll=new zf(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(t,e){var n=this,r=e?e.dl:new Bf,i=e?e.ll:this.ll,o=e?e.De:this.De,s=i,u=!1,a=Ch(this.query)&&i.size===this.query.limit?i.last():null,c=xh(this.query)&&i.size===this.query.limit?i.first():null;if(t.Xt(function(t,e){var l=i.get(t),h=e instanceof eh?e:null;h&&(h=Mh(n.query,h)?h:null);var f=!!l&&n.De.has(l.key),d=!!h&&(h.Vt||n.De.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.wl(l,h)||(r.track({type:2,doc:h}),p=!0,(a&&n.hl(h,a)>0||c&&n.hl(h,c)<0)&&(u=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(a||c)&&(u=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),Ch(this.query)||xh(this.query))for(;s.size>this.query.limit;){var l=Ch(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ll:s,dl:r,lc:u,De:o}},t.prototype.wl=function(t,e){return t.Vt&&e.hasCommittedMutations&&!e.Vt},t.prototype.wi=function(t,e,n){var r=this,i=this.ll;this.ll=t.ll,this.De=t.De;var o=t.dl.ve();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zc()}};return n(t)-n(e)}(t.type,e.type)||r.hl(t.doc,e.doc)}),this.El(n);var s=e?this.Tl():[],u=0===this.ul.size&&this.Be?1:0,a=u!==this.al;return this.al=u,0!==o.length||a?{snapshot:new Gf(this.query,t.ll,i,o,t.De,0===u,a,!1),Il:s}:{Il:s}},t.prototype.Gh=function(t){return this.Be&&"Offline"===t?(this.Be=!1,this.wi({ll:this.ll,dl:new Bf,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},t.prototype.El=function(t){var e=this;t&&(t.qe.forEach(function(t){return e.cl=e.cl.add(t)}),t.Ue.forEach(function(t){}),t.Qe.forEach(function(t){return e.cl=e.cl.delete(t)}),this.Be=t.Be)},t.prototype.Tl=function(){var t=this;if(!this.Be)return[];var e=this.ul;this.ul=Ff(),this.ll.forEach(function(e){t.ml(e.key)&&(t.ul=t.ul.add(e.key))});var n=[];return e.forEach(function(e){t.ul.has(e)||n.push(new ny(e))}),this.ul.forEach(function(t){e.has(t)||n.push(new ey(t))}),n},t.prototype.Al=function(t){this.cl=t.Rc,this.ul=Ff();var e=this.fl(t.documents);return this.wi(e,!0)},t.prototype.Rl=function(){return Gf.Ne(this.query,this.ll,this.De,0===this.al)},t}(),iy=function(t,e,n){this.query=t,this.targetId=e,this.view=n},oy=function(t){this.key=t,this.Pl=!1},sy=function(){function t(t,e,n,r,i,o){this.bh=t,this.yl=e,this.gl=n,this.Vl=r,this.currentUser=i,this.pl=o,this.bl={},this.vl=new qp(function(t){return Vh(t)},Rh),this.Sl=new Map,this.Dl=new Set,this.Cl=new Cf(El.H),this.xl=new Map,this.Nl=new Fg,this.$l={},this.Fl=new Map,this.Ol=Kp.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(t.prototype,"Ml",{get:function(){return!0===this.kl},enumerable:!1,configurable:!0}),t}();function uy(t,e){return Object(zc.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(zc.d)(this,function(u){switch(u.label){case 0:return n=Vy(t),(i=n.vl.get(e))?(n.Vl.Fa(i.targetId),r=i.view.Rl(),[3,4]):[3,1];case 1:return[4,kg(n.bh,Ph(e))];case 2:return o=u.sent(),s=n.Vl.Fa(o.targetId),[4,ay(n,e,o.targetId,"current"===s)];case 3:r=u.sent(),n.Ml&&Ov(n.yl,o),u.label=4;case 4:return[2,r]}})})}function ay(t,e,n,r){return Object(zc.b)(this,void 0,void 0,function(){var i,o,s,u,a,c;return Object(zc.d)(this,function(l){switch(l.label){case 0:return t.Ll=function(e,n,r){return function(t,e,n,r){return Object(zc.b)(this,void 0,void 0,function(){var i,o,s;return Object(zc.d)(this,function(u){switch(u.label){case 0:return(i=e.view.fl(n)).lc?[4,Pg(t.bh,e.query,!1).then(function(t){return e.view.fl(t.documents,i)})]:[3,2];case 1:i=u.sent(),u.label=2;case 2:return o=r&&r.$e.get(e.targetId),s=e.view.wi(i,t.Ml,o),[2,(_y(t,e.targetId,s.Il),s.snapshot)]}})})}(t,e,n,r)},[4,Pg(t.bh,e,!0)];case 1:return i=l.sent(),o=new ry(e,i.Rc),s=o.fl(i.documents),u=$f.Le(n,r&&"Offline"!==t.onlineState),a=o.wi(s,t.Ml,u),_y(t,n,a.Il),c=new iy(e,n,o),[2,(t.vl.set(e,c),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),a.snapshot)]}})})}function cy(t,e){return Object(zc.b)(this,void 0,void 0,function(){var n,r,i;return Object(zc.d)(this,function(o){switch(o.label){case 0:return n=tl(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter(function(t){return!Rh(t,e)})),void n.vl.delete(e))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,Ng(n.bh,r.targetId,!1).then(function(){n.Vl.La(r.targetId),Ev(n.yl,r.targetId),by(n,r.targetId)}).catch(Fp)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return by(n,r.targetId),[4,Ng(n.bh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function ly(t,e,n){return Object(zc.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(zc.d)(this,function(u){switch(u.label){case 0:r=Ly(t),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(t,e){var n,r=tl(t),i=yl.now(),o=e.reduce(function(t,e){return t.add(e.key)},Ff());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Tc.Xo(t,o).next(function(o){n=o;for(var s=[],u=0,a=e;u<a.length;u++){var c=a[u],l=hf(c,n.get(c.key));null!=l&&s.push(new gf(c.key,l,Jl(l.proto.mapValue),sf.exists(!0)))}return r.zo.Ri(t,i,s,e)})}).then(function(t){var e=t.xs(n);return{batchId:t.batchId,ri:e}})}(r.bh,e)];case 2:return i=u.sent(),r.Vl.Ca(i.batchId),function(t,e,n){var r=t.$l[t.currentUser.A()];r||(r=new Cf(rl)),r=r.zt(e,n),t.$l[t.currentUser.A()]=r}(r,i.batchId,n),[4,Iy(r,i.ri)];case 3:return u.sent(),[4,Rv(r.yl)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),s=Wd(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function hy(t,e){return Object(zc.b)(this,void 0,void 0,function(){var n,r;return Object(zc.d)(this,function(i){switch(i.label){case 0:n=tl(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,xg(n.bh,e)];case 2:return r=i.sent(),e.$e.forEach(function(t,e){var r=n.xl.get(e);r&&(Jc(t.qe.size+t.Ue.size+t.Qe.size<=1),t.qe.size>0?r.Pl=!0:t.Ue.size>0?Jc(r.Pl):t.Qe.size>0&&(Jc(r.Pl),r.Pl=!1))}),[4,Iy(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Fp(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function fy(t,e,n){var r=tl(t);if(r.Ml&&0===n||!r.Ml&&1===n){var i=[];r.vl.forEach(function(t,n){var r=n.view.Gh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=tl(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Gh(e)&&(r=!0)}),r&&Xv(n)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ml&&r.Vl.Qa(e)}}function dy(t,e,n){return Object(zc.b)(this,void 0,void 0,function(){var r,i,o,s,u,a;return Object(zc.d)(this,function(c){switch(c.label){case 0:return(r=tl(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(o=i&&i.key)?(s=(s=new Cf(El.H)).zt(o,new nh(o,ml.min())),u=Ff().add(o),a=new Wf(ml.min(),new Map,new jf(rl),s,u),[4,hy(r,a)]):[3,2];case 1:return c.sent(),r.Cl=r.Cl.remove(o),r.xl.delete(e),Ey(r),[3,4];case 2:return[4,Ng(r.bh,e,!1).then(function(){return by(r,e,n)}).catch(Fp)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function py(t,e){return Object(zc.b)(this,void 0,void 0,function(){var n,r,i;return Object(zc.d)(this,function(o){switch(o.label){case 0:n=tl(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Tg(n.bh,e)];case 2:return i=o.sent(),my(n,r,null),yy(n,r),n.Vl.Na(r,"acknowledged"),[4,Iy(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Fp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function gy(t,e,n){return Object(zc.b)(this,void 0,void 0,function(){var r,i;return Object(zc.d)(this,function(o){switch(o.label){case 0:r=tl(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=tl(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.zo.Pi(t,e).next(function(e){return Jc(null!==e),r=e.keys(),n.zo.Ci(t,e)}).next(function(){return n.zo.$i(t)}).next(function(){return n.Tc.Xo(t,r)})})}(r.bh,e)];case 2:return i=o.sent(),my(r,e,n),yy(r,e),r.Vl.Na(e,"rejected",n),[4,Iy(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Fp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function vy(t,e){return Object(zc.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(zc.d)(this,function(u){switch(u.label){case 0:xv((n=tl(t)).yl)||Qc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(t){var e=tl(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.zo.Vi(t)})}(n.bh)];case 2:return-1===(r=u.sent())?[2,void e.resolve()]:((i=n.Fl.get(r)||[]).push(e),n.Fl.set(r,i),[3,4]);case 3:return o=u.sent(),s=Wd(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function yy(t,e){(t.Fl.get(e)||[]).forEach(function(t){t.resolve()}),t.Fl.delete(e)}function my(t,e,n){var r=tl(t),i=r.$l[r.currentUser.A()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.$l[r.currentUser.A()]=i}}function by(t,e,n){void 0===n&&(n=null),t.Vl.ka(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var o=i[r];t.vl.delete(o),n&&t.bl.Bl(o,n)}t.Sl.delete(e),t.Ml&&t.Nl.Fc(e).forEach(function(e){t.Nl.Fi(e)||wy(t,e)})}function wy(t,e){t.Dl.delete(e.path.rt());var n=t.Cl.get(e);null!==n&&(Ev(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),Ey(t))}function _y(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof ey?(t.Nl.nr(o.key,e),Oy(t,o)):o instanceof ny?(Qc("SyncEngine","Document no longer in limbo: "+o.key),t.Nl.ir(o.key,e),t.Nl.Fi(o.key)||wy(t,o.key)):Zc()}}function Oy(t,e){var n=e.key,r=n.path.rt();t.Cl.get(n)||t.Dl.has(r)||(Qc("SyncEngine","New document in limbo: "+n),t.Dl.add(r),Ey(t))}function Ey(t){for(;t.Dl.size>0&&t.Cl.size<t.pl;){var e=t.Dl.values().next().value;t.Dl.delete(e);var n=new El(wl.ot(e)),r=t.Ol.next();t.xl.set(r,new oy(n)),t.Cl=t.Cl.zt(n,r),Ov(t.yl,new qh(Ph(Th(n.path)),r,2,vl.q))}}function Iy(t,e,n){return Object(zc.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(zc.d)(this,function(u){switch(u.label){case 0:return r=tl(t),i=[],o=[],s=[],r.vl.et()?[3,3]:(r.vl.forEach(function(t,u){s.push(r.Ll(u,e,n).then(function(t){if(t){r.Ml&&r.Vl.Ba(u.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=_g.oc(u.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return u.sent(),r.bl.ah(i),[4,function(t,e){return Object(zc.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a,c;return Object(zc.d)(this,function(l){switch(l.label){case 0:n=tl(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Rd.forEach(e,function(e){return Rd.forEach(e.ic,function(r){return n.persistence.Ti.nr(t,e.targetId,r)}).next(function(){return Rd.forEach(e.rc,function(r){return n.persistence.Ti.ir(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Fd(r=l.sent()))throw r;return Qc("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)u=(s=o[i]).targetId,s.fromCache||(a=n.fc.get(u),c=a.Lt(a.Ot),n.fc=n.fc.zt(u,c));return[2]}})})}(r.bh,o)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function Sy(t,e){return Object(zc.b)(this,void 0,void 0,function(){var n,r;return Object(zc.d)(this,function(i){switch(i.label){case 0:return(n=tl(t)).currentUser.isEqual(e)?[3,3]:(Qc("SyncEngine","User change. New user:",e.A()),[4,Sg(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fl.forEach(function(t){t.forEach(function(t){t.reject(new al(ul.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fl.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,Iy(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Ty(t,e){var n=tl(t),r=n.xl.get(e);if(r&&r.Pl)return Ff().add(r.key);var i=Ff(),o=n.Sl.get(e);if(!o)return i;for(var s=0,u=o;s<u.length;s++){var a=n.vl.get(u[s]);i=i.Pe(a.view._l)}return i}function Cy(t,e){return Object(zc.b)(this,void 0,void 0,function(){var n,r,i;return Object(zc.d)(this,function(o){switch(o.label){case 0:return[4,Pg((n=tl(t)).bh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Al(r),[2,(n.Ml&&_y(n,e.targetId,i.Il),i)]}})})}function xy(t){return Object(zc.b)(this,void 0,void 0,function(){var e;return Object(zc.d)(this,function(n){return[2,Rg((e=tl(t)).bh).then(function(t){return Iy(e,t)})]})})}function Ay(t,e,n,r){return Object(zc.b)(this,void 0,void 0,function(){var i,o;return Object(zc.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=tl(t),r=tl(n.zo);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.yi(t,e).next(function(e){return e?n.Tc.Xo(t,e):Rd.resolve(null)})})}((i=tl(t)).bh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Rv(i.yl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(my(i,e,r||null),yy(i,e),function(t,e){tl(tl(t).zo).xi(e)}(i.bh,e)):Zc(),s.label=4;case 4:return[4,Iy(i,o)];case 5:return s.sent(),[3,7];case 6:Qc("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function jy(t,e){return Object(zc.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a;return Object(zc.d)(this,function(c){switch(c.label){case 0:return Vy(n=tl(t)),Ly(n),!0!==e||!0===n.kl?[3,3]:(r=n.Vl.va(),[4,ky(n,r.it())]);case 1:return i=c.sent(),n.kl=!0,[4,Hv(n.yl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Ov(n.yl,s[o]);return[3,7];case 3:return!1!==e||!1===n.kl?[3,7]:(u=[],a=Promise.resolve(),n.Sl.forEach(function(t,e){n.Vl.Ma(e)?u.push(e):a=a.then(function(){return by(n,e),Ng(n.bh,e,!0)}),Ev(n.yl,e)}),[4,a]);case 4:return c.sent(),[4,ky(n,u)];case 5:return c.sent(),function(t){var e=tl(t);e.xl.forEach(function(t,n){Ev(e.yl,n)}),e.Nl.Oc(),e.xl=new Map,e.Cl=new Cf(El.H)}(n),n.kl=!1,[4,Hv(n.yl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function ky(t,e,n){return Object(zc.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a,c,l,h,f,d,p;return Object(zc.d)(this,function(g){switch(g.label){case 0:n=tl(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(a=void 0,(c=n.Sl.get(u=s[o]))&&0!==c.length?[4,kg(n.bh,Ph(c[0]))]:[3,7]):[3,13];case 2:a=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.vl.get(h[l]),[4,Cy(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Dg(n.bh,u)];case 8:return p=g.sent(),[4,kg(n.bh,p)];case 9:return a=g.sent(),[4,ay(n,Ny(p),u,!1)];case 10:g.sent(),g.label=11;case 11:r.push(a),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.bl.ah(i),r)]}})})}function Ny(t){return Sh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Py(t){var e=tl(t);return tl(tl(e.bh).persistence).Uo()}function Dy(t,e,n,r){return Object(zc.b)(this,void 0,void 0,function(){var i,o,s;return Object(zc.d)(this,function(u){switch(u.label){case 0:return(i=tl(t)).kl?(Qc("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Rg(i.bh)];case 3:return o=u.sent(),s=Wf.Me(e,"current"===n),[4,Iy(i,o,s)];case 4:return u.sent(),[3,8];case 5:return[4,Ng(i.bh,e,!0)];case 6:return u.sent(),by(i,e,r),[3,8];case 7:Zc(),u.label=8;case 8:return[2]}})})}function Ry(t,e,n){return Object(zc.b)(this,void 0,void 0,function(){var r,i,o,s,u,a,c,l,h;return Object(zc.d)(this,function(f){switch(f.label){case 0:if(!(r=Vy(t)).kl)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Sl.has(s=o[i])?(Qc("SyncEngine","Adding an already active target "+s),[3,5]):[4,Dg(r.bh,s)]:[3,6];case 2:return u=f.sent(),[4,kg(r.bh,u)];case 3:return a=f.sent(),[4,ay(r,Ny(u),a.targetId,!1)];case 4:f.sent(),Ov(r.yl,a),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(zc.d)(this,function(e){switch(e.label){case 0:return r.Sl.has(t)?[4,Ng(r.bh,t,!1).then(function(){Ev(r.yl,t),by(r,t)}).catch(Fp)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Vy(t){var e=tl(t);return e.yl.Dh.Lh=hy.bind(null,e),e.yl.Dh.vn=Ty.bind(null,e),e.yl.Dh.Mh=dy.bind(null,e),e.bl.ah=Yv.bind(null,e.gl),e.bl.Bl=Kv.bind(null,e.gl),e}function Ly(t){var e=tl(t);return e.yl.Dh.Bh=py.bind(null,e),e.yl.Dh.qh=gy.bind(null,e),e}var My=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(zc.b)(this,void 0,void 0,function(){return Object(zc.d)(this,function(e){switch(e.label){case 0:return this.Qt=fv(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return e.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}})})},t.prototype.zl=function(t){return null},t.prototype.Hl=function(t){return Ig(this.persistence,new Og,t.Jl,this.Qt)},t.prototype.jl=function(t){return new Wg(Qg.ia,this.Qt)},t.prototype.Wl=function(t){return new iv},t.prototype.terminate=function(){return Object(zc.b)(this,void 0,void 0,function(){return Object(zc.d)(this,function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return t.sent(),[4,this.persistence.ko()];case 2:return t.sent(),[2]}})})},t}(),Uy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Yl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(zc.c)(e,t),e.prototype.initialize=function(e){return Object(zc.b)(this,void 0,void 0,function(){return Object(zc.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Vg(this.bh)];case 2:return n.sent(),[4,this.Yl.initialize(this,e)];case 3:return n.sent(),[4,Ly(this.Yl._a)];case 4:return n.sent(),[4,Rv(this.Yl.yl)];case 5:return n.sent(),[2]}})})},e.prototype.Hl=function(t){return Ig(this.persistence,new Og,t.Jl,this.Qt)},e.prototype.zl=function(t){return new rg(this.persistence.Ti.lr,t._s)},e.prototype.jl=function(t){var e=mg(t.yu.t,t.yu.persistenceKey),n=void 0!==this.cacheSizeBytes?Up.Ys(this.cacheSizeBytes):Up.ti;return new gg(this.synchronizeTabs,e,t.clientId,n,t._s,lv(),hv(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new iv},e}(My),Fy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Yl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(zc.c)(e,t),e.prototype.initialize=function(e){return Object(zc.b)(this,void 0,void 0,function(){var n,r=this;return Object(zc.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Yl._a,this.Vl instanceof rv?(this.Vl._a={eu:Ay.bind(null,n),nu:Dy.bind(null,n),su:Ry.bind(null,n),Uo:Py.bind(null,n),tu:xy.bind(null,n)},[4,this.Vl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Ro(function(t){return Object(zc.b)(r,void 0,void 0,function(){return Object(zc.d)(this,function(e){switch(e.label){case 0:return[4,jy(this.Yl._a,t)];case 1:return e.sent(),this.Gl&&(t&&!this.Gl.Er?this.Gl.start(this.bh):t||this.Gl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Wl=function(t){var e=lv();if(!rv.Kn(e))throw new al(ul.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=mg(t.yu.t,t.yu.persistenceKey);return new rv(e,t._s,n,t.clientId,t.Jl)},e}(Uy),qy=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(zc.b)(this,void 0,void 0,function(){var n=this;return Object(zc.d)(this,function(r){switch(r.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(e),this.yl=this.Zl(e),this.gl=this.t_(e),this._a=this.e_(e,!t.synchronizeTabs),this.Vl.fa=function(t){return fy(n._a,t,1)},this.yl.Dh.n_=Sy.bind(null,this._a),[4,Hv(this.yl,this._a.Ml)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.t_=function(t){return new Wv},t.prototype.Xl=function(t){var e=fv(t.yu.t),n=new cv(t.yu);return function(t,e,n){return new yv(t,e,n)}(t.credentials,n,e)},t.prototype.Zl=function(t){var e,n,r,i,o,s=this;return e=this.bh,n=this.Sh,r=t._s,i=function(t){return fy(s._a,t,0)},o=sv.Kn()?new sv:new ov,new bv(e,n,r,i,o)},t.prototype.e_=function(t,e){return function(t,e,n,r,i,o,s){var u=new sy(t,e,n,r,i,o);return s&&(u.kl=!0),u}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,e)},t.prototype.terminate=function(){return function(t){return Object(zc.b)(this,void 0,void 0,function(){var e;return Object(zc.d)(this,function(n){switch(n.label){case 0:return e=tl(t),Qc("RemoteStore","RemoteStore shutting down."),e.Nh.add(5),[4,_v(e)];case 1:return n.sent(),e.Fh.ko(),e.Oh.set("Unknown"),[2]}})})}(this.yl)},t}(),Hy=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),zy=(function(){function t(t,e){var n=this;this.r_=t,this.Qt=e,this.metadata=new Dd,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then(function(t){t&&t.sl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return Object(zc.b)(this,void 0,void 0,function(){return Object(zc.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Ql=function(){return Object(zc.b)(this,void 0,void 0,function(){return Object(zc.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.c_())]}})})},t.prototype.c_=function(){return Object(zc.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(zc.d)(this,function(i){switch(i.label){case 0:return[4,this.a_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.o_.decode(t),n=Number(e),isNaN(n)&&this.u_("length string ("+e+") is not valid number"),[4,this.h_(n)]);case 2:return r=i.sent(),[2,new Jv(JSON.parse(r),t.length+n)]}})})},t.prototype.l_=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.a_=function(){return Object(zc.b)(this,void 0,void 0,function(){var t,e;return Object(zc.d)(this,function(n){switch(n.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.h_=function(t){return Object(zc.b)(this,void 0,void 0,function(){var e;return Object(zc.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.__()]:[3,3];case 1:n.sent()&&this.u_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.o_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.u_=function(t){throw this.r_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.__=function(){return Object(zc.b)(this,void 0,void 0,function(){var t,e;return Object(zc.d)(this,function(n){switch(n.label){case 0:return[4,this.r_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new al(ul.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new Ol(t)}return t.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},t}()),By=function(t){this._methodName=t},Gy=function(t){this.d_=t};function Wy(t,e,n){if(!n)throw new al(ul.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function $y(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new al(ul.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Qy(t,e,n,r){if(!0===e&&!0===r)throw new al(ul.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Yy(t){if(!El.wt(t))throw new al(ul.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Ky(t){if(El.wt(t))throw new al(ul.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Xy(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Zc()}function Zy(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new al(ul.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Xy(t);throw new al(ul.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Jy(t,e){if(e<=0)throw new al(ul.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var tm=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new al(ul.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new al(ul.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Qy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),em=new Map,nm=function(){function t(t,e){this.w_="(lite)",this.E_=new tm({}),this.T_=!1,t instanceof Gc?(this.I_=t,this.m_=new fl):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new al(ul.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gc(t.options.projectId)}(t),this.m_=new dl(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new al(ul.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new al(ul.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new tm(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new fl;switch(t.type){case"gapi":var e=t.client;return Jc(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new gl(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new al(ul.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return(t=em.get(this))&&(Qc("ComponentProvider","Removing Datastore"),em.delete(this),t.terminate()),Promise.resolve();var t},t}(),rm=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new om(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),im=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),om=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Th(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(zc.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.X();return t.et()?null:new rm(this.firestore,null,new El(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(im);function sm(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Gy&&(t=t.d_),Wy("collection","path",e),t instanceof nm)return Ky(n=wl.ot.apply(wl,Object(zc.g)([e],r))),new om(t,null,n);if(!(t instanceof rm||t instanceof om))throw new al(ul.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ky(n=wl.ot.apply(wl,Object(zc.g)([t.path],r)).child(wl.ot(e))),new om(t.firestore,null,n)}function um(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Gy&&(t=t.d_),1===arguments.length&&(e=nl.u()),Wy("doc","path",e),t instanceof nm)return Yy(n=wl.ot.apply(wl,Object(zc.g)([e],r))),new rm(t,null,new El(n));if(!(t instanceof rm||t instanceof om))throw new al(ul.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Yy(n=t.D_.child(wl.ot.apply(wl,Object(zc.g)([e],r)))),new rm(t.firestore,t instanceof om?t.v_:null,new El(n))}function am(t,e){return t instanceof Gy&&(t=t.d_),e instanceof Gy&&(e=e.d_),(t instanceof rm||t instanceof om)&&(e instanceof rm||e instanceof om)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function cm(t,e){return t instanceof Gy&&(t=t.d_),e instanceof Gy&&(e=e.d_),t instanceof im&&e instanceof im&&t.firestore===e.firestore&&Rh(t.C_,e.C_)&&t.v_===e.v_}var lm=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new al(ul.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new al(ul.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(t){return rl(this.x_,t.x_)||rl(this.N_,t.N_)},t}(),hm=/^__.*__$/,fm=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Gt?new gf(t,this.data,this.Gt,e,this.fieldTransforms):new pf(t,this.data,e,this.fieldTransforms)},t}(),dm=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new gf(t,this.data,this.Gt,e,this.fieldTransforms)},t}();function pm(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zc()}}var gm=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.Qt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Gt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return Rm(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Gt.find(function(e){return t.nt(e)})||void 0!==this.fieldTransforms.find(function(e){return t.nt(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(pm(this.k_)&&hm.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),vm=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.Qt=n||fv(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new gm({k_:t,methodName:e,j_:n,path:Ol.ct(),B_:!1,W_:r},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function ym(t){var e=t.p_(),n=fv(t.I_);return new vm(t.I_,!!e.ignoreUndefinedProperties,n)}function mm(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);km("Data must be an object, but it was:",s,r);var u,a,c=Am(r,s);if(o.merge)u=new Cl(s.Gt),a=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Nm(e,f[h],n);if(!s.contains(d))throw new al(ul.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Vm(l,d)||l.push(d)}u=new Cl(l),a=s.fieldTransforms.filter(function(t){return u.Tt(t.field)})}else u=null,a=s.fieldTransforms;return new fm(new Xl(c),u,a)}var bm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(zc.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Gt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(By);function wm(t,e,n){return new gm({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var _m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(zc.c)(e,t),e.prototype.z_=function(t){return new rf(t.path,new Yh)},e.prototype.isEqual=function(t){return t instanceof e},e}(By),Om=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(zc.c)(e,t),e.prototype.z_=function(t){var e=wm(this,t,!0),n=this.H_.map(function(t){return xm(t,e)}),r=new Kh(n);return new rf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(By),Em=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(zc.c)(e,t),e.prototype.z_=function(t){var e=wm(this,t,!0),n=this.H_.map(function(t){return xm(t,e)}),r=new Zh(n);return new rf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(By),Im=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(zc.c)(e,t),e.prototype.z_=function(t){var e=new tf(t.Qt,Bh(t.Qt,this.J_));return new rf(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(By);function Sm(t,e,n,r){var i=t.G_(1,e,n);km("Data must be an object, but it was:",i,r);var o=[],s=new Zl;Sl(r,function(t,r){var u=Dm(e,t,n);r instanceof Gy&&(r=r.d_);var a=i.U_(u);if(r instanceof bm)o.push(u);else{var c=xm(r,a);null!=c&&(o.push(u),s.set(u,c))}});var u=new Cl(o);return new dm(s.Pt(),u,i.fieldTransforms)}function Tm(t,e,n,r,i,o){var s=t.G_(1,e,n),u=[Nm(e,r,n)],a=[i];if(o.length%2!=0)throw new al(ul.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)u.push(Nm(e,o[c])),a.push(o[c+1]);for(var l=[],h=new Zl,f=u.length-1;f>=0;--f)if(!Vm(l,u[f])){var d=u[f],p=a[f];p instanceof Gy&&(p=p.d_);var g=s.U_(d);if(p instanceof bm)l.push(d);else{var v=xm(p,g);null!=v&&(l.push(d),h.set(d,v))}}var y=new Cl(l);return new dm(h.Pt(),y,s.fieldTransforms)}function Cm(t,e,n,r){return void 0===r&&(r=!1),xm(n,t.G_(r?4:3,e))}function xm(t,e){if(t instanceof Gy&&(t=t.d_),jm(t))return km("Unsupported field value:",e,t),Am(t,e);if(t instanceof By)return function(t,e){if(!pm(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=xm(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Gy&&(t=t.d_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Bh(e.Qt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=yl.fromDate(t);return{timestampValue:id(e.Qt,n)}}if(t instanceof yl)return n=new yl(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:id(e.Qt,n)};if(t instanceof lm)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof cl)return{bytesValue:od(e.Qt,t.I)};if(t instanceof rm){var r=t.firestore.I_;if(!r.isEqual(n=e.t))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:ad(t.firestore.I_||e.t,t.S_.path)}}throw e.K_("Unsupported field value: "+Xy(t))}(t,e)}function Am(t,e){var n={};return Tl(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):Sl(t,function(t,r){var i=xm(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function jm(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof yl||t instanceof lm||t instanceof cl||t instanceof rm||t instanceof By)}function km(t,e,n){if(!jm(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Xy(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function Nm(t,e,n){if(e instanceof Gy&&(e=e.d_),e instanceof zy)return e.f_;if("string"==typeof e)return Dm(t,e);throw Rm("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Pm=new RegExp("[~\\*/\\[\\]]");function Dm(t,e,n){if(e.search(Pm)>=0)throw Rm("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(zy.bind.apply(zy,Object(zc.g)([void 0],e.split("."))))).f_}catch(r){throw Rm("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Rm(t,e,n,r,i){var o=r&&!r.et(),s=void 0!==i,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var a="";return(o||s)&&(a+=" (found",o&&(a+=" in field "+r),s&&(a+=" in document "+i),a+=")"),new al(ul.INVALID_ARGUMENT,(u+=". ")+t+a)}function Vm(t,e){return t.some(function(t){return t.isEqual(e)})}var Lm=function(){function t(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(zc.b)(this,void 0,void 0,function(){var e,n=this;return Object(zc.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new al(ul.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(zc.b)(this,void 0,void 0,function(){var n,r,i,o,s,u;return Object(zc.d)(this,function(a){switch(a.label){case 0:return n=tl(t),r=pd(n.Qt)+"/documents",i={documents:e.map(function(t){return ld(n.Qt,t)})},[4,n.Du("BatchGetDocuments",r,i)];case 1:return o=a.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Jc(!!e.found);var n=hd(t,e.found.name),r=ud(e.found.updateTime),i=new Xl({mapValue:{fields:e.found.fields}});return new eh(n,r,i,{})}(t,e):"missing"in e?function(t,e){Jc(!!e.missing),Jc(!!e.readTime);var n=hd(t,e.missing),r=ud(e.readTime);return new nh(n,r)}(t,e):Zc()}(n.Qt,t);s.set(e.key.toString(),e)}),u=[],[2,(e.forEach(function(t){var e=s.get(t.toString());Jc(!!e),u.push(e)}),u)]}})})}(this.Sh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof nh||t instanceof eh?n.sf(t):Zc()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Of(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(zc.b)(this,void 0,void 0,function(){var t,e=this;return Object(zc.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=El._t(n);e.mutations.push(new Ef(r,e.jt(r)))}),[4,function(t,e){return Object(zc.b)(this,void 0,void 0,function(){var n,r,i;return Object(zc.d)(this,function(o){switch(o.label){case 0:return n=tl(t),r=pd(n.Qt)+"/documents",i={writes:e.map(function(t){return md(n.Qt,t)})},[4,n.pu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Sh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof eh)e=t.version;else{if(!(t instanceof nh))throw Zc();e=ml.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new al(ul.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.jt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?sf.updateTime(e):sf.Kt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(ml.min()))throw new al(ul.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sf.updateTime(e)}return sf.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),Mm=function(){function t(t,e,n,r){this._s=t,this.Sh=e,this.updateFunction=n,this.Es=r,this.cf=5,this.Gu=new dv(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.Gu.Lu(function(){return Object(zc.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(zc.d)(this,function(r){return t=new Lm(this.Sh),(e=this.uf(t))&&e.then(function(e){n._s.Ps(function(){return t.commit().then(function(){n.Es.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!Rl(e)&&e.catch&&e.then?e:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Es.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps(function(){return e.af(),Promise.resolve()})):this.Es.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Sf(e)}return!1},t}(),Um=function(){function t(t,e,n){var r=this;this.credentials=t,this._s=e,this.yu=n,this.user=ll.UNAUTHENTICATED,this.clientId=nl.u(),this._f=function(){},this.C=new Dd,this.credentials.v(function(t){Qc("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.C.resolve()})}return t.prototype.getConfiguration=function(){return Object(zc.b)(this,void 0,void 0,function(){return Object(zc.d)(this,function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.C.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this._s.wf)throw new al(ul.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this._s.Ef();var e=new Dd;return this._s.Tf(function(){return Object(zc.b)(t,void 0,void 0,function(){var t,n;return Object(zc.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.S(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Wd(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Fm(t,e){return Object(zc.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(zc.d)(this,function(o){switch(o.label){case 0:return t._s.Af(),Qc("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Jl,t.ff(function(n){r.isEqual(n)||(r=n,t._s.po(function(){return Object(zc.b)(i,void 0,void 0,function(){return Object(zc.d)(this,function(t){switch(t.label){case 0:return[4,Sg(e.bh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.Po(function(){return t.terminate()}),t.mf=e,[2]}})})}function qm(t,e){return Object(zc.b)(this,void 0,void 0,function(){var n,r;return Object(zc.d)(this,function(i){switch(i.label){case 0:return t._s.Af(),[4,Hm(t)];case 1:return n=i.sent(),Qc("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t._s.po(function(){return function(t,e){return Object(zc.b)(this,void 0,void 0,function(){var n,r;return Object(zc.d)(this,function(i){switch(i.label){case 0:return(n=tl(t))._s.Af(),Qc("RemoteStore","RemoteStore received new credentials"),r=xv(n),n.Nh.add(3),[4,_v(n)];case 1:return i.sent(),r&&n.Oh.set("Unknown"),[4,n.Dh.n_(e)];case 2:return i.sent(),n.Nh.delete(3),[4,wv(n)];case 3:return i.sent(),[2]}})})}(e.yl,n)})}),t.If=e,[2]}})})}function Hm(t){return Object(zc.b)(this,void 0,void 0,function(){return Object(zc.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(Qc("FirestoreClient","Using default OfflineComponentProvider"),[4,Fm(t,new My)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function zm(t){return Object(zc.b)(this,void 0,void 0,function(){return Object(zc.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(Qc("FirestoreClient","Using default OnlineComponentProvider"),[4,qm(t,new qy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function Bm(t){return Hm(t).then(function(t){return t.persistence})}function Gm(t){return Hm(t).then(function(t){return t.bh})}function Wm(t){return zm(t).then(function(t){return t.yl})}function $m(t){return zm(t).then(function(t){return t._a})}function Qm(t){return Object(zc.b)(this,void 0,void 0,function(){var e,n;return Object(zc.d)(this,function(r){switch(r.label){case 0:return[4,zm(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=uy.bind(null,e._a),n.Hh=cy.bind(null,e._a),n)]}})})}function Ym(t,e,n){var r=this;void 0===n&&(n={});var i=new Dd;return t._s.Ps(function(){return Object(zc.b)(r,void 0,void 0,function(){var r;return Object(zc.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Hy({next:function(o){e.Ps(function(){return Qv(t,s)});var u=o.docs.has(n);!u&&o.fromCache?i.reject(new al(ul.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new al(ul.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Zv(Th(n.path),o,{includeMetadataChanges:!0,nl:!0});return $v(t,s)},[4,Qm(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}function Km(t,e,n){var r=this;void 0===n&&(n={});var i=new Dd;return t._s.Ps(function(){return Object(zc.b)(r,void 0,void 0,function(){var r;return Object(zc.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Hy({next:function(n){e.Ps(function(){return Qv(t,s)}),n.fromCache&&"server"===r.source?i.reject(new al(ul.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Zv(n,o,{includeMetadataChanges:!0,nl:!0});return $v(t,s)},[4,Qm(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}var Xm=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new dv(this,"async_queue_retry"),this.vf=function(){var e=hv();e&&Qc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Gu.qu()};var e=hv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=hv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.po=function(t){var e=this;this.Ps(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(zc.b)(this,void 0,void 0,function(){var t,e=this;return Object(zc.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!Fd(t=n.sent()))throw t;return Qc("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,Yc("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Tr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Gd.Ts(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Zc()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(zc.b)(this,void 0,void 0,function(){var t;return Object(zc.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.$f=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].fs===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ds-e.ds});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Rs(),"all"!==t&&i.fs===t)break}return e.Nf()})},t.prototype.Of=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}();function Zm(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this.kf={},this.Mf=new Dd,this.Lf={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.kf={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Mf.promise.catch(t)},t.prototype.then=function(t,e){return this.Mf.promise.then(t,e)},t.prototype.ql=function(t){this.Ul(t),this.kf.complete&&this.kf.complete(),this.Mf.resolve(t)},t.prototype.Kl=function(t){this.Lf.taskState="Error",this.kf.next&&this.kf.next(this.Lf),this.kf.error&&this.kf.error(t),this.Mf.reject(t)},t.prototype.Ul=function(t){this.Lf=t,this.kf.next&&this.kf.next(t)}}();var Jm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Bf=new Xm,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(zc.c)(e,t),e.prototype.b_=function(){return this.qf||eb(this),this.qf.terminate()},e}(nm);function tb(t){return t.qf||eb(t),t.qf.df(),t.qf}function eb(t){var e=t.p_(),n=function(t,e,n){return new Bc(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new Um(t.m_,t.Bf,n)}function nb(t,e,n){var r=this,i=new Dd;return t._s.enqueue(function(){return Object(zc.b)(r,void 0,void 0,function(){var r;return Object(zc.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Fm(t,n)];case 1:return o.sent(),[4,qm(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===ul.FAILED_PRECONDITION||t.code===ul.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function rb(t){if(t.R_||t.P_)throw new al(ul.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ib=function(){function t(){}return t.prototype.Uf=function(t,e){switch(void 0===e&&(e="none"),Ml(t)){case 0:return null;case 1:return t.booleanValue;case 2:return jl(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,e);case 5:return t.stringValue;case 6:return this.Wf(kl(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,e);case 10:return this.Hf(t.mapValue,e);default:throw Zc()}},t.prototype.Hf=function(t,e){var n=this,r={};return Sl(t.fields||{},function(t,i){r[t]=n.Uf(i,e)}),r},t.prototype.Gf=function(t){return new lm(jl(t.latitude),jl(t.longitude))},t.prototype.zf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.Uf(t,e)})},t.prototype.Kf=function(t,e){switch(e){case"previous":var n=Pl(t);return null==n?null:this.Uf(n,e);case"estimate":return this.Qf(Dl(t));default:return null}},t.prototype.Qf=function(t){var e=Al(t);return new yl(e.seconds,e.nanos)},t.prototype.Jf=function(t,e){var n=wl.ot(t);Jc(Pd(n));var r=new Gc(n.get(1),n.get(3)),i=new El(n.Y(5));return r.isEqual(e)||Yc("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),ob=function(){function t(t,e,n,r,i){this.Yf=t,this.Xf=e,this.S_=n,this.Zf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new rm(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Zf},t.prototype.data=function(){if(this.Zf){if(this.v_){var t=new sb(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(t){if(this.Zf){var e=this.Zf.data().field(ub("DocumentSnapshot.get",t));if(null!==e)return this.Xf.Uf(e)}},t}(),sb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(zc.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(ob);function ub(t,e){return"string"==typeof e?Dm(t,e):e instanceof Gy?e.d_.f_:e.f_}function ab(t){if(xh(t)&&0===t.xt.length)throw new al(ul.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var cb=function(){};function lb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.td(t)}return t}var hb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).ed=e,i.nd=n,i.sd=r,i.type="where",i}return Object(zc.c)(e,t),e.prototype.td=function(t){var e=ym(t.firestore),n=function(t,e,n,r,i,o,s){var u;if(i.ut()){if("array-contains"===o||"array-contains-any"===o)throw new al(ul.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){mb(s,o);for(var a=[],c=0,l=s;c<l.length;c++)a.push(yb(r,t,l[c]));u={arrayValue:{values:a}}}else u=yb(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||mb(s,o),u=Cm(n,"where",s,"in"===o||"not-in"===o);var h=ch.create(i,o,u);return function(t,e){if(e.Ct()){var n=jh(t);if(null!==n&&!n.isEqual(e.field))throw new al(ul.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Ah(t);null!==r&&bb(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new al(ul.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.ed,this.nd,this.sd);return new im(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Ih(t.path,t.collectionGroup,t.xt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(cb),fb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ed=e,r.rd=n,r.type="orderBy",r}return Object(zc.c)(e,t),e.prototype.td=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new al(ul.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new al(ul.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new wh(e,n);return function(t,e){if(null===Ah(t)){var n=jh(t);null!==n&&bb(0,n,e.field)}}(t,r),r}(t.C_,this.ed,this.rd);return new im(t.firestore,t.v_,function(t,e){var n=t.xt.concat([e]);return new Ih(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(cb),db=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.od=n,i.ad=r,i}return Object(zc.c)(e,t),e.prototype.td=function(t){return new im(t.firestore,t.v_,Dh(t.C_,this.od,this.ad))},e}(cb),pb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(zc.c)(e,t),e.prototype.td=function(t){var e=vb(t,this.type,this.ud,this.hd);return new im(t.firestore,t.v_,function(t,e){return new Ih(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(cb),gb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(zc.c)(e,t),e.prototype.td=function(t){var e=vb(t,this.type,this.ud,this.hd);return new im(t.firestore,t.v_,function(t,e){return new Ih(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(cb);function vb(t,e,n,r){if(n[0]instanceof Gy&&(n[0]=n[0].d_),n[0]instanceof ob)return function(t,e,n,r,i){if(!r)throw new al(ul.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,u=Nh(t);s<u.length;s++){var a=u[s];if(a.field.ut())o.push(Gl(e,r.key));else{var c=r.field(a.field);if(Nl(c))throw new al(ul.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=a.field.rt();throw new al(ul.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new mh(o,i)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=ym(t.firestore);return function(t,e,n,r,i,o){var s=t.xt;if(i.length>s.length)throw new al(ul.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],a=0;a<i.length;a++){var c=i[a];if(s[a].field.ut()){if("string"!=typeof c)throw new al(ul.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!kh(t)&&-1!==c.indexOf("/"))throw new al(ul.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(wl.ot(c));if(!El.wt(l))throw new al(ul.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new El(l);u.push(Gl(e,h))}else{var f=Cm(n,r,c);u.push(f)}}return new mh(u,o)}(t.C_,t.firestore.I_,i,e,n,r)}function yb(t,e,n){if(n instanceof Gy&&(n=n.d_),"string"==typeof n){if(""===n)throw new al(ul.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!kh(e)&&-1!==n.indexOf("/"))throw new al(ul.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(wl.ot(n));if(!El.wt(r))throw new al(ul.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Gl(t,new El(r))}if(n instanceof rm)return Gl(t,n.S_);throw new al(ul.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Xy(n)+".")}function mb(t,e){if(!Array.isArray(t)||0===t.length)throw new al(ul.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new al(ul.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function bb(t,e,n){if(!n.isEqual(e))throw new al(ul.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function wb(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var _b=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(zc.c)(e,t),e.prototype.Wf=function(t){return new cl(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new rm(this.firestore,null,e)},e}(ib),Ob=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Eb=function(t){function e(e,n,r,i,o,s){var u=this;return(u=t.call(this,e,n,r,i,s)||this).Yf=e,u.ld=e,u.metadata=o,u}return Object(zc.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Zf){if(this.v_){var e=new Ib(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Xf.Uf(this.Zf.bt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Zf){var n=this.Zf.data().field(ub("DocumentSnapshot.get",t));if(null!==n)return this.Xf.Uf(n,e.serverTimestamps)}},e}(ob),Ib=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(zc.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Eb),Sb=function(){function t(t,e,n,r){this.Yf=t,this.Xf=e,this._d=r,this.metadata=new Ob(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._d.docs.forEach(function(r){t.call(e,new Ib(n.Yf,n.Xf,r.key,r,new Ob(n._d.De.has(r.key),n._d.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._d.xe)throw new al(ul.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===e||(this.fd=function(t,e){if(t._d.Se.et()){var n=0;return t._d.docChanges.map(function(e){return{type:"added",doc:new Ib(t.Yf,t.Xf,e.doc.key,e.doc,new Ob(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t._d.Se;return t._d.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Ib(t.Yf,t.Xf,e.doc.key,e.doc,new Ob(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Tb(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.dd=e),this.fd},t}();function Tb(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zc()}}function Cb(t,e){return t instanceof Eb&&e instanceof Eb?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(null===t.Zf?null===e.Zf:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof Sb&&e instanceof Sb&&t.Yf===e.Yf&&cm(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}var xb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(zc.c)(e,t),e.prototype.Wf=function(t){return new cl(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new rm(this.firestore,null,e)},e}(ib);function Ab(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Zy(t,rm);var o=Zy(t.firestore,Jm),s=ym(o);return e instanceof Gy&&(e=e.d_),kb(o,[("string"==typeof e||e instanceof zy?Tm(s,"updateDoc",t.S_,e,n,r):Sm(s,"updateDoc",t.S_,e)).F_(t.S_,sf.exists(!0))])}function jb(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Gy&&(t=t.d_);var s={includeMetadataChanges:!1},u=0;"object"!=typeof i[u]||Zm(i[u])||(s=i[u],u++);var a,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Zm(i[u])){var f=i[u];i[u]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[u+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[u+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof rm)c=Zy(t.firestore,Jm),l=Th(t.S_.path),a={next:function(e){i[u]&&i[u](Nb(c,t,e))},error:i[u+1],complete:i[u+2]};else{var d=Zy(t,im);c=Zy(d.firestore,Jm),l=d.C_;var p=new xb(c);a={next:function(t){i[u]&&i[u](new Sb(c,p,d,t))},error:i[u+1],complete:i[u+2]},ab(t.C_)}return function(t,e,n,r){var i=this,o=new Hy(r),s=new Zv(e,o,n);return t._s.Ps(function(){return Object(zc.b)(i,void 0,void 0,function(){var e;return Object(zc.d)(this,function(n){switch(n.label){case 0:return e=$v,[4,Qm(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.i_(),t._s.Ps(function(){return Object(zc.b)(i,void 0,void 0,function(){var e;return Object(zc.d)(this,function(n){switch(n.label){case 0:return e=Qv,[4,Qm(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(tb(c),l,h,a)}function kb(t,e){return function(t,e){var n=this,r=new Dd;return t._s.Ps(function(){return Object(zc.b)(n,void 0,void 0,function(){var n;return Object(zc.d)(this,function(i){switch(i.label){case 0:return n=ly,[4,$m(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(tb(t),e)}function Nb(t,e,n){var r=n.docs.get(e.S_),i=new xb(t);return new Eb(t,i,e.S_,r,new Ob(n.hasPendingWrites,n.fromCache),e.v_)}var Pb=function(){function t(t,e){this.Yf=t,this.wd=e,this.Ed=[],this.Td=!1,this.Id=ym(t)}return t.prototype.set=function(t,e,n){this.md();var r=Db(t,this.Yf),i=wb(r.v_,e,n),o=mm(this.Id,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.Ed.push(o.F_(r.S_,sf.Kt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.md();var o,s=Db(t,this.Yf);return e instanceof Gy&&(e=e.d_),o="string"==typeof e||e instanceof zy?Tm(this.Id,"WriteBatch.update",s.S_,e,n,r):Sm(this.Id,"WriteBatch.update",s.S_,e),this.Ed.push(o.F_(s.S_,sf.exists(!0))),this},t.prototype.delete=function(t){this.md();var e=Db(t,this.Yf);return this.Ed=this.Ed.concat(new Of(e.S_,sf.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new al(ul.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Db(t,e){if(t instanceof Gy&&(t=t.d_),t.firestore!==e)throw new al(ul.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Rb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Yf=e,r}return Object(zc.c)(e,t),e.prototype.get=function(e){var n=this,r=Db(e,this.Yf),i=new xb(this.Yf);return t.prototype.get.call(this,e).then(function(t){return new Eb(n.Yf,i,r.S_,t.Zf,new Ob(!1,!1),r.v_)})},e}(function(){function t(t,e){this.Yf=t,this.Ad=e,this.Id=ym(t)}return t.prototype.get=function(t){var e=this,n=Db(t,this.Yf),r=new _b(this.Yf);return this.Ad.ef([n.S_]).then(function(t){if(!t||1!==t.length)return Zc();var i=t[0];if(i instanceof nh)return new ob(e.Yf,r,n.S_,null,n.v_);if(i instanceof eh)return new ob(e.Yf,r,i.key,i,n.v_);throw Zc()})},t.prototype.set=function(t,e,n){var r=Db(t,this.Yf),i=wb(r.v_,e,n),o=mm(this.Id,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Ad.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Db(t,this.Yf);return e instanceof Gy&&(e=e.d_),o="string"==typeof e||e instanceof zy?Tm(this.Id,"Transaction.update",s.S_,e,n,r):Sm(this.Id,"Transaction.update",s.S_,e),this.Ad.update(s.S_,o),this},t.prototype.delete=function(t){var e=Db(t,this.Yf);return this.Ad.delete(e.S_),this},t}());function Vb(){if("undefined"==typeof Uint8Array)throw new al(ul.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Lb(){if("undefined"==typeof atob)throw new al(ul.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Mb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(zc.c)(e,t),e.fromBase64String=function(t){return Lb(),new e(cl.fromBase64String(t))},e.fromUint8Array=function(t){return Vb(),new e(cl.fromUint8Array(t))},e.prototype.toBase64=function(){return Lb(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return Vb(),this.d_.toUint8Array()},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Gy),Ub=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){rb(t=Zy(t,Jm));var n=tb(t),r=t.p_(),i=new qy;return nb(n,i,new Uy(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.d_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){rb(t=Zy(t,Jm));var e=tb(t),n=t.p_(),r=new qy;return nb(e,r,new Fy(r,n.cacheSizeBytes))}(t.d_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new al(ul.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Dd;return t.Bf.Tf(function(){return Object(zc.b)(e,void 0,void 0,function(){var e;return Object(zc.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(zc.b)(this,void 0,void 0,function(){return Object(zc.d)(this,function(e){switch(e.label){case 0:return Ld.Kn()?[4,Ld.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(mg(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t.d_)},t}(),Fb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Rd=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Gc||(i.Pd=e),i}return Object(zc.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.d_.V_()),t)).merge,this.d_.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Zy(t,nm)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&Kc("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this.d_,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(zc.b)(e,void 0,void 0,function(){var e,n;return Object(zc.d)(this,function(r){switch(r.label){case 0:return[4,Bm(t)];case 1:return e=r.sent(),[4,Wm(t)];case 2:return n=r.sent(),[2,(e.yo(!0),function(t){var e=tl(t);return e.Nh.delete(0),wv(e)}(n))]}})})})}(tb(Zy(this.d_,Jm)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(zc.b)(e,void 0,void 0,function(){var e,n;return Object(zc.d)(this,function(r){switch(r.label){case 0:return[4,Bm(t)];case 1:return e=r.sent(),[4,Wm(t)];case 2:return n=r.sent(),[2,(e.yo(!1),function(t){return Object(zc.b)(this,void 0,void 0,function(){var e;return Object(zc.d)(this,function(n){switch(n.label){case 0:return(e=tl(t)).Nh.add(0),[4,_v(e)];case 1:return n.sent(),e.Oh.set("Offline"),[2]}})})}(n))]}})})})}(tb(Zy(this.d_,Jm)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Qy("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Dd;return t._s.Ps(function(){return Object(zc.b)(e,void 0,void 0,function(){var e;return Object(zc.d)(this,function(r){switch(r.label){case 0:return e=vy,[4,$m(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(tb(Zy(this.d_,Jm)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Hy(e);return t._s.Ps(function(){return Object(zc.b)(n,void 0,void 0,function(){var e;return Object(zc.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){tl(t).Wh.add(e),e.next()},[4,Qm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.i_(),t._s.Ps(function(){return Object(zc.b)(n,void 0,void 0,function(){var e;return Object(zc.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){tl(t).Wh.delete(e)},[4,Qm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(tb(t=Zy(t,Jm)),Zm(e)?e:{next:e})}(this.d_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new al(ul.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new tw(this,sm(this.d_,t))}catch(t){throw Wb(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Gb(this,um(this.d_,t))}catch(t){throw Wb(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Xb(this,function(t,e){if(t=Zy(t,nm),Wy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new al(ul.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new im(t,null,function(t){return new Ih(wl.ct(),t)}(e))}(this.d_,t))}catch(t){throw Wb(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Dd;return t._s.Ps(function(){return Object(zc.b)(n,void 0,void 0,function(){var n;return Object(zc.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return zm(t).then(function(t){return t.Sh})}(t)];case 1:return n=i.sent(),new Mm(t._s,n,e,r).run(),[2]}})})}),r.promise}(tb(t),function(n){return e(new Rb(t,n))})}(this.d_,function(n){return t(new Hb(e,n))})},e.prototype.batch=function(){var t=this;return tb(this.d_),new zb(new Pb(this.d_,function(e){return kb(t.d_,e)}))},e.prototype.loadBundle=function(t){throw new al(ul.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new al(ul.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Gy),qb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(zc.c)(e,t),e.prototype.Wf=function(t){return new Mb(new cl(t))},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return Gb.yd(e,this.firestore,null)},e}(ib),Hb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r.Xf=new qb(e),r}return Object(zc.c)(e,t),e.prototype.get=function(t){var e=this,n=ew(t);return this.d_.get(n).then(function(t){return new Yb(e.Yf,new Eb(e.Yf.d_,e.Xf,t.S_,t.Zf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=ew(t);return n?($y("Transaction.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=ew(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(zc.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=ew(t);return this.d_.delete(e),this},e}(Gy),zb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(zc.c)(e,t),e.prototype.set=function(t,e,n){var r=ew(t);return n?($y("WriteBatch.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=ew(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(zc.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=ew(t);return this.d_.delete(e),this},e.prototype.commit=function(){return this.d_.commit()},e}(Gy),Bb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).Yf=e,i.Xf=n,i}return Object(zc.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new Ib(this.Yf.d_,this.Xf,t.S_,t.Zf,t.metadata,null);return this.d_.fromFirestore(new Kb(this.Yf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this.d_.toFirestore(t,e):this.d_.toFirestore(t)},e.gd=function(t,n){var r=e.Vd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new qb(t),n),i.set(n,o)),o},e}(Gy);Bb.Vd=new WeakMap;var Gb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new qb(e),r}return Object(zc.c)(e,t),e.pd=function(t,n,r){if(t.length%2!=0)throw new al(ul.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.rt()+" has "+t.length);return new e(n,new rm(n.d_,r,new El(t)))},e.yd=function(t,n,r){return new e(n,new rm(n.d_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new tw(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new tw(this.firestore,sm(this.d_,t))}catch(t){throw Wb(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Gy&&(t=t.d_),t instanceof rm&&am(this.d_,t)},e.prototype.set=function(t,e){e=$y("DocumentReference.set",e);try{return function(t,e,n){t=Zy(t,rm);var r=Zy(t.firestore,Jm),i=wb(t.v_,e,n);return kb(r,[mm(ym(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,sf.Kt())])}(this.d_,t,e)}catch(t){throw Wb(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Ab(this.d_,t):Ab.apply(void 0,Object(zc.g)([this.d_,t,e],n))}catch(t){throw Wb(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return kb(Zy((t=this.d_).firestore,Jm),[new Of(t.S_,sf.Kt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=$b(e),i=Qb(e,function(e){return new Yb(t.firestore,new Eb(t.firestore.d_,t.Xf,e.S_,e.Zf,e.metadata,t.d_.v_))});return jb(this.d_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Zy(t,rm);var e=Zy(t.firestore,Jm),n=tb(e),r=new xb(e);return function(t,e){var n=this,r=new Dd;return t._s.Ps(function(){return Object(zc.b)(n,void 0,void 0,function(){var n;return Object(zc.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(zc.b)(this,void 0,void 0,function(){var r,i;return Object(zc.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=tl(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Tc.Ho(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof eh?n.resolve(i):i instanceof nh?n.resolve(null):n.reject(new al(ul.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Wd(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Gm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new Eb(e,r,t.S_,n,new Ob(n instanceof eh&&n.Vt,!0),t.v_)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=Zy(t,rm);var e=Zy(t.firestore,Jm);return Ym(tb(e),t.S_,{source:"server"}).then(function(n){return Nb(e,t,n)})}(this.d_):function(t){t=Zy(t,rm);var e=Zy(t.firestore,Jm);return Ym(tb(e),t.S_).then(function(n){return Nb(e,t,n)})}(this.d_)).then(function(t){return new Yb(e.firestore,new Eb(e.firestore.d_,e.Xf,t.S_,t.Zf,t.metadata,e.d_.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(Bb.gd(this.firestore,t)))},e}(Gy);function Wb(t,e,n){return t.message=t.message.replace(e,n),t}function $b(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Zm(r))return r}return{}}function Qb(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Zm(t[0])?t[0]:Zm(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Yb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(zc.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Gb(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.d_.data(t)},e.prototype.get=function(t,e){return this.d_.get(t,e)},e.prototype.isEqual=function(t){return Cb(this.d_,t.d_)},e}(Gy),Kb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(zc.c)(e,t),e.prototype.data=function(t){return this.d_.data(t)},e}(Yb),Xb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new qb(e),r}return Object(zc.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,lb(this.d_,function(t,e,n){var r=e,i=ub("where",t);return new hb(i,r,n)}(t,n,r)))}catch(t){throw Wb(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,lb(this.d_,function(t,e){void 0===e&&(e="asc");var n=e,r=ub("orderBy",t);return new fb(r,n)}(t,n)))}catch(t){throw Wb(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,lb(this.d_,function(t){return Jy("limit",t),new db("limit",t,"F")}(t)))}catch(t){throw Wb(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,lb(this.d_,function(t){return Jy("limitToLast",t),new db("limitToLast",t,"L")}(t)))}catch(t){throw Wb(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,lb(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new pb("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Wb(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,lb(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new pb("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Wb(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,lb(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new gb("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Wb(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,lb(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new gb("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Wb(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return cm(this.d_,t.d_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Zy(t,im);var e=Zy(t.firestore,Jm),n=tb(e),r=new xb(e);return function(t,e){var n=this,r=new Dd;return t._s.Ps(function(){return Object(zc.b)(n,void 0,void 0,function(){var n;return Object(zc.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(zc.b)(this,void 0,void 0,function(){var r,i,o,s,u;return Object(zc.d)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Pg(t,e,!0)];case 1:return u=a.sent(),r=new ry(e,u.Rc),i=r.fl(u.documents),o=r.wi(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=a.sent(),u=Wd(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})},[4,Gm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new Sb(e,r,t,n)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=Zy(t,im);var e=Zy(t.firestore,Jm),n=tb(e),r=new xb(e);return Km(n,t.C_,{source:"server"}).then(function(n){return new Sb(e,r,t,n)})}(this.d_):function(t){t=Zy(t,im);var e=Zy(t.firestore,Jm),n=tb(e),r=new xb(e);return ab(t.C_),Km(n,t.C_).then(function(n){return new Sb(e,r,t,n)})}(this.d_)).then(function(t){return new Jb(e.firestore,new Sb(e.firestore.d_,e.Xf,e.d_,t._d))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=$b(e),i=Qb(e,function(e){return new Jb(t.firestore,new Sb(t.firestore.d_,t.Xf,t.d_,e._d))});return jb(this.d_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(Bb.gd(this.firestore,t)))},e}(Gy),Zb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(zc.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Kb(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(Gy),Jb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(zc.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Xb(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.d_.docs.map(function(e){return new Kb(t.Yf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.d_.docChanges(t).map(function(t){return new Zb(e.Yf,t)})},e.prototype.forEach=function(t,e){var n=this;this.d_.forEach(function(r){t.call(e,new Kb(n.Yf,r))})},e.prototype.isEqual=function(t){return Cb(this.d_,t.d_)},e}(Gy),tw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.d_=n,r}return Object(zc.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.d_.parent;return t?new Gb(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Gb(this.firestore,void 0===t?um(this.d_):um(this.d_,t))}catch(t){throw Wb(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Zy(t.firestore,Jm),r=um(t),i=wb(t.v_,e);return kb(n,[mm(ym(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,sf.exists(!1))]).then(function(){return r})}(this.d_,t).then(function(t){return new Gb(e.firestore,t)})},e.prototype.isEqual=function(t){return am(this.d_,t.d_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(Bb.gd(this.firestore,t)))},e}(Xb);function ew(t){return t instanceof Gy&&(t=t.d_),Zy(t,rm)}var nw,rw=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(zy.bind.apply(zy,Object(zc.g)([void 0],e))))||this}return Object(zc.c)(e,t),e.documentId=function(){return new e(Ol.ht().rt())},e.prototype.isEqual=function(t){return t instanceof Gy&&(t=t.d_),t instanceof zy&&this.d_.f_.isEqual(t.f_)},e}(Gy),iw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(zc.c)(e,t),e.serverTimestamp=function(){var t=new _m("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new bm("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Om("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Em("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Im("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e}(Gy),ow=n("/6Yf"),sw={Firestore:Fb,GeoPoint:lm,Timestamp:yl,Blob:Mb,Transaction:Hb,WriteBatch:zb,DocumentReference:Gb,DocumentSnapshot:Yb,Query:Xb,QueryDocumentSnapshot:Kb,QuerySnapshot:Jb,CollectionReference:tw,FieldPath:rw,FieldValue:iw,setLogLevel:function(t){Wc.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new ow.a("firestore",function(t){return function(t,e){return new Fb(t,new Jm(t,e),new Ub)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},sw)))})(nw=Uo.a),nw.registerVersion("@firebase/firestore","2.1.7");var uw=n("VRyK"),aw=n("qgXg"),cw=n("Ylt2");class lw extends pt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new hw(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new gt.a;if(this.isStopped||this.hasError?o=pe.a.EMPTY:(this.observers.push(t),o=new cw.a(this,t)),r&&t.add(t=new Vo.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||aw.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class hw{constructor(t,e){this.time=t,this.value=e}}function fw(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,u=!1,a=!1;return function(c){let l;s++,!i||u?(u=!1,i=new lw(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){u=!0,i.error(t)},complete(){a=!0,o=void 0,i.complete()}}),a&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!a&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function dw(t,e){return e?Vt(()=>t,e):Vt(()=>t)}var pw=n("tf+s");const gw=new r.q("angularfire2.auth.use-emulator"),vw=new r.q("angularfire2.auth.settings"),yw=new r.q("angularfire2.auth.tenant-id"),mw=new r.q("angularfire2.auth.langugage-code"),bw=new r.q("angularfire2.auth.use-device-language"),ww=new r.q("angularfire.auth.persistence");let _w=(()=>{class t{constructor(t,e,r,i,o,s,u,a,c,l){const h=new Lo.d(i),f=Object(Lo.h)(h),d=new pt.a,p=Object(dt.a)(void 0).pipe(Object(Vo.b)(h.outsideAngular),Vt(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Dt.a)(()=>Object(Lo.g)(t,i,e)),Object(Dt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(Lo.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),u&&(r.tenantId=u),r.languageCode=a,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,u,a,c,n,l])})),fw({bufferSize:1,refCount:!1}));if(P(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(dt.a)(null);else{p.pipe(fe()).subscribe();const t=p.pipe(Vt(t=>t.getRedirectResult().then(t=>t,()=>null)),f,fw({bufferSize:1,refCount:!1})),e=t=>new Et.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Vt(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Vt(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(dw(n),Object(pw.a)(h.outsideAngular),Object(Vo.b)(h.insideAngular)),this.user=t.pipe(dw(r),Object(pw.a)(h.outsideAngular),Object(Vo.b)(h.insideAngular)),this.idToken=this.user.pipe(Vt(t=>t?Object(ft.a)(t.getIdToken()):Object(dt.a)(null))),this.idTokenResult=this.user.pipe(Vt(t=>t?Object(ft.a)(t.getIdTokenResult()):Object(dt.a)(null))),this.credential=Object(uw.a)(t,d,this.authState.pipe($t(t=>!t))).pipe(Object(Dt.a)(t=>(null==t?void 0:t.user)?t:null),Object(pw.a)(h.outsideAngular),Object(Vo.b)(h.insideAngular))}return Object(Lo.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Lo.c),r.Pb(Lo.b,8),r.Pb(r.B),r.Pb(r.z),r.Pb(gw,8),r.Pb(vw,8),r.Pb(yw,8),r.Pb(mw,8),r.Pb(bw,8),r.Pb(ww,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(Lo.c),Object(r.Pb)(Lo.b,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(gw,8),Object(r.Pb)(vw,8),Object(r.Pb)(yw,8),Object(r.Pb)(mw,8),Object(r.Pb)(bw,8),Object(r.Pb)(ww,8))},token:t,providedIn:"any"}),t})();function Ow(t,e){return function(t,e=jo.a){return new Et.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Ew(t,e){return Ow(t,e).pipe(Object(Dt.a)(t=>({payload:t,type:"query"})))}function Iw(t,e){return Ew(t,e).pipe(zt(void 0),ko(),Object(Dt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Sw(t,e,n){return Iw(t,n).pipe(Bt((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Tw(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Tw(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Tw(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Do(void 0,void 0)),Object(Dt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Tw(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Cw(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(Lo.e)(_w,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class xw{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Iw(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Dt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(zt(void 0),ko(),$t(([t,e])=>e.length>0||!t),Object(Dt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Bt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Cw(t);return Sw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Ew(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Dt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(ft.a)(this.query.get(t)).pipe(Object(Vo.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Aw(this.ref.doc(t),this.afs)}}class Aw{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Rw(n,e);return new xw(r,i,this.afs)}snapshotChanges(){return Ow(this.ref,this.afs.schedulers.outsideAngular).pipe(zt(void 0),ko(),Object(Dt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Dt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(ft.a)(this.ref.get(t)).pipe(Object(Vo.b)(this.afs.schedulers.insideAngular))}}class jw{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Iw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Dt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),$t(t=>t.length>0),this.afs.keepUnstableUntilFirst):Iw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Bt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Cw(t);return Sw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Ew(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Dt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(ft.a)(this.query.get(t)).pipe(Object(Vo.b)(this.afs.schedulers.insideAngular))}}const kw=new r.q("angularfire2.enableFirestorePersistence"),Nw=new r.q("angularfire2.firestore.persistenceSettings"),Pw=new r.q("angularfire2.firestore.settings"),Dw=new r.q("angularfire2.firestore.use-emulator");function Rw(t,e=(t=>t)){return{query:e(t),ref:t}}let Vw=(()=>{class t{constructor(t,e,n,r,i,o,s,u,a){this.schedulers=new Lo.d(o),this.keepUnstableUntilFirst=Object(Lo.h)(this.schedulers);const c=Object(Lo.g)(t,o,e);!Mo.a.auth&&a&&Object(Lo.j)();const l=u;[this.firestore,this.persistenceEnabled$]=Object(Lo.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!P(i)){const e=()=>{try{return Object(ft.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(nw){return"undefined"!=typeof console&&console.warn(nw),Object(dt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(dt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Rw(n,e),o=this.schedulers.ngZone.run(()=>r);return new xw(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new jw(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Aw(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Lo.c),r.Pb(Lo.b,8),r.Pb(kw,8),r.Pb(Pw,8),r.Pb(r.B),r.Pb(r.z),r.Pb(Nw,8),r.Pb(Dw,8),r.Pb(gw,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(Lo.c),Object(r.Pb)(Lo.b,8),Object(r.Pb)(kw,8),Object(r.Pb)(Pw,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(Nw,8),Object(r.Pb)(Dw,8),Object(r.Pb)(gw,8))},token:t,providedIn:"any"}),t})(),Lw=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:kw,useValue:!0},{provide:Nw,useValue:e}]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[Vw]}),t})(),Mw=(()=>{class t{constructor(t){this.fs=t}saveOffer(t){this.fs.collection("offering").add(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Vw))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Uw(t,e){1&t&&(r.Lb(0,"div",12),r.bc(1," Debe ingresar su N\xfamero de Mienbro o su nombre "),r.Kb())}function Fw(t,e){1&t&&(r.Lb(0,"div",12),r.bc(1," Debe ingresar el monto a prometer "),r.Kb())}function qw(t,e){if(1&t){const t=r.Mb();r.Lb(0,"form",2),r.Sb("ngSubmit",function(e){return r.Xb(t),r.Ub().onClick(e)}),r.Lb(1,"div",3),r.Lb(2,"label",4),r.bc(3,"N\xb0 o Nombre Completo"),r.Kb(),r.Jb(4,"input",5),r.ac(5,Uw,2,0,"div",6),r.Kb(),r.Lb(6,"div",7),r.Lb(7,"label",8),r.bc(8,"Cantidad"),r.Kb(),r.Jb(9,"input",9),r.ac(10,Fw,2,0,"div",6),r.Kb(),r.Lb(11,"div",10),r.Lb(12,"button",11),r.bc(13,"Prometer"),r.Kb(),r.Kb(),r.Kb()}if(2&t){const t=r.Ub();r.Vb("formGroup",t.frmHome),r.yb(5),r.Vb("ngIf",t.frmHome.controls.name.touched&&t.frmHome.controls.name.invalid),r.yb(5),r.Vb("ngIf",t.frmHome.controls.amount.touched&&t.frmHome.controls.amount.invalid),r.yb(2),r.Vb("disabled",t.loading)}}function Hw(t,e){1&t&&(r.Lb(0,"div",13),r.bc(1," Su promesa fue registrada - Bendiciones!!\n"),r.Kb())}let zw=(()=>{class t{constructor(t){this.serviceHome=t,this.frmHome=new mo({name:new yo("",Ei.required),amount:new yo("",[Ei.required,Ei.min(.2)])}),this.loading=!1,this.saveSuccess=!1}ngOnInit(){console.log(this.frmHome.controls.name)}onClick(t){try{this.loading=!0,this.frmHome.valid&&(this.serviceHome.saveOffer(this.frmHome.value),this.saveSuccess=!0)}catch(t){console.error(t)}finally{this.loading=!1}t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Mw))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-home"]],decls:2,vars:2,consts:[["class","row g-3 needs-validation","novalidate","",3,"formGroup","ngSubmit",4,"ngIf"],["class","alert alert-success","role","alert",4,"ngIf"],["novalidate","",1,"row","g-3","needs-validation",3,"formGroup","ngSubmit"],[1,"mb-3","position-relative"],["for","txtName",1,"form-label"],["type","text","id","txtName","formControlName","name","placeholder","Ingrese su numero o nombre aqu\xed",1,"form-control"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"mb-3"],["for","txtMoney",1,"form-label"],["type","number","id","txtMoney","formControlName","amount","placeholder","Ingrese el Monto aqu\xed",1,"form-control"],[1,"col-12"],["type","submit",1,"btn","btn-primary",3,"disabled"],["role","alert",1,"alert","alert-danger"],["role","alert",1,"alert","alert-success"]],template:function(t,e){1&t&&(r.ac(0,qw,14,4,"form",0),r.ac(1,Hw,2,0,"div",1)),2&t&&(r.Vb("ngIf",!e.saveSuccess),r.yb(1),r.Vb("ngIf",e.saveSuccess))},directives:[A,wo,Fi,Eo,yi,Ui,So,Hi],styles:[""]}),t})();const Bw=[{path:"",component:zw},{path:"admin",component:ci},{path:"**",component:zw}];let Gw=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[Jr.forRoot(Bw,{useHash:!0})],Jr]}),t})(),Ww=(()=>{class t{}return t.\u0275mod=r.Gb({type:t,bootstrap:[ai]}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[],imports:[[ht,Ao,xo,Gw,Lo.a.initializeApp(i),Lw]]}),t})();Object(r.S)(),ct().bootstrapModule(Ww).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return a});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class u extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function a(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);